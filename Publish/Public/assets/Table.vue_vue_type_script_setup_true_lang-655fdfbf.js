import{x as B,a as y,D as ae,o as r,g as d,d as e,t as x,H as M,I as R,u as i,i as T,v as A,F as $,y as V,z as L,C as K,Q as z,p as G,G as J,B as X,A as O,E as re,J as q,e as w,b as Y,w as U,l as Z,K as Q,k as he,m as _e,L as fe}from"./preset-8bad3459.js";import{_ as P}from"./Alert.vue_vue_type_style_index_0_scoped_49aa24f8_lang-fa8e3186.js";import{_ as ve}from"./Password-4a7f322d.js";import{_ as be}from"./Select.vue_vue_type_script_setup_true_lang-178dca9b.js";import{_ as ye}from"./Toggle-d49f93d2.js";import{I as le,u as oe,o as E,A as ee,s as ge,N as se,a as H}from"./keyboard-a31fff0c.js";const we={class:"form-control"},ke={class:"label"},xe={class:"block text-lg font-bold mb-2"},$e=["name","id","placeholder"],Ve={key:0,class:"invalid-feedback text-primary mt-2",role:"alert"},Se={key:1,class:"mt-3 bg-white rounded"},De=e("div",{class:"px-2 py-3 bg-success text-neutral rounded-t"},[e("strong",null,"Available Items")],-1),Ce=["onClick"],Oe={class:"inline-flex items-center space-x-2"},je=["src"],Me=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])],-1),Ue={key:2,class:"mt-3 bg-base-300 rounded"},Be=e("div",{class:"px-2 py-3 bg-error text-neutral rounded-t"},[e("strong",null,"Selected Items")],-1),Fe=["onClick"],Ie={class:"inline-flex items-center space-x-2"},Pe=["src"],Te=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])],-1),Ke=B({__name:"Image",props:{label:{},name:{},id:{},placeholder:{},modelValue:{},endpoint:{},loadData:{}},emits:["update:modelValue"],setup(c,{emit:b}){const u=c;let n=y(""),t=y({data:[]}),m=y(u.modelValue||[]),h=y(null);ae(()=>{m.value=u.loadData||[]});const _=b,f=()=>{L.post(u.endpoint,{search:n.value}).then(a=>{t.value=a.data}).catch(a=>{h.value=a.message})},s=a=>{m.value.find(o=>o.id===a.id)||(m.value.push(a),_("update:modelValue",m.value)),t.value={data:[]}},l=a=>{m.value.splice(a,1),_("update:modelValue",m.value)};return(a,o)=>(r(),d("div",we,[e("label",ke,[e("span",xe,x(u.label),1)]),M(e("input",{class:"input input-primary input-bordered",name:u.name,id:u.id,placeholder:u.placeholder,"onUpdate:modelValue":o[0]||(o[0]=p=>T(n)?n.value=p:n=p),autocomplete:"off",onKeyup:f},null,40,$e),[[R,i(n)]]),i(h)?(r(),d("span",Ve,[e("strong",null,x(i(h)),1)])):A("",!0),i(t).data?(r(),d("div",Se,[De,(r(!0),d($,null,V(i(t).data,(p,v)=>(r(),d("div",{class:"flex justify-between items-center border-b border-slate-200 py-3 px-2 border-l-4 border-l-transparent hover:rounded text-neutral hover:bg-green-700 hover:text-white",key:p.id,onClick:g=>s(p)},[e("div",Oe,[e("div",null,[e("img",{src:p.url.default,alt:"",class:"h-10 w-10 flex-shrink-0 rounded-full"},null,8,je)]),e("div",null,[e("strong",null,x(p.name),1)])]),Me],8,Ce))),128))])):A("",!0),i(m).length>0?(r(),d("div",Ue,[Be,(r(!0),d($,null,V(i(m),(p,v)=>(r(),d("div",{class:"flex justify-between items-center border-b border-slate-200 text-neutral-content py-3 px-2 border-l-4 border-l-transparent hover:rounded hover:bg-red-700 hover:text-white",key:p.id,onClick:g=>l(v)},[e("div",Ie,[e("div",null,[e("img",{src:p.url.default,alt:"",class:"h-10 w-10 flex-shrink-0 rounded-full"},null,8,Pe)]),e("div",null,[e("strong",null,x(p.name),1)])]),Te],8,Fe))),128))])):A("",!0)]))}}),Ee={class:"form-control"},Le={class:"label"},He={class:"block text-lg font-bold mb-2"},Ae=["placeholder"],Ne={class:"invalid-feedback text-primary",role:"alert"},We={key:0,class:"mt-3 bg-white rounded"},Re=e("div",{class:"px-2 py-3 bg-green-200 text-black rounded-t"},[e("strong",null,"Available Items")],-1),qe=["onClick"],ze={class:"inline-flex items-center space-x-2"},Qe=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])],-1),Ge={class:"mt-3 bg-white rounded"},Je=["onClick"],Xe={class:"inline-flex items-center space-x-2"},Ye=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])],-1),ne={__name:"TextMultipleSelector",props:{label:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:String,default:""},model:{type:String,default:""},columns:{type:Object,default:null},endpoint:{type:String,default:""},loadData:{type:Object,default:null},singleMode:{type:Boolean,default:!1},displayKey:{type:String,default:"name"}},emits:["update:modelValue"],setup(c,{emit:b}){let u=y(null);K(()=>{var a;return(a=z().props)==null?void 0:a.errors},a=>{z().props.errors[n.name]&&(u.value=z().props.errors[n.name])});const n=c,t=b;let m=y(""),h=y("");const _=async()=>{L.post(n.endpoint,{search:m.value,model:n.model,columns:n.columns}).then(function(a){h.value=a.data}).catch(function(a){for(const[o,p]of Object.entries(a.response.data.errors))message.error(p[0])})};let f=y([]);const s=async a=>{n.singleMode&&(f.value=[]),f.value.indexOf(a)===-1&&f.value.push({id:a.id,[n.displayKey]:a[n.displayKey]}),h.value=[],t("update:modelValue",f.value)},l=async a=>{f.value.splice(a,1),t("update:modelValue",f.value)};return G(()=>{n.loadData&&(n.singleMode?f.value=[n.loadData]:f.value=n.loadData)}),(a,o)=>(r(),d("div",Ee,[e("label",Le,[e("span",He,x(n.label),1)]),M(e("input",{class:"input input-primary input-bordered",name:"{{ props.name }}",id:"{{ props.id }}",placeholder:n.placeholder,autocomplete:"off","onUpdate:modelValue":o[0]||(o[0]=p=>T(m)?m.value=p:m=p),onKeyup:_},null,40,Ae),[[R,i(m)]]),e("span",Ne,[e("strong",null,x(i(u)),1)]),i(h).data?(r(),d("div",We,[Re,(r(!0),d($,null,V(i(h).data,(p,v)=>(r(),d("div",{class:"flex justify-between items-center border-b border-slate-200 py-3 px-2 border-l-4 border-l-transparent hover:rounded text-black hover:bg-green-700 hover:text-white",key:p.id,onClick:g=>s(p)},[e("div",ze,[e("div",null,[e("strong",null,x(p[n.displayKey]),1)])]),Qe],8,qe))),128))])):A("",!0),e("div",Ge,[(r(!0),d($,null,V(i(f),(p,v)=>(r(),d("div",{class:"flex justify-between items-center border-b border-slate-200 text-black py-3 px-2 border-l-4 border-l-transparent hover:rounded hover:bg-red-700 hover:text-white",key:p.id,onClick:g=>l(v)},[e("div",Xe,[e("div",null,[e("strong",null,x(p[n.displayKey]),1)])]),Ye],8,Je))),128))])]))}};let de=Symbol("Context");var N=(c=>(c[c.Open=1]="Open",c[c.Closed=2]="Closed",c[c.Closing=4]="Closing",c[c.Opening=8]="Opening",c))(N||{});function Ze(){return J(de,null)}function et(c){X(de,c)}var tt=(c=>(c[c.Open=0]="Open",c[c.Closed=1]="Closed",c))(tt||{});let ie=Symbol("DisclosureContext");function te(c){let b=J(ie,null);if(b===null){let u=new Error(`<${c} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,te),u}return b}let ce=Symbol("DisclosurePanelContext");function lt(){return J(ce,null)}let ue=B({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(c,{slots:b,attrs:u}){let n=y(c.defaultOpen?0:1),t=y(null),m=y(null),h={buttonId:y(`headlessui-disclosure-button-${le()}`),panelId:y(`headlessui-disclosure-panel-${le()}`),disclosureState:n,panel:t,button:m,toggleDisclosure(){n.value=oe(n.value,{0:1,1:0})},closeDisclosure(){n.value!==1&&(n.value=1)},close(_){h.closeDisclosure();let f=(()=>_?_ instanceof HTMLElement?_:_.value instanceof HTMLElement?E(_):E(h.button):E(h.button))();f==null||f.focus()}};return X(ie,h),et(O(()=>oe(n.value,{0:N.Open,1:N.Closed}))),()=>{let{defaultOpen:_,...f}=c,s={open:n.value===0,close:h.close};return ee({theirProps:f,ourProps:{},slot:s,slots:b,attrs:u,name:"Disclosure"})}}}),pe=B({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(c,{attrs:b,slots:u,expose:n}){let t=te("DisclosureButton"),m=lt(),h=O(()=>m===null?!1:m.value===t.panelId.value);G(()=>{h.value||c.id!==null&&(t.buttonId.value=c.id)}),re(()=>{h.value||(t.buttonId.value=null)});let _=y(null);n({el:_,$el:_}),h.value||ae(()=>{t.button.value=_.value});let f=ge(O(()=>({as:c.as,type:b.type})),_);function s(){var o;c.disabled||(h.value?(t.toggleDisclosure(),(o=E(t.button))==null||o.focus()):t.toggleDisclosure())}function l(o){var p;if(!c.disabled)if(h.value)switch(o.key){case H.Space:case H.Enter:o.preventDefault(),o.stopPropagation(),t.toggleDisclosure(),(p=E(t.button))==null||p.focus();break}else switch(o.key){case H.Space:case H.Enter:o.preventDefault(),o.stopPropagation(),t.toggleDisclosure();break}}function a(o){switch(o.key){case H.Space:o.preventDefault();break}}return()=>{var o;let p={open:t.disclosureState.value===0},{id:v,...g}=c,j=h.value?{ref:_,type:f.value,onClick:s,onKeydown:l}:{id:(o=t.buttonId.value)!=null?o:v,ref:_,type:f.value,"aria-expanded":t.disclosureState.value===0,"aria-controls":t.disclosureState.value===0||E(t.panel)?t.panelId.value:void 0,disabled:c.disabled?!0:void 0,onClick:s,onKeydown:l,onKeyup:a};return ee({ourProps:j,theirProps:g,slot:p,attrs:b,slots:u,name:"DisclosureButton"})}}}),me=B({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(c,{attrs:b,slots:u,expose:n}){let t=te("DisclosurePanel");G(()=>{c.id!==null&&(t.panelId.value=c.id)}),re(()=>{t.panelId.value=null}),n({el:t.panel,$el:t.panel}),X(ce,t.panelId);let m=Ze(),h=O(()=>m!==null?(m.value&N.Open)===N.Open:t.disclosureState.value===0);return()=>{var _;let f={open:t.disclosureState.value===0,close:t.close},{id:s,...l}=c,a={id:(_=t.panelId.value)!=null?_:s,ref:t.panel};return ee({ourProps:a,theirProps:l,slot:f,attrs:b,slots:u,features:se.RenderStrategy|se.Static,visible:h.value,name:"DisclosurePanel"})}}});const ot=["for"],st=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),nt=[st],at=["id"],rt={class:"modal"},dt={class:"border border-error shadow-error shadow-lg modal-box w-11/12 max-w-5xl"},it={class:"modal-header"},ct={class:"text-xl font-bold"},ut=["for"],pt=e("div",{class:"p-2 bg-base-300 rounded-lg mt-3 text-center text-sm md:text-2xl"},[e("p",{class:"py-4"},"Are you sure you want to delete this item?")],-1),mt={class:"flex justify-end gap-2 pt-3"},ht=["for"],_t=["for"],ft=B({__name:"delete",props:{id:{type:Number,default:0},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onDelete"],setup(c,{emit:b}){const u=q(),n=c,t=b,m=async()=>{L.post(n.endpoint,{model:n.model,id:n.id,permission:n.permission}).then(function(h){u.success(h.data.message),t("onDelete")}).catch(function(h){for(const[_,f]of Object.entries(h.response.data.errors))u.error(f[0])})};return(h,_)=>(r(),d($,null,[e("label",{for:"my-modal-delete-"+n.id,class:"btn btn-error modal-button"},nt,8,ot),e("input",{type:"checkbox",id:"my-modal-delete-"+n.id,class:"modal-toggle"},null,8,at),e("div",rt,[e("div",dt,[e("div",it,[e("h2",ct,"Delete Item #"+x(n.id),1),e("label",{for:"my-modal-delete-"+n.id,class:"btn btn-sm btn-circle absolute right-2 top-2"},"✕",8,ut)]),pt,e("div",mt,[e("label",{for:"my-modal-delete-"+n.id,class:"btn btn-success font-bold text-lg text-white"},"Close!",8,ht),e("label",{for:"my-modal-delete-"+n.id,onClick:m,class:"btn btn-error font-bold text-lg text-white"},"Delete",8,_t)])])])],64))}}),vt=c=>{const b=c.split("/");return new Date(b[2]+"/"+b[1]+"/"+b[0]).toISOString().split("T")[0]},bt=c=>{const b=c.split("/");return new Date(b[2]+"/"+b[1]+"/"+b[0]).toISOString().substr(0,16)},yt=c=>c?c.toString():"",gt={key:0},wt={key:1},kt={key:2},xt={key:3},$t={key:4},Vt={key:5},St={key:6},Dt={key:7},Ct={key:8},Ot={key:9},jt={key:10},Mt={key:11},Ut={class:"form-control mt-1"},Bt={class:"label"},Ft={class:"label-text"},It=["onKeyup","onUpdate:modelValue"],Pt={class:"flex justify-center bg-base-100 rounded mt-5"},Tt=["innerHTML"],Kt={key:12},W={__name:"formbuilder",props:{columns:{type:Array,default:()=>[]},modelValue:{type:Object,default:()=>[]},editMode:{type:String,default:"false"}},emits:["onFormUpdate"],setup(c,{emit:b}){const u=c,n=b;let t=y([]);(()=>{t.value=[];for(const[f,s]of Object.entries(u.columns))if(u.editMode=="false"){if(s.canCreate){let l="";s.type=="toogle"&&(l=!1),t.value.push({key:s.key,label:s.label,type:s.type,nullable:s==null?void 0:s.nullable,unique:s==null?void 0:s.unique,endpoint:s==null?void 0:s.endpoint,displayKey:s==null?void 0:s.displayKey,columns:s==null?void 0:s.columns,model:s==null?void 0:s.model,singleSearch:s==null?void 0:s.singleSearch,relation:s==null?void 0:s.relation,value:l,select_options:s==null?void 0:s.select_options})}}else if(s.canEdit){let l=null;switch(s.type){case"date":l=vt(u.modelValue[s.key]);break;case"timestamp":l=bt(u.modelValue[s.key]);break;case"media":l=u.modelValue[s.key];break;case"model_search":l=u.modelValue[s.key];break;case"pivot_model":l=u.modelValue[s.key];break;default:l=yt(u.modelValue[s.key]);break}t.value.push({key:s.key,label:s.label,type:s.type,nullable:s==null?void 0:s.nullable,displayKey:s==null?void 0:s.displayKey,unique:s==null?void 0:s.unique,value:l,endpoint:s==null?void 0:s.endpoint,columns:s==null?void 0:s.columns,model:s==null?void 0:s.model,singleSearch:s==null?void 0:s.singleSearch,relation:s==null?void 0:s.relation,select_options:s==null?void 0:s.select_options})}u.editMode=="true"&&n("onFormUpdate",t.value)})();let h=y(null);K(()=>t.value,()=>{clearTimeout(h.value),h.value=setTimeout(function(){n("onFormUpdate",t.value)},500)},{deep:!0});const _=async(f,s,l)=>{if(l=="name"||l=="title"){const a=t.value.findIndex(o=>o.key=="slug");t.value[a]&&(t.value[a].value=f.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))}};return(f,s)=>(r(!0),d($,null,V(i(t),(l,a)=>(r(),d("div",{key:a},[l.type=="text"?(r(),d("div",gt,[w(i(P),{type:"text",modelValue:i(t)[a].value,"onUpdate:modelValue":o=>i(t)[a].value=o,label:l.label,onKeyup:o=>_(o.target.value,l.type,l.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):l.type=="password"?(r(),d("div",wt,[w(i(ve),{modelValue:i(t)[a].value,"onUpdate:modelValue":o=>i(t)[a].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="email"?(r(),d("div",kt,[w(i(P),{type:"email",modelValue:i(t)[a].value,"onUpdate:modelValue":o=>i(t)[a].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="date"?(r(),d("div",xt,[w(i(P),{type:"date",modelValue:i(t)[a].value,"onUpdate:modelValue":o=>i(t)[a].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="timestamp"?(r(),d("div",$t,[w(i(P),{type:"datetime-local",modelValue:i(t)[a].value,"onUpdate:modelValue":o=>i(t)[a].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="slug"?(r(),d("div",Vt,[w(i(P),{type:"text",modelValue:i(t)[a].value,"onUpdate:modelValue":o=>i(t)[a].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="media"?(r(),d("div",St,[w(i(Ke),{label:"image",placeholder:"search",modelValue:i(t)[a].value,"onUpdate:modelValue":o=>i(t)[a].value=o,loadData:i(t)[a].value,endpoint:l.endpoint},null,8,["modelValue","onUpdate:modelValue","loadData","endpoint"])])):l.type=="number"?(r(),d("div",Dt,[w(i(P),{type:"number",modelValue:i(t)[a].value,"onUpdate:modelValue":o=>i(t)[a].value=o,label:l.label,onKeyup:o=>_(o.target.value,l.type,l.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):l.type=="model_search"?(r(),d("div",Ct,[w(i(ne),{label:l.label,placeholder:"search",model:l.model,columns:l.columns,singleMode:l.singleSearch,modelValue:i(t)[a].value,"onUpdate:modelValue":o=>i(t)[a].value=o,loadData:i(t)[a].value,endpoint:l.endpoint,displayKey:l.displayKey},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey"])])):l.type=="pivot_model"?(r(),d("div",Ot,[w(i(ne),{label:l.label,placeholder:"search",model:l.model,columns:l.columns,singleMode:l.singleSearch,modelValue:i(t)[a].value,"onUpdate:modelValue":o=>i(t)[a].value=o,loadData:i(t)[a].value,endpoint:l.endpoint,displayKey:l.displayKey},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey"])])):l.type=="toogle"?(r(),d("div",jt,[w(i(ye),{modelValue:i(t)[a].value,"onUpdate:modelValue":o=>i(t)[a].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="icon"?(r(),d("div",Mt,[e("label",Ut,[e("div",Bt,[e("span",Ft,x(l.label),1)]),M(e("textarea",{class:"textarea textarea-primary h-24",onKeyup:o=>_(o.target.value,l.type,l.key),"onUpdate:modelValue":o=>i(t)[a].value=o,placeholder:"Bio"},null,40,It),[[R,i(t)[a].value]])]),e("div",Pt,[e("div",{class:"flex p-10 w-52",innerHTML:i(t)[a].value},null,8,Tt)])])):l.type=="select"?(r(),d("div",Kt,[w(i(be),{modelValue:i(t)[a].value,"onUpdate:modelValue":o=>i(t)[a].value=o,label:l.label,options:l.select_options},null,8,["modelValue","onUpdate:modelValue","label","options"])])):A("",!0)]))),128))}},Et=e("label",{for:"my-modal-5",class:"btn btn-primary modal-button"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})])],-1),Lt=e("input",{type:"checkbox",id:"my-modal-5",class:"modal-toggle"},null,-1),Ht={class:"modal text-left"},At={key:0,class:"modal-box w-11/12 max-w-5xl border border-primary shadow-primary shadow-2xl"},Nt=e("div",{class:"modal-header"},[e("h3",{class:"font-bold text-lg"},"Edit"),e("label",{for:"my-modal-5",class:"btn btn-sm btn-circle absolute right-2 top-2"},"✕")],-1),Wt={class:"w-full mt-2"},Rt={class:"w-full rounded-lg bg-base-300 p-2"},qt={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},zt=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"},null,-1),Qt=[zt],Gt={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Jt=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"},null,-1),Xt=[Jt],Yt={class:"w-full bg-base-300 p-6"},Zt=e("label",{for:"my-modal-5",class:"btn btn-error font-bold text-lg text-white"},"Close",-1),el={key:1,class:"modal-box w-11/12 max-w-5xl"},tl=Z('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title">The create method has been disable</h2><p>Try to contact the administrator </p></div></div>',1),ll=[tl],ol={__name:"create",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onCreate"],setup(c,{emit:b}){const u=q(),n=c,t=O(()=>n.columns.filter(l=>l.canCreate).length>0),m=O(()=>{const l=n.columns.filter(g=>g.section),a=n.columns.filter(g=>!g.section),o=l.map(g=>g.section),p=[...new Set(o)],v=[];return p.forEach(g=>{const j=l.filter(F=>F.section==g);v.push({section:g,fields:j})}),{sections:p,fields:a,sectionsWithFields:v}});let h=y(n.columns.filter(l=>l.canCreate));const _=async l=>{if(h.value.length>0)for(const[a,o]of Object.entries(l))for(const[p,v]of Object.entries(h.value))o.key==v.key&&(h.value[p]=o);else h.value=l},f=b,s=async()=>{L.post(n.endpoint,{model:n.model,data:h.value,permission:n.permission}).then(function(l){u.success(l.data.message),f("onCreate")}).catch(function(l){for(const[a,o]of Object.entries(l.response.data.errors))u.error(o[0])})};return(l,a)=>(r(),d($,null,[Et,Lt,e("div",Ht,[t.value?(r(),d("div",At,[Nt,e("div",Wt,[e("div",Rt,[(r(!0),d($,null,V(m.value.sectionsWithFields,(o,p)=>(r(),Y(i(ue),{as:"div",class:"mt-2",key:p},{default:U(({open:v})=>[w(i(pe),{class:"btn btn-primary w-full"},{default:U(()=>[e("span",null,x(o.section),1),v?(r(),d("svg",qt,Qt)):(r(),d("svg",Gt,Xt))]),_:2},1024),w(i(me),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:U(()=>[w(W,{columns:o.fields,onOnFormUpdate:_},null,8,["columns"])]),_:2},1024)]),_:2},1024))),128))])]),e("div",Yt,[w(W,{columns:m.value.fields,onOnFormUpdate:_},null,8,["columns"])]),e("div",{class:"flex justify-end gap-2 pt-3"},[Zt,e("label",{for:"my-modal-5",class:"btn btn-success font-bold text-lg text-white",onClick:s},"Create")])])):(r(),d("div",el,ll))])],64))}},sl=["for"],nl=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),al=[nl],rl=["id"],dl={class:"modal"},il={key:0,class:"modal-box w-11/12 max-w-5xl border border-info shadow-lg shadow-info"},cl={class:"modal-header"},ul=e("h3",{class:"font-bold text-lg"},"Edit",-1),pl=["for"],ml={class:"w-full mt-2"},hl={class:"w-full rounded-lg bg-base-300 p-2"},_l={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},fl=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"},null,-1),vl=[fl],bl={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},yl=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"},null,-1),gl=[yl],wl={class:"w-full bg-base-300 p-6"},kl={class:"flex justify-end gap-2 pt-3"},xl=["for"],$l=["for"],Vl={key:1,class:"modal-box w-11/12 max-w-5xl"},Sl=Z('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title">The edit method has been disable</h2><p>Try to contact the administrator </p></div></div>',1),Dl=[Sl],Cl=B({__name:"edit",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},id:{type:Number,default:0},modelValue:{type:Object,default:()=>[]},permission:{type:String,default:null}},emits:["onEdit"],setup(c,{emit:b}){const u=q(),n=c,t=O(()=>n.columns.filter(l=>l.canEdit).length>0),m=O(()=>{const l=n.columns.filter(g=>g.section),a=n.columns.filter(g=>!g.section),o=l.map(g=>g.section),p=[...new Set(o)],v=[];return p.forEach(g=>{const j=l.filter(F=>F.section==g);v.push({section:g,fields:j})}),{sections:p,fields:a,sectionsWithFields:v}});let h=y(n.columns.filter(l=>l.canEdit));const _=async l=>{if(h.value.length>0)for(const[a,o]of Object.entries(l))for(const[p,v]of Object.entries(h.value))o.key==v.key&&(h.value[p]=o);else h.value=l},f=b,s=async()=>{L.post(n.endpoint,{model:n.model,id:n.id,data:h.value,permission:n.permission}).then(function(l){u.success(l.data.message),f("onEdit")}).catch(function(l){for(const[a,o]of Object.entries(l.response.data.errors))u.error(o[0])})};return(l,a)=>(r(),d($,null,[e("label",{for:"edit-data-"+n.id,class:"btn btn-info modal-button"},al,8,sl),e("input",{type:"checkbox",id:"edit-data-"+n.id,class:"modal-toggle"},null,8,rl),e("div",dl,[t.value?(r(),d("div",il,[e("div",cl,[ul,e("label",{for:"edit-data-"+n.id,class:"btn btn-sm btn-circle absolute right-2 top-2"},"✕",8,pl)]),e("div",ml,[e("div",hl,[(r(!0),d($,null,V(m.value.sectionsWithFields,(o,p)=>(r(),Y(i(ue),{as:"div",class:"mt-2",key:p,defaultOpen:!0},{default:U(({open:v})=>[w(i(pe),{class:"btn btn-primary w-full"},{default:U(()=>[e("span",null,x(o.section),1),v?(r(),d("svg",_l,vl)):(r(),d("svg",bl,gl))]),_:2},1024),w(i(me),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:U(()=>[w(W,{columns:o.fields,onOnFormUpdate:_,editMode:"true",modelValue:n.modelValue},null,8,["columns","modelValue"])]),_:2},1024)]),_:2},1024))),128))])]),e("div",wl,[w(W,{columns:m.value.fields,onOnFormUpdate:_,editMode:"true",modelValue:n.modelValue},null,8,["columns","modelValue"])]),e("div",kl,[e("label",{for:"edit-data-"+n.id,class:"btn btn-error font-bold text-lg text-white"},"Close",8,xl),e("label",{for:"edit-data-"+n.id,class:"btn btn-info font-bold text-lg text-white",onClick:s},"Submit",8,$l)])])):(r(),d("div",Vl,Dl))])],64))}}),Ol={class:"flex flex-col gap-3"},jl={class:"flex justify-end flex-col md:flex-row gap-3 p-3"},Ml={class:"relative"},Ul=Z('<option disabled selected>Per page</option><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option>',5),Bl=[Ul],Fl={class:"relative"},Il=e("option",{disabled:"",selected:""},"Row",-1),Pl=["value"],Tl={class:"relative"},Kl=e("option",{disabled:"",selected:""},"Order by",-1),El=e("option",{value:"asc"},"Asc",-1),Ll=e("option",{value:"desc"},"Desc",-1),Hl=[Kl,El,Ll],Al={class:"join"},Nl=e("button",{class:"btn btn-primary join-item rounded-r-full"},"Search",-1),Wl={__name:"filter",props:{columns:{type:Array,default:()=>[]}},emits:["onPerPage","onOrderBy","onSearch","onFilter","onFilterReset"],setup(c,{emit:b}){const u=c,n=b;let t=y(10),m=y("id"),h=y("asc"),_=y(""),f=y([]);(async()=>{for(const[o,p]of Object.entries(u.columns))p.sortable&&(o==0&&(m.value=p.key),f.value.push({label:p.label,value:p.key}))})(),K(()=>t.value,o=>{n("onPerPage",o)}),K(()=>h.value,o=>{n("onOrderBy",o)}),K(()=>m.value,o=>{n("onFilter",o)});let l=y(null);K(()=>_.value,o=>{clearTimeout(l.value),l.value=setTimeout(function(){n("onSearch",o)},500)});const a=async()=>{t.value=10,m.value="id",h.value="asc",_.value=null,n("onFilterReset",[{perPage:t.value,filterBy:m.value,orderBy:h.value,search:_.value}])};return(o,p)=>(r(),d("div",Ol,[e("div",jl,[e("div",Ml,[M(e("select",{class:"select select-primary w-full","onUpdate:modelValue":p[0]||(p[0]=v=>T(t)?t.value=v:t=v)},Bl,512),[[Q,i(t)]])]),e("div",Fl,[M(e("select",{class:"select select-primary w-full","onUpdate:modelValue":p[1]||(p[1]=v=>T(m)?m.value=v:m=v),onChange:p[2]||(p[2]=(...v)=>o.filterChange&&o.filterChange(...v))},[Il,(r(!0),d($,null,V(i(f),(v,g)=>(r(),d("option",{key:g,value:v.value},x(v.label),9,Pl))),128))],544),[[Q,i(m)]])]),e("div",Tl,[M(e("select",{class:"select select-primary w-full","onUpdate:modelValue":p[3]||(p[3]=v=>T(h)?h.value=v:h=v)},Hl,512),[[Q,i(h)]])]),e("div",Al,[M(e("input",{class:"input input-bordered join-item","onUpdate:modelValue":p[4]||(p[4]=v=>T(_)?_.value=v:_=v),placeholder:"Email"},null,512),[[R,i(_)]]),Nl,e("button",{class:"btn btn-secondary join-item rounded-r-full",onClick:a},"Reset")])])]))}},Rl={class:"px-5 py-5 bg-base-200 border-t flex flex-col xs:flex-row items-center xs:justify-between"},ql={class:"xs:text-sm text-primary font-bold text-sm md:text-lg"},zl={class:"inline-flex mt-2 xs:mt-0"},Ql={class:"btn-group"},Gl=["onClick"],Jl=["innerHTML"],Xl={__name:"pagination",props:{paginationInfo:{type:Object,default:()=>[]}},emits:["onPagiation"],setup(c,{emit:b}){const u=b,n=async m=>{u("onPagiation",m)},t=c;return(m,h)=>(r(),d("div",Rl,[e("span",ql," Showing "+x(t.paginationInfo.currentPage)+" to "+x(t.paginationInfo.perPage)+" of "+x(t.paginationInfo.total)+" Entries ",1),e("div",zl,[e("div",Ql,[(r(!0),d($,null,V(t.paginationInfo.links,(_,f)=>(r(),d("button",{class:he(["btn btn-md",_.active?"btn-active":""]),key:f,onClick:s=>n(_.url)},[e("span",{innerHTML:_.label},null,8,Jl)],10,Gl))),128))])])]))}},Yl={key:0},Zl={class:"carousel rounded-box w-96"},eo={class:"carousel-item w-1/2"},to=["src"],lo={key:1},oo=["innerHTML"],so={key:1},no={key:0,class:"badge badge-success mt-3"},ao={key:1,class:"badge badge-error mt-3"},ro={key:2},io={class:"flex flex-col"},co=["innerHTML"],uo={__name:"tableDataDisplay",props:{tableData:{type:Object,default:()=>[]},columns:{type:Array,default:()=>[]}},setup(c){const b=c,u=O(()=>{let n=[];for(const[t,m]of Object.entries(b.columns))n.push({label:m.label,type:m.type,value:b.tableData[m.key]});return n});return(n,t)=>(r(!0),d($,null,V(u.value,(m,h)=>(r(),d("th",{key:h},[m.type==="media"?(r(),d("div",Yl,[e("div",Zl,[(r(!0),d($,null,V(m.value,(_,f)=>(r(),d("div",eo,[e("img",{src:_.url.default,class:"w-full"},null,8,to)]))),256))])])):(r(),d("div",lo,[m.type=="icon"?(r(),d("div",{key:0,innerHTML:m.value,class:"bg-base-100 rounded-lg flex justify-center"},null,8,oo)):m.type==="toogle"?(r(),d("div",so,[m.value==1?(r(),d("div",no,"Enable")):(r(),d("div",ao,"Disable"))])):m.type==="model_search"?(r(),d("div",ro,[e("div",io,[(r(!0),d($,null,V(m.value,(_,f)=>(r(),d("div",{class:"badge badge-primary mt-3",key:f},x(f)+" > "+x(_),1))),128))])])):(r(),d("div",{key:3,innerHTML:m.value},null,8,co))]))]))),128))}},po={class:"w-full"},mo={class:"relative flex flex-col min-w-0 break-words bg-base-300 w-full mb-6 shadow-lg rounded"},ho={class:"flex flex-wrap items-center"},_o={class:"relative w-full px-4 max-w-full flex-grow flex-1"},fo={class:"text-3xl font-extrabold text-base-content"},vo={class:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"},bo={class:"overflow-x-auto p-6"},yo={class:"overflow-x-auto bg-base-100"},go={class:"table table-compact w-full"},wo={class:"font-bold bg-primary text-neutral"},ko=e("th",null,"Action",-1),xo={class:"flex justify-start overflow-x-hidden gap-2"},$o={key:1},Vo=["for"],So=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),Do=[So],Co={class:"font-bold bg-primary text-neutral"},Oo=e("th",null,"Action",-1),Po=B({__name:"Table",props:{tableTitle:{type:String,default:"Table name"},columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},endpointDelete:{type:String,default:""},endpointCreate:{type:String,default:""},endpointEdit:{type:String,default:""},permission:{type:String,default:null},custom_edit_route:{type:String,default:null}},setup(c){const b=q(),u=c,n=async k=>{D(k)};let t=y(10);const m=async k=>{t.value=k,D()};let h=y("id");const _=async k=>{h.value=k,D()};let f=y(null);const s=async k=>{f.value=k,D()};let l=y(null);const a=async k=>{k&&k.length>3&&(l.value=k,D())},o=async()=>{D()},p=async()=>{D()},v=async()=>{D()},g=async k=>{t.value=k.perPage,h.value=k.filterBy,f.value=k.orderBy,l.value=k.search,D()};let j=y([]),F=y([]);const D=async(k=null)=>{k===null&&(k=u.endpoint),L.post(k,{model:u.model,columns:u.columns,perPage:t.value,search:l.value,sort:h.value,direction:f.value,permission:u.permission}).then(function(C){j.value=C.data.data,F.value={currentPage:C.data.current_page,lastPage:C.data.last_page,perPage:C.data.per_page,total:C.data.total,links:C.data.links}}).catch(function(C){for(const[S,I]of Object.entries(C.response.data.errors))b.error(I[0])})};return D(),(k,C)=>(r(),d("div",po,[e("div",mo,[e("div",ho,[e("div",_o,[e("h1",fo,x(u.tableTitle),1)]),e("div",vo,[_e(k.$slots,"new",{},()=>[w(ol,{columns:u.columns,endpoint:u.endpointCreate,model:u.model,permission:u.permission,onOnCreate:p},null,8,["columns","endpoint","model","permission"])])])]),w(Wl,{onOnPerPage:m,onOnOrderBy:s,onOnSearch:a,onOnFilter:_,onOnFilterReset:g,columns:u.columns},null,8,["columns"]),e("div",bo,[e("div",yo,[e("table",go,[e("thead",wo,[e("tr",null,[(r(!0),d($,null,V(c.columns,(S,I)=>(r(),d("th",{key:I},x(S.label),1))),128)),ko])]),e("tbody",null,[(r(!0),d($,null,V(i(j),(S,I)=>(r(),d("tr",{key:S,class:"bg-base-300 hover:bg-black hover:text-neutral-content"},[w(uo,{tableData:S,columns:c.columns},null,8,["tableData","columns"]),e("th",null,[e("div",xo,[w(ft,{id:S.id,endpoint:u.endpointDelete,model:u.model,permission:u.permission,onOnDelete:o},null,8,["id","endpoint","model","permission"]),c.custom_edit_route?(r(),d("div",$o,[w(i(fe),{href:c.custom_edit_route+S.id},{default:U(()=>[e("label",{for:"edit-data-"+S.id,class:"btn btn-info modal-button"},Do,8,Vo)]),_:2},1032,["href"])])):(r(),Y(Cl,{key:0,columns:u.columns,endpoint:u.endpointEdit,model:u.model,modelValue:S,id:S.id,permission:u.permission,onOnEdit:v},null,8,["columns","endpoint","model","modelValue","id","permission"]))])])]))),128))]),e("tfoot",Co,[e("tr",null,[(r(!0),d($,null,V(c.columns,(S,I)=>(r(),d("th",{key:I},x(S.label),1))),128)),Oo])])])]),w(Xl,{onOnPagiation:n,paginationInfo:i(F)},null,8,["paginationInfo"])])])]))}});export{Po as _};
