import{a as c,bv as S,bK as v,p as M,o,g as n,d as e,t as u,bB as B,br as K,u as d,i as j,F as b,B as y,v as C,A as V}from"./preset-b92b06ac.js";const D={class:"form-control"},I={class:"label"},L={class:"block text-lg font-bold mb-2"},O=["placeholder"],A={class:"invalid-feedback text-primary",role:"alert"},F={key:0,class:"mt-3 bg-white rounded"},N=e("div",{class:"px-2 py-3 bg-green-200 text-black rounded-t"},[e("strong",null,"Available Items")],-1),T=["onClick"],E={class:"inline-flex items-center space-x-2"},H=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])],-1),R={class:"mt-3 bg-white rounded"},U=["onClick"],$={class:"inline-flex items-center space-x-2"},q=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])],-1),G={__name:"TextMultipleSelector",props:{label:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:String,default:""},model:{type:String,default:""},columns:{type:Object,default:null},endpoint:{type:String,default:""},loadData:{type:Object,default:null},singleMode:{type:Boolean,default:!1},displayKey:{type:String,default:"name"}},emits:["update:modelValue"],setup(g,{emit:m}){const t=g;let h=c(null);S(()=>{var l;return(l=v().props)==null?void 0:l.errors},l=>{v().props.errors[t.name]&&(h.value=v().props.errors[t.name])});let r=c(""),i=c("");const _=async()=>{V.post(t.endpoint,{search:r.value,model:t.model,columns:t.columns}).then(function(l){i.value=l.data}).catch(function(l){for(const[p,s]of Object.entries(l.response.data.errors))message.error(s[0])})};let a=c([]);const x=async l=>{t.singleMode&&(a.value=[]),a.value.indexOf(l)===-1&&a.value.push({id:l.id,[t.displayKey]:l[t.displayKey]}),i.value=[],m("update:modelValue",a.value)},k=async l=>{a.value.splice(l,1),m("update:modelValue",a.value)};return M(()=>{t.loadData&&(t.singleMode?a.value=[t.loadData]:a.value=t.loadData)}),(l,p)=>(o(),n("div",D,[e("label",I,[e("span",L,u(t.label),1)]),B(e("input",{class:"input input-primary input-bordered",name:"{{ props.name }}",id:"{{ props.id }}",placeholder:t.placeholder,autocomplete:"off","onUpdate:modelValue":p[0]||(p[0]=s=>j(r)?r.value=s:r=s),onKeyup:_},null,40,O),[[K,d(r)]]),e("span",A,[e("strong",null,u(d(h)),1)]),d(i).data?(o(),n("div",F,[N,(o(!0),n(b,null,y(d(i).data,(s,f)=>(o(),n("div",{class:"flex justify-between items-center border-b border-slate-200 py-3 px-2 border-l-4 border-l-transparent hover:rounded text-black hover:bg-green-700 hover:text-white",key:s.id,onClick:w=>x(s)},[e("div",E,[e("div",null,[e("strong",null,u(s[t.displayKey]),1)])]),H],8,T))),128))])):C("",!0),e("div",R,[(o(!0),n(b,null,y(d(a),(s,f)=>(o(),n("div",{class:"flex justify-between items-center border-b border-slate-200 text-black py-3 px-2 border-l-4 border-l-transparent hover:rounded hover:bg-red-700 hover:text-white",key:s.id,onClick:w=>k(f)},[e("div",$,[e("div",null,[e("strong",null,u(s[t.displayKey]),1)])]),q],8,U))),128))])]))}};export{G as _};
