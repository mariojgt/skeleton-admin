import{a as y,G as ae,o as r,g as d,d as e,t as k,J as F,L as N,u as c,i as P,y as T,F as x,x as $,C as E,v as I,K as R,p as z,I as G,E as J,D as X,A as D,H as re,M as W,f as g,b as Y,w as U,l as Q,N as q,k as ve,m as he,P as _e}from"./preset-2a80df8a.js";import{_ as j}from"./Input-eca47ed3.js";import{_ as fe}from"./Password-c5f2a41e.js";import{_ as ye}from"./Toogle-b85e6510.js";import{t as le,u as oe,o as K,H as Z,b as be,N as se,a as L}from"./use-resolve-button-type-7919e5eb.js";const ge={class:"form-control"},we={class:"label"},ke={class:"label-text"},xe=["name","id","placeholder"],$e={key:0,class:"invalid-feedback text-primary",role:"alert"},Ve={key:1,class:"mt-3 bg-white rounded"},Se=e("div",{class:"px-2 py-3 bg-green-200 text-black rounded-t"},[e("strong",null,"Available Items")],-1),Ce=["onClick"],De={class:"inline-flex items-center space-x-2"},Oe=["src"],Me=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])],-1),je={key:2,class:"mt-3 bg-white rounded"},Ue=e("div",{class:"px-2 py-3 bg-red-200 text-black rounded-t"},[e("strong",null,"Selected Items")],-1),Be=["onClick"],Fe={class:"inline-flex items-center space-x-2"},Pe=["src"],Ie=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])],-1),Te={__name:"Image",props:{label:String,name:String,id:String,placeholder:String,modelValue:Array,endpoint:String,loadData:Object},emits:["update:modelValue"],setup(u,{emit:m}){const o=u;let s=y(""),p=y({}),v=y(o.modelValue||[]),h=y(null);ae(()=>{v.value=o.loadData||[]});const _=()=>{E.post(o.endpoint,{search:s.value}).then(a=>{p.value=a.data}).catch(a=>{h.value=a.message})},l=a=>{v.value.find(n=>n.id===a.id)||(v.value.push(a),m("update:modelValue",v.value)),p.value={}},t=a=>{v.value.splice(a,1),m("update:modelValue",v.value)};return(a,n)=>(r(),d("div",ge,[e("label",we,[e("span",ke,k(o.label),1)]),F(e("input",{class:"input input-primary input-bordered",name:o.name,id:o.id,placeholder:o.placeholder,"onUpdate:modelValue":n[0]||(n[0]=i=>P(s)?s.value=i:s=i),autocomplete:"off",onKeyup:_},null,40,xe),[[N,c(s)]]),c(h)?(r(),d("span",$e,[e("strong",null,k(c(h)),1)])):T("",!0),c(p).data?(r(),d("div",Ve,[Se,(r(!0),d(x,null,$(c(p).data,(i,f)=>(r(),d("div",{class:"flex justify-between items-center border-b border-slate-200 py-3 px-2 border-l-4 border-l-transparent hover:rounded text-black hover:bg-green-700 hover:text-white",key:i.id,onClick:b=>l(i)},[e("div",De,[e("div",null,[e("img",{src:i.url.default,alt:"",class:"h-10 w-10 flex-shrink-0 rounded-full"},null,8,Oe)]),e("div",null,[e("strong",null,k(i.name),1)])]),Me],8,Ce))),128))])):T("",!0),c(v).length>0?(r(),d("div",je,[Ue,(r(!0),d(x,null,$(c(v),(i,f)=>(r(),d("div",{class:"flex justify-between items-center border-b border-slate-200 text-black py-3 px-2 border-l-4 border-l-transparent hover:rounded hover:bg-red-700 hover:text-white",key:i.id,onClick:b=>t(f)},[e("div",Fe,[e("div",null,[e("img",{src:i.url.default,alt:"",class:"h-10 w-10 flex-shrink-0 rounded-full"},null,8,Pe)]),e("div",null,[e("strong",null,k(i.name),1)])]),Ie],8,Be))),128))])):T("",!0)]))}},Ke={class:"form-control"},Ee={class:"label"},Le={class:"label-text"},He=["placeholder"],Ae={class:"invalid-feedback text-primary",role:"alert"},We={key:0,class:"mt-3 bg-white rounded"},Re=e("div",{class:"px-2 py-3 bg-green-200 text-black rounded-t"},[e("strong",null,"Available Items")],-1),qe=["onClick"],Ne={class:"inline-flex items-center space-x-2"},ze=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])],-1),Ge={class:"mt-3 bg-white rounded"},Je=["onClick"],Xe={class:"inline-flex items-center space-x-2"},Ye=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])],-1),ne={__name:"TextMultipleSelector",props:{label:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:String,default:""},model:{type:String,default:""},columns:{type:Object,default:null},endpoint:{type:String,default:""},loadData:{type:Object,default:null},singleMode:{type:Boolean,default:!1},displayKey:{type:String,default:"name"}},emits:["update:modelValue"],setup(u,{emit:m}){const o=u;let s=y(null);I(()=>{var a;return(a=R().props)==null?void 0:a.errors},a=>{R().props.errors[o.name]&&(s.value=R().props.errors[o.name])});let p=y(""),v=y("");const h=async()=>{E.post(o.endpoint,{search:p.value,model:o.model,columns:o.columns}).then(function(a){v.value=a.data}).catch(function(a){for(const[n,i]of Object.entries(a.response.data.errors))message.error(i[0])})};let _=y([]);const l=async a=>{o.singleMode&&(_.value=[]),_.value.indexOf(a)===-1&&_.value.push({id:a.id,[o.displayKey]:a[o.displayKey]}),v.value=[],m("update:modelValue",_.value)},t=async a=>{_.value.splice(a,1),m("update:modelValue",_.value)};return z(()=>{o.loadData&&(o.singleMode?_.value=[o.loadData]:_.value=o.loadData)}),(a,n)=>(r(),d("div",Ke,[e("label",Ee,[e("span",Le,k(o.label),1)]),F(e("input",{class:"input input-primary input-bordered",name:"{{ props.name }}",id:"{{ props.id }}",placeholder:o.placeholder,autocomplete:"off","onUpdate:modelValue":n[0]||(n[0]=i=>P(p)?p.value=i:p=i),onKeyup:h},null,40,He),[[N,c(p)]]),e("span",Ae,[e("strong",null,k(c(s)),1)]),c(v).data?(r(),d("div",We,[Re,(r(!0),d(x,null,$(c(v).data,(i,f)=>(r(),d("div",{class:"flex justify-between items-center border-b border-slate-200 py-3 px-2 border-l-4 border-l-transparent hover:rounded text-black hover:bg-green-700 hover:text-white",key:i.id,onClick:b=>l(i)},[e("div",Ne,[e("div",null,[e("strong",null,k(i[o.displayKey]),1)])]),ze],8,qe))),128))])):T("",!0),e("div",Ge,[(r(!0),d(x,null,$(c(_),(i,f)=>(r(),d("div",{class:"flex justify-between items-center border-b border-slate-200 text-black py-3 px-2 border-l-4 border-l-transparent hover:rounded hover:bg-red-700 hover:text-white",key:i.id,onClick:b=>t(f)},[e("div",Xe,[e("div",null,[e("strong",null,k(i[o.displayKey]),1)])]),Ye],8,Je))),128))])]))}};let ie=Symbol("Context");var H=(u=>(u[u.Open=1]="Open",u[u.Closed=2]="Closed",u[u.Closing=4]="Closing",u[u.Opening=8]="Opening",u))(H||{});function Qe(){return G(ie,null)}function Ze(u){J(ie,u)}var et=(u=>(u[u.Open=0]="Open",u[u.Closed=1]="Closed",u))(et||{});let de=Symbol("DisclosureContext");function ee(u){let m=G(de,null);if(m===null){let o=new Error(`<${u} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,ee),o}return m}let ce=Symbol("DisclosurePanelContext");function tt(){return G(ce,null)}let ue=X({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(u,{slots:m,attrs:o}){let s=y(u.defaultOpen?0:1),p=y(null),v=y(null),h={buttonId:y(`headlessui-disclosure-button-${le()}`),panelId:y(`headlessui-disclosure-panel-${le()}`),disclosureState:s,panel:p,button:v,toggleDisclosure(){s.value=oe(s.value,{0:1,1:0})},closeDisclosure(){s.value!==1&&(s.value=1)},close(_){h.closeDisclosure();let l=(()=>_?_ instanceof HTMLElement?_:_.value instanceof HTMLElement?K(_):K(h.button):K(h.button))();l==null||l.focus()}};return J(de,h),Ze(D(()=>oe(s.value,{0:H.Open,1:H.Closed}))),()=>{let{defaultOpen:_,...l}=u,t={open:s.value===0,close:h.close};return Z({theirProps:l,ourProps:{},slot:t,slots:m,attrs:o,name:"Disclosure"})}}}),pe=X({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(u,{attrs:m,slots:o,expose:s}){let p=ee("DisclosureButton"),v=tt(),h=D(()=>v===null?!1:v.value===p.panelId.value);z(()=>{h.value||u.id!==null&&(p.buttonId.value=u.id)}),re(()=>{h.value||(p.buttonId.value=null)});let _=y(null);s({el:_,$el:_}),h.value||ae(()=>{p.button.value=_.value});let l=be(D(()=>({as:u.as,type:m.type})),_);function t(){var i;u.disabled||(h.value?(p.toggleDisclosure(),(i=K(p.button))==null||i.focus()):p.toggleDisclosure())}function a(i){var f;if(!u.disabled)if(h.value)switch(i.key){case L.Space:case L.Enter:i.preventDefault(),i.stopPropagation(),p.toggleDisclosure(),(f=K(p.button))==null||f.focus();break}else switch(i.key){case L.Space:case L.Enter:i.preventDefault(),i.stopPropagation(),p.toggleDisclosure();break}}function n(i){switch(i.key){case L.Space:i.preventDefault();break}}return()=>{var i;let f={open:p.disclosureState.value===0},{id:b,...M}=u,O=h.value?{ref:_,type:l.value,onClick:t,onKeydown:a}:{id:(i=p.buttonId.value)!=null?i:b,ref:_,type:l.value,"aria-expanded":p.disclosureState.value===0,"aria-controls":p.disclosureState.value===0||K(p.panel)?p.panelId.value:void 0,disabled:u.disabled?!0:void 0,onClick:t,onKeydown:a,onKeyup:n};return Z({ourProps:O,theirProps:M,slot:f,attrs:m,slots:o,name:"DisclosureButton"})}}}),me=X({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(u,{attrs:m,slots:o,expose:s}){let p=ee("DisclosurePanel");z(()=>{u.id!==null&&(p.panelId.value=u.id)}),re(()=>{p.panelId.value=null}),s({el:p.panel,$el:p.panel}),J(ce,p.panelId);let v=Qe(),h=D(()=>v!==null?(v.value&H.Open)===H.Open:p.disclosureState.value===0);return()=>{var _;let l={open:p.disclosureState.value===0,close:p.close},{id:t,...a}=u,n={id:(_=p.panelId.value)!=null?_:t,ref:p.panel};return Z({ourProps:n,theirProps:a,slot:l,attrs:m,slots:o,features:se.RenderStrategy|se.Static,visible:h.value,name:"DisclosurePanel"})}}});const lt=["for"],ot=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),st=[ot],nt=["id"],at={class:"modal"},rt={class:"modal-box w-11/12 max-w-5xl"},it=["for"],dt=e("h3",{class:"text-lg font-bold"},"This action cannot be undone.",-1),ct=e("p",{class:"py-4"},"Are you sure you want to delete this item?",-1),ut={class:"modal-action"},pt=["for"],mt=["for"],vt={__name:"delete",props:{id:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onDelete"],setup(u,{emit:m}){const o=u,s=W(),p=async()=>{E.post(o.endpoint,{model:o.model,id:o.id,permission:o.permission}).then(function(v){s.success(v.data.message),m("onDelete")}).catch(function(v){for(const[h,_]of Object.entries(v.response.data.errors))s.error(_[0])})};return(v,h)=>(r(),d(x,null,[e("label",{for:"my-modal-"+o.id,class:"btn btn-error modal-button"},st,8,lt),e("input",{type:"checkbox",id:"my-modal-"+o.id,class:"modal-toggle"},null,8,nt),e("div",at,[e("div",rt,[e("label",{for:"my-modal-"+o.id,class:"btn btn-sm btn-circle absolute right-2 top-2"},"✕",8,it),dt,ct,e("div",ut,[e("label",{for:"my-modal-"+o.id,class:"btn btn-success"},"Close!",8,pt),e("label",{for:"my-modal-"+o.id,onClick:p,class:"btn btn-error"},"Delete",8,mt)])])])],64))}},ht=u=>{const m=u.split("/");return new Date(m[2]+"/"+m[1]+"/"+m[0]).toISOString().split("T")[0]},_t=u=>{const m=u.split("/");return new Date(m[2]+"/"+m[1]+"/"+m[0]).toISOString().substr(0,16)},ft=u=>u?u.toString():"",yt={key:0},bt={key:1},gt={key:2},wt={key:3},kt={key:4},xt={key:5},$t={key:6},Vt={key:7},St={key:8},Ct={key:9},Dt={key:10},Ot={key:11},Mt=["innerHTML"],A={__name:"formbuilder",props:{columns:{type:Array,default:()=>[]},modelValue:{type:Array,default:()=>[]},editMode:{type:String,default:"false"}},emits:["onFormUpdate"],setup(u,{emit:m}){const o=u;let s=y([]);(()=>{s.value=[];for(const[_,l]of Object.entries(o.columns))if(o.editMode=="false"){if(l.canCreate){let t="";l.type=="toogle"&&(t=!1),s.value.push({key:l.key,label:l.label,type:l.type,nullable:l==null?void 0:l.nullable,unique:l==null?void 0:l.unique,endpoint:l==null?void 0:l.endpoint,displayKey:l==null?void 0:l.displayKey,columns:l==null?void 0:l.columns,model:l==null?void 0:l.model,singleSearch:l==null?void 0:l.singleSearch,relation:l==null?void 0:l.relation,value:t})}}else if(l.canEdit){let t=null;switch(l.type){case"date":t=ht(o.modelValue[l.key]);break;case"timestamp":t=_t(o.modelValue[l.key]);break;case"media":t=o.modelValue[l.key];break;case"model_search":t=o.modelValue[l.key];break;case"pivot_model":t=o.modelValue[l.key];break;default:t=ft(o.modelValue[l.key]);break}s.value.push({key:l.key,label:l.label,type:l.type,nullable:l==null?void 0:l.nullable,displayKey:l==null?void 0:l.displayKey,unique:l==null?void 0:l.unique,value:t,endpoint:l==null?void 0:l.endpoint,columns:l==null?void 0:l.columns,model:l==null?void 0:l.model,singleSearch:l==null?void 0:l.singleSearch,relation:l==null?void 0:l.relation})}o.editMode=="true"&&m("onFormUpdate",s.value)})();let v=y(null);I(()=>s.value,()=>{clearTimeout(v.value),v.value=setTimeout(function(){m("onFormUpdate",s.value)},500)},{deep:!0});const h=async(_,l,t)=>{if(t=="name"||t=="title"){const a=s.value.findIndex(n=>n.key=="slug");s.value[a]&&(s.value[a].value=_.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))}};return(_,l)=>(r(!0),d(x,null,$(c(s),(t,a)=>(r(),d("div",{key:a},[t.type=="text"?(r(),d("div",yt,[g(c(j),{type:"text",modelValue:c(s)[a].value,"onUpdate:modelValue":n=>c(s)[a].value=n,label:t.label,onKeyup:n=>h(n.target.value,t.type,t.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):t.type=="password"?(r(),d("div",bt,[g(c(fe),{modelValue:c(s)[a].value,"onUpdate:modelValue":n=>c(s)[a].value=n,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"])])):t.type=="email"?(r(),d("div",gt,[g(c(j),{type:"email",modelValue:c(s)[a].value,"onUpdate:modelValue":n=>c(s)[a].value=n,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"])])):t.type=="date"?(r(),d("div",wt,[g(c(j),{type:"date",modelValue:c(s)[a].value,"onUpdate:modelValue":n=>c(s)[a].value=n,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"])])):t.type=="timestamp"?(r(),d("div",kt,[g(c(j),{type:"datetime-local",modelValue:c(s)[a].value,"onUpdate:modelValue":n=>c(s)[a].value=n,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"])])):t.type=="slug"?(r(),d("div",xt,[g(c(j),{type:"text",modelValue:c(s)[a].value,"onUpdate:modelValue":n=>c(s)[a].value=n,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"])])):t.type=="media"?(r(),d("div",$t,[g(c(Te),{label:"image",placeholder:"search",modelValue:c(s)[a].value,"onUpdate:modelValue":n=>c(s)[a].value=n,loadData:c(s)[a].value,endpoint:t.endpoint},null,8,["modelValue","onUpdate:modelValue","loadData","endpoint"])])):t.type=="number"?(r(),d("div",Vt,[g(c(j),{type:"number",modelValue:c(s)[a].value,"onUpdate:modelValue":n=>c(s)[a].value=n,label:t.label,onKeyup:n=>h(n.target.value,t.type,t.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):t.type=="model_search"?(r(),d("div",St,[g(c(ne),{label:t.label,placeholder:"search",model:t.model,columns:t.columns,singleMode:t.singleSearch,modelValue:c(s)[a].value,"onUpdate:modelValue":n=>c(s)[a].value=n,loadData:c(s)[a].value,endpoint:t.endpoint,displayKey:t.displayKey},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey"])])):t.type=="pivot_model"?(r(),d("div",Ct,[g(c(ne),{label:t.label,placeholder:"search",model:t.model,columns:t.columns,singleMode:t.singleSearch,modelValue:c(s)[a].value,"onUpdate:modelValue":n=>c(s)[a].value=n,loadData:c(s)[a].value,endpoint:t.endpoint,displayKey:t.displayKey},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey"])])):t.type=="toogle"?(r(),d("div",Dt,[g(c(ye),{modelValue:c(s)[a].value,"onUpdate:modelValue":n=>c(s)[a].value=n,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"])])):T("",!0),t.type=="icon"?(r(),d("div",Ot,[g(c(j),{type:"text",modelValue:c(s)[a].value,"onUpdate:modelValue":n=>c(s)[a].value=n,label:t.label,onKeyup:n=>h(n.target.value,t.type,t.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"]),e("div",{class:"bg-white flex justify-center p-10",innerHTML:c(s)[a].value},null,8,Mt)])):T("",!0)]))),128))}},jt=e("label",{for:"my-modal-5",class:"btn btn-primary modal-button"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})])],-1),Ut=e("input",{type:"checkbox",id:"my-modal-5",class:"modal-toggle"},null,-1),Bt={class:"modal text-center"},Ft={key:0,class:"modal-box w-11/12 max-w-5xl"},Pt=e("h3",{class:"font-bold text-lg"},"New",-1),It={class:"w-full"},Tt={class:"w-full bg-base-300 p-2"},Kt={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Et=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"},null,-1),Lt=[Et],Ht={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},At=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"},null,-1),Wt=[At],Rt={class:"w-full bg-base-300 p-6"},qt=e("label",{for:"my-modal-5",class:"btn btn-error"},"Close",-1),Nt={key:1,class:"modal-box w-11/12 max-w-5xl"},zt=Q('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title">The create method has been disable</h2><p>Try to contact the administrator </p></div></div>',1),Gt=[zt],Jt={__name:"create",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onCreate"],setup(u,{emit:m}){const o=u,s=W(),p=D(()=>o.columns.filter(t=>t.canCreate).length>0),v=D(()=>{const t=o.columns.filter(b=>b.section),a=o.columns.filter(b=>!b.section),n=t.map(b=>b.section),i=[...new Set(n)],f=[];return i.forEach(b=>{const M=t.filter(O=>O.section==b);f.push({section:b,fields:M})}),{sections:i,fields:a,sectionsWithFields:f}});let h=y(o.columns.filter(t=>t.canCreate));const _=async t=>{if(h.value.length>0)for(const[a,n]of Object.entries(t))for(const[i,f]of Object.entries(h.value))n.key==f.key&&(h.value[i]=n);else h.value=t},l=async()=>{E.post(o.endpoint,{model:o.model,data:h.value,permission:o.permission}).then(function(t){s.success(t.data.message),m("onCreate")}).catch(function(t){for(const[a,n]of Object.entries(t.response.data.errors))s.error(n[0])})};return(t,a)=>(r(),d(x,null,[jt,Ut,e("div",Bt,[p.value?(r(),d("div",Ft,[Pt,e("div",It,[e("div",Tt,[(r(!0),d(x,null,$(v.value.sectionsWithFields,(n,i)=>(r(),Y(c(ue),{as:"div",class:"mt-2",key:i},{default:U(({open:f})=>[g(c(pe),{class:"btn btn-primary w-full"},{default:U(()=>[e("span",null,k(n.section),1),f?(r(),d("svg",Kt,Lt)):(r(),d("svg",Ht,Wt))]),_:2},1024),g(c(me),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:U(()=>[g(A,{columns:n.fields,onOnFormUpdate:_},null,8,["columns"])]),_:2},1024)]),_:2},1024))),128))])]),e("div",Rt,[g(A,{columns:v.value.fields,onOnFormUpdate:_},null,8,["columns"])]),e("div",{class:"modal-action"},[qt,e("label",{for:"my-modal-5",class:"btn btn-success",onClick:l},"Create")])])):(r(),d("div",Nt,Gt))])],64))}},Xt=["for"],Yt=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),Qt=[Yt],Zt=["id"],el={class:"modal text-center"},tl={key:0,class:"modal-box w-11/12 max-w-5xl"},ll=e("h3",{class:"font-bold text-lg"},"Edit",-1),ol={class:"w-full"},sl={class:"w-full bg-base-300 p-2"},nl={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},al=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"},null,-1),rl=[al],il={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},dl=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"},null,-1),cl=[dl],ul={class:"w-full bg-base-300 p-6"},pl={class:"modal-action"},ml=["for"],vl=["for"],hl={key:1,class:"modal-box w-11/12 max-w-5xl"},_l=Q('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title">The edit method has been disable</h2><p>Try to contact the administrator </p></div></div>',1),fl=[_l],yl={__name:"edit",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},id:{type:String,default:"0"},modelValue:{type:Array,default:()=>[]},permission:{type:String,default:null}},emits:["onEdit"],setup(u,{emit:m}){const o=u,s=W(),p=D(()=>o.columns.filter(t=>t.canEdit).length>0),v=D(()=>{const t=o.columns.filter(b=>b.section),a=o.columns.filter(b=>!b.section),n=t.map(b=>b.section),i=[...new Set(n)],f=[];return i.forEach(b=>{const M=t.filter(O=>O.section==b);f.push({section:b,fields:M})}),{sections:i,fields:a,sectionsWithFields:f}});let h=y(o.columns.filter(t=>t.canEdit));const _=async t=>{if(h.value.length>0)for(const[a,n]of Object.entries(t))for(const[i,f]of Object.entries(h.value))n.key==f.key&&(h.value[i]=n);else h.value=t},l=async()=>{E.post(o.endpoint,{model:o.model,id:o.id,data:h.value,permission:o.permission}).then(function(t){s.success(t.data.message),m("onEdit")}).catch(function(t){for(const[a,n]of Object.entries(t.response.data.errors))s.error(n[0])})};return(t,a)=>(r(),d(x,null,[e("label",{for:"edit-data-"+o.id,class:"btn btn-info modal-button"},Qt,8,Xt),e("input",{type:"checkbox",id:"edit-data-"+o.id,class:"modal-toggle"},null,8,Zt),e("div",el,[p.value?(r(),d("div",tl,[ll,e("div",ol,[e("div",sl,[(r(!0),d(x,null,$(v.value.sectionsWithFields,(n,i)=>(r(),Y(c(ue),{as:"div",class:"mt-2",key:i,defaultOpen:!0},{default:U(({open:f})=>[g(c(pe),{class:"btn btn-primary w-full"},{default:U(()=>[e("span",null,k(n.section),1),f?(r(),d("svg",nl,rl)):(r(),d("svg",il,cl))]),_:2},1024),g(c(me),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:U(()=>[g(A,{columns:n.fields,onOnFormUpdate:_,editMode:"true",modelValue:o.modelValue},null,8,["columns","modelValue"])]),_:2},1024)]),_:2},1024))),128))])]),e("div",ul,[g(A,{columns:v.value.fields,onOnFormUpdate:_,editMode:"true",modelValue:o.modelValue},null,8,["columns","modelValue"])]),e("div",pl,[e("label",{for:"edit-data-"+o.id,class:"btn btn-error"},"Close",8,ml),e("label",{for:"edit-data-"+o.id,class:"btn btn-success",onClick:l},"Edit",8,vl)])])):(r(),d("div",hl,fl))])],64))}},bl={class:"my-2 flex sm:flex-row flex-col p-6"},gl={class:"flex flex-row mb-1 sm:mb-0"},wl={class:"relative pl-4"},kl=Q('<option disabled selected>Per page</option><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option>',5),xl=[kl],$l={class:"relative pl-4"},Vl=e("option",{disabled:"",selected:""},"Row",-1),Sl=["value"],Cl={class:"relative pl-4"},Dl=e("option",{disabled:"",selected:""},"Order by",-1),Ol=e("option",{value:"asc"},"Asc",-1),Ml=e("option",{value:"desc"},"Desc",-1),jl=[Dl,Ol,Ml],Ul={class:"block relative pl-4"},Bl={class:"form-control"},Fl={class:"input-group"},Pl=e("button",{class:"btn btn-square btn-primary"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),Il={__name:"filter",props:{columns:{type:Array,default:()=>[]}},emits:["onPerPage","onOrderBy","onSearch","onFilter","onFilterReset"],setup(u,{emit:m}){const o=u;let s=y(10),p=y("id"),v=y("asc"),h=y(""),_=y([]);(async()=>{for(const[n,i]of Object.entries(o.columns))i.sortable&&(n==0&&(p.value=i.key),_.value.push({label:i.label,value:i.key}))})(),I(()=>s.value,n=>{m("onPerPage",n)}),I(()=>v.value,n=>{m("onOrderBy",n)}),I(()=>p.value,n=>{m("onFilter",n)});let t=y(null);I(()=>h.value,n=>{clearTimeout(t.value),t.value=setTimeout(function(){m("onSearch",n)},500)});const a=async()=>{s.value=10,p.value="id",v.value="asc",h.value=null,m("onFilterReset",[{perPage:s.value,filterBy:p.value,orderBy:v.value,search:h.value}])};return(n,i)=>(r(),d("div",bl,[e("div",gl,[e("div",wl,[F(e("select",{class:"select select-primary w-full max-w-xs","onUpdate:modelValue":i[0]||(i[0]=f=>P(s)?s.value=f:s=f)},xl,512),[[q,c(s)]])]),e("div",$l,[F(e("select",{class:"select select-primary w-full max-w-xs","onUpdate:modelValue":i[1]||(i[1]=f=>P(p)?p.value=f:p=f),onChange:i[2]||(i[2]=(...f)=>n.filterChange&&n.filterChange(...f))},[Vl,(r(!0),d(x,null,$(c(_),(f,b)=>(r(),d("option",{key:b,value:f.value},k(f.label),9,Sl))),128))],544),[[q,c(p)]])]),e("div",Cl,[F(e("select",{class:"select select-primary w-full max-w-xs","onUpdate:modelValue":i[3]||(i[3]=f=>P(v)?v.value=f:v=f)},jl,512),[[q,c(v)]])])]),e("div",Ul,[e("div",Bl,[e("div",Fl,[F(e("input",{type:"text",placeholder:"Search…",class:"input input-bordered","onUpdate:modelValue":i[4]||(i[4]=f=>P(h)?h.value=f:h=f)},null,512),[[N,c(h)]]),Pl])])]),e("div",{class:"block relative pl-4"},[e("button",{class:"btn btn-outline btn-accent",onClick:a}," Reset ")])]))}},Tl={class:"px-5 py-5 bg-base-200 border-t flex flex-col xs:flex-row items-center xs:justify-between"},Kl={class:"text-xs xs:text-sm text-primary"},El={class:"inline-flex mt-2 xs:mt-0"},Ll={class:"btn-group"},Hl=["onClick"],Al=["innerHTML"],Wl={__name:"pagination",props:{paginationInfo:{type:Object,default:()=>[]}},emits:["onPagiation"],setup(u,{emit:m}){const o=u,s=async p=>{m("onPagiation",p)};return(p,v)=>(r(),d("div",Tl,[e("span",Kl," Showing "+k(o.paginationInfo.currentPage)+" to "+k(o.paginationInfo.perPage)+" of "+k(o.paginationInfo.total)+" Entries ",1),e("div",El,[e("div",Ll,[(r(!0),d(x,null,$(o.paginationInfo.links,(h,_)=>(r(),d("button",{class:ve(["btn btn-md",h.active?"btn-active":""]),key:_,onClick:l=>s(h.url)},[e("span",{innerHTML:h.label},null,8,Al)],10,Hl))),128))])])]))}},Rl={key:0},ql={class:"carousel rounded-box w-96"},Nl={class:"carousel-item w-1/2"},zl=["src"],Gl={key:1},Jl=["innerHTML"],Xl={key:1},Yl={key:0,class:"badge badge-success mt-3"},Ql={key:1,class:"badge badge-error mt-3"},Zl={key:2},eo={class:"flex flex-col"},to=["innerHTML"],lo={__name:"tableDataDisplay",props:{tableData:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]}},setup(u){const m=u,o=D(()=>{let s=[];for(const[p,v]of Object.entries(m.columns))s.push({label:v.label,type:v.type,value:m.tableData[v.key]});return s});return(s,p)=>(r(!0),d(x,null,$(o.value,(v,h)=>(r(),d("th",{key:h},[v.type==="media"?(r(),d("div",Rl,[e("div",ql,[(r(!0),d(x,null,$(v.value,(_,l)=>(r(),d("div",Nl,[e("img",{src:_.url.default,class:"w-full"},null,8,zl)]))),256))])])):(r(),d("div",Gl,[v.type=="icon"?(r(),d("div",{key:0,innerHTML:v.value,class:"bg-white flex justify-center p-10"},null,8,Jl)):v.type==="toogle"?(r(),d("div",Xl,[v.value==1?(r(),d("div",Yl,"Enable")):(r(),d("div",Ql,"Disable"))])):v.type==="model_search"?(r(),d("div",Zl,[e("div",eo,[(r(!0),d(x,null,$(v.value,(_,l)=>(r(),d("div",{class:"badge badge-primary mt-3",key:l},k(l)+" > "+k(_),1))),128))])])):(r(),d("div",{key:3,innerHTML:v.value},null,8,to))]))]))),128))}},oo={class:"w-full mb-12 xl:mb-0"},so={class:"relative flex flex-col min-w-0 break-words bg-base-200 w-full mb-6 shadow-lg rounded"},no={class:"rounded-t mb-0 px-4 py-3 border-0"},ao={class:"flex flex-wrap items-center"},ro={class:"relative w-full px-4 max-w-full flex-grow flex-1"},io={class:"text-3xl font-bold text-base-content"},co={class:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"},uo={class:"overflow-x-auto p-6"},po={class:"overflow-x-auto"},mo={class:"table table-compact w-full"},vo=e("th",null,"Action",-1),ho={class:"preview border-base-300 bg-base-200 rounded-b-box rounded-tr-box flex min-h-[6rem] min-w-[18rem] max-w-4xl flex-wrap items-center justify-center overflow-x-hidden border bg-cover bg-top p-4 undefined gap-4"},_o={key:1},fo=["for"],yo=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),bo=[yo],go=e("th",null,"Action",-1),So={__name:"Table",props:{tableTitle:{type:String,default:"Table name"},columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},endpointDelete:{type:String,default:""},endpointCreate:{type:String,default:""},endpointEdit:{type:String,default:""},permission:{type:String,default:null},custom_edit_route:{type:String,default:null}},setup(u){const m=u,o=W(),s=async w=>{S(w)};let p=y(10);const v=async w=>{p.value=w,S()};let h=y("id");const _=async w=>{h.value=w,S()};let l=y(null);const t=async w=>{l.value=w,S()};let a=y(null);const n=async w=>{w&&w.length>3&&(a.value=w,S())},i=async()=>{S()},f=async()=>{S()},b=async()=>{S()},M=async w=>{p.value=w.perPage,h.value=w.filterBy,l.value=w.orderBy,a.value=w.search,S()};let O=y([]),te=y([]);const S=async(w=null)=>{w===null&&(w=m.endpoint),E.post(w,{model:m.model,columns:m.columns,perPage:p.value,search:a.value,sort:h.value,direction:l.value,permission:m.permission}).then(function(C){O.value=C.data.data,te.value={currentPage:C.data.current_page,lastPage:C.data.last_page,perPage:C.data.per_page,total:C.data.total,links:C.data.links}}).catch(function(C){for(const[V,B]of Object.entries(C.response.data.errors))o.error(B[0])})};return S(),(w,C)=>(r(),d("div",oo,[e("div",so,[e("div",no,[e("div",ao,[e("div",ro,[e("h1",io,k(m.tableTitle),1)]),e("div",co,[he(w.$slots,"new",{},()=>[g(Jt,{columns:m.columns,endpoint:m.endpointCreate,model:m.model,permission:m.permission,onOnCreate:f},null,8,["columns","endpoint","model","permission"])])])])]),g(Il,{onOnPerPage:v,onOnOrderBy:t,onOnSearch:n,onOnFilter:_,onOnFilterReset:M,columns:m.columns},null,8,["columns"]),e("div",uo,[e("div",po,[e("table",mo,[e("thead",null,[e("tr",null,[(r(!0),d(x,null,$(u.columns,(V,B)=>(r(),d("th",{key:B},k(V.label),1))),128)),vo])]),e("tbody",null,[(r(!0),d(x,null,$(c(O),(V,B)=>(r(),d("tr",{key:V},[g(lo,{tableData:V,columns:u.columns},null,8,["tableData","columns"]),e("th",null,[e("div",ho,[g(vt,{id:V.id,endpoint:m.endpointDelete,model:m.model,permission:m.permission,onOnDelete:i},null,8,["id","endpoint","model","permission"]),u.custom_edit_route?(r(),d("div",_o,[g(c(_e),{href:u.custom_edit_route+V.id},{default:U(()=>[e("label",{for:"edit-data-"+V.id,class:"btn btn-info modal-button"},bo,8,fo)]),_:2},1032,["href"])])):(r(),Y(yl,{key:0,columns:m.columns,endpoint:m.endpointEdit,model:m.model,modelValue:V,id:V.id,permission:m.permission,onOnEdit:b},null,8,["columns","endpoint","model","modelValue","id","permission"]))])])]))),128))]),e("tfoot",null,[e("tr",null,[(r(!0),d(x,null,$(u.columns,(V,B)=>(r(),d("th",{key:B},k(V.label),1))),128)),go])])])]),g(Wl,{onOnPagiation:s,paginationInfo:c(te)},null,8,["paginationInfo"])])])]))}};export{So as _};
