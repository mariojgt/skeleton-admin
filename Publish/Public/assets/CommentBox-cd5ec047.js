import{_ as f}from"./dynamicIcon.vue_vue_type_script_setup_true_lang-7c11b2cd.js";import{o as s,g as a,d as e,t as S,e as d,v as m,x as P,I as G,a as k,u as l,Q as v,f as F,C as R,E as H,i as x,k as Q,b as T,s as C,b0 as W,F as O,y as Y,w as A,b6 as ee,O as te}from"./preset-1b389b8a.js";import{a as M,b as z}from"./App.vue_vue_type_script_setup_true_lang-0141497a.js";const se={class:"flex-1"},oe={class:"grid grid-cols-1 gap-4 lg:grid-cols-6"},ne={class:"flex gap-4 col-span-6"},le={style:{"max-width":"150px"},class:"hidden overflow-hidden md:block bg-dark-blue-100"},ae=["src"],re={class:"panel relative transition-colors duration-300 bg-dark-blue-100 px-8 py-4 rounded-xl flex flex-1 items-start"},de={class:"flex-1 md:my-2"},ie={class:"flex items-start justify-between"},me={class:"text-2xl"},ce={class:"text-4xl font-bold text-accent",href:"#"},ue={class:"-mt-1 font-grotesk text-lg font-bold text-grey-600"},fe={class:"flex space-x-4 sm:mt-0"},be={key:0},pe=["href"],_e={key:1},he=["href"],xe={key:2},ye=["href"],ve={key:3},ge=["href"],ke={key:4},we=["href"],Ce={key:5},$e=["href"],Ie={class:"generic-content mt-4 max-w-md"},je=["innerHTML"],ct={__name:"InstructorDisplay",props:{admin:{type:Object,default:()=>({})}},setup(w){const o=w;return(c,t)=>(s(),a("section",se,[e("div",oe,[e("div",ne,[e("div",le,[e("img",{class:"object-fit-cover h-full w-full flex-none rounded-xl",src:o.admin.avatar,alt:"avatar"},null,8,ae)]),e("div",re,[e("div",de,[e("div",ie,[e("header",null,[e("h2",me,[e("a",ce,S(o.admin.full_name),1)]),e("p",ue,S(o.admin.work_title),1)]),e("ul",fe,[o.admin.facebook?(s(),a("li",be,[e("a",{href:o.admin.facebook,target:"_blank",class:"text-neutral hover:text-blue-500"},[d(f,{componentId:"facebook"})],8,pe)])):m("",!0),o.admin.twitter?(s(),a("li",_e,[e("a",{href:o.admin.twitter,target:"_blank",class:"text-neutral hover:text-blue-200"},[d(f,{componentId:"twitter"})],8,he)])):m("",!0),o.admin.github?(s(),a("li",xe,[e("a",{href:o.admin.github,target:"_blank",class:"text-neutral hover:text-black"},[d(f,{componentId:"github"})],8,ye)])):m("",!0),o.admin.linkedin?(s(),a("li",ve,[e("a",{href:o.admin.linkedin,target:"_blank",class:"text-neutral hover:text-blue-700"},[d(f,{componentId:"linkedin"})],8,ge)])):m("",!0),o.admin.instagram?(s(),a("li",ke,[e("a",{href:o.admin.instagram,target:"_blank",class:"text-neutral hover:text-accent"},[d(f,{componentId:"instagram"})],8,we)])):m("",!0),o.admin.website?(s(),a("li",Ce,[e("a",{href:o.admin.website,target:"_blank",class:"text-neutral hover:text-indigo-400"},[d(f,{componentId:"web"})],8,$e)])):m("",!0)])]),e("div",Ie,[e("div",{class:"mt-3 mb-4 font-bold text-neutral text-2xl",innerHTML:o.admin.about},null,8,je)])])])])])]))}},Me={class:"fixed bottom-0 left-1/2 transform -translate-x-1/2 p-4 border border-gray-700 rounded-lg bg-dark-blue-100 text-white w-2/4"},Se=e("label",{for:"comment",class:"text-xl font-bold"},"Your comment",-1),Te=e("h5",null,"Please Follow the guidelines",-1),Ue=e("button",{class:"btn btn-secondary mt-2"},"Submit",-1),J=P({__name:"Comment",props:{modelClass:{type:String,default:""},modelId:{type:Number,default:0},keyEditor:{type:String,default:null},commentClass:{type:String,default:"w-full rounded-lg"}},emits:["fresh-comments","close"],setup(w,{emit:o}){const c=G(),t=w;let _=k(""),r=k("");const b=o,$=async()=>{const I={title:r.value,comment:_.value,model:t.modelClass,model_id:t.modelId};if(_.value===""){c.error("The comment is required");return}await M.post(route("comment.add"),I).then(function(i){c.success(i.data.message)}).catch(function(i){for(const[y,E]of Object.entries(i.response.data.errors))c.error(E[0])}),_.value="",r.value="",b("fresh-comments"),b("close")},p=async()=>{b("close")};return(I,i)=>(s(),a("div",Me,[l(v)().props.isUserAuth?(s(),a("form",{key:0,onSubmit:F($,["prevent"])},[e("div",{class:Q(t.commentClass)},[Se,R(e("textarea",{placeholder:"Comment",class:"textarea textarea-bordered textarea-lg w-full mt-2","onUpdate:modelValue":i[0]||(i[0]=y=>x(_)?_.value=y:_=y)},null,512),[[H,l(_)]]),e("div",{class:"flex justify-between"},[Te,e("div",{class:"mt-2 flex justify-end gap-3"},[e("div",{onClick:p,class:"btn btn-primary mt-2"}," Cancel "),Ue])])],2)],32)):m("",!0)]))}}),Ae={class:"mt-5 bg-primary rounded-lg p-3 shadow-lg hover:bg-dark-400"},Ee={class:"flex items-center mb-4 space-x-4"},Fe=["src"],Re=["src"],He={class:"space-y-1 font-medium text-white"},Oe={class:"mr-2 block text-lg font-bold text-white"},Ve=["datetime"],De=["innerHTML"],Le=e("button",{class:"btn btn-secondary mt-2 w-full"},"Update",-1),Ne={class:"flex items-center justify-between mt-4"},Be={class:"flex items-center"},qe={class:"text-lg font-bold"},ze={key:0,class:"flex items-center space-x-2"},Pe={class:"dropdown dropdown-left"},Ge={tabindex:"0",class:"btn btn-sm btn-primary m-1"},Qe={tabindex:"0",class:"dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52 gap-2"},We={class:"mt-2"},Ye={class:"flex flex-col items-center space-x-2"},Je=e("h1",{class:"mt-2 text-xl font-semibold"}," Are you sure? ",-1),Ke=e("p",{class:"mt-3 text-lg font-bold"},"If you proceed, your comment (and any replies to it) will be deleted.",-1),Xe={class:"flex flex-col w-full gap-2"},Ze=e("header",{class:"text-center md:px-12 text-neutral"},[e("h2",{class:"text-4xl font-semibold"},"Report abuse")],-1),et=e("button",{type:"submit",class:"btn btn-warning mt-3 w-full rounded-lg text-xl font-bold"}," Report ",-1),K=P({__name:"CommentsSingle",props:{comment:{type:Object,default:()=>{}},keyEditor:{type:String,default:null}},emits:["fresh-comments"],setup(w,{emit:o}){const c=G(),t=w,_=o;let r=k(!1),b=k("");const $=async()=>{r.value=!1,await M.post(route("comment.report",t.comment.id),{reason:b.value}).then(function(h){c.success(h.data.message)}).catch(function(h){for(const[n,j]of Object.entries(h.response.data.errors))c.error(j[0])}),y()};let p=k(!1);const I=async()=>{p.value=!1,await M.delete(route("comment.delete",t.comment.id)).then(function(h){c.success(h.data.message)}),y()};let i=k(!1);const y=async()=>{i.value=!1,_("fresh-comments")},E=async()=>{v().props.isUserAuth&&(await M.post(route("mark.helpful",t.comment.id)).then(function(h){c.success(h.data.message)}),y())};let g=k(!1);const X=async()=>{const h={comment:t.comment.body};if(t.comment.body===""){c.error("The comment is required");return}await M.post(route("comment.edit",t.comment.id),h).then(function(n){c.success(n.data.message)}).catch(function(n){for(const[j,U]of Object.entries(n.response.data.errors))c.error(U[0])}),_("fresh-comments"),g.value=!1};return(h,n)=>{var j,U,V,D,L,N,B,q;return s(),a(O,null,[e("article",Ae,[e("div",Ee,[(U=(j=t.comment)==null?void 0:j.user)!=null&&U.avatar?(s(),a("img",{key:0,class:"w-20 h-20 rounded-md",src:t.comment.user.avatar,alt:"User Avatar"},null,8,Fe)):m("",!0),(D=(V=t.comment)==null?void 0:V.admin)!=null&&D.avatar?(s(),a("img",{key:1,class:"w-12 h-12 rounded-md",src:t.comment.admin.avatar,alt:"Admin Avatar"},null,8,Re)):m("",!0),e("div",He,[e("p",null,[e("a",Oe,S(t.comment.user.full_name),1),e("time",{datetime:t.comment.created_at_diff,class:"block text-sm text-gray-400"}," Posted "+S(t.comment.created_at_diff),9,Ve)]),l(g)?m("",!0):(s(),a("div",{key:0,class:"text-gray-200 text-base",innerHTML:t.comment.body},null,8,De))])]),l(g)?(s(),a("form",{key:0,onSubmit:F(X,["prevent"])},[R(e("textarea",{placeholder:"Comment",class:"textarea textarea-bordered textarea-lg w-full mt-2","onUpdate:modelValue":n[0]||(n[0]=u=>t.comment.body=u)},null,512),[[H,t.comment.body]]),Le],32)):m("",!0),e("div",Ne,[e("div",Be,[l(v)().props.guard==="web"?(s(),a("button",{key:0,class:Q(["btn btn-sm btn-primary hover:btn-accent text-white hover:text-black",t.comment.user_helpful_Comments?"btn-secondary":"btn-primary"]),onClick:E},[t.comment.user_helpful_Comments?(s(),T(f,{key:0,componentId:"heartSolid"})):(s(),T(f,{key:1,componentId:"heart"})),e("span",qe,S(t.comment.is_helpful),1)],2)):m("",!0)]),l(v)().props.isUserAuth?(s(),a("div",ze,[e("button",{class:"btn btn-sm btn-secondary hover:btn-accent text-white hover:text-black",onClick:n[1]||(n[1]=u=>x(i)?i.value=!l(i):i=!l(i))},[C(" Reply "),d(f,{componentId:"reply"})]),e("div",Pe,[e("label",Ge,[d(f,{componentId:"dots"})]),e("ul",Qe,[e("li",null,[e("button",{class:"btn btn-primary hover:btn-secondary text-white hover:text-black btn-sm flex justify-between",onClick:n[2]||(n[2]=u=>x(r)?r.value=!l(r):r=!l(r))},[C(" Report abuse "),d(f,{componentId:"alert",class:"size-6"})])]),e("li",null,[e("button",{onClick:n[3]||(n[3]=u=>x(g)?g.value=!l(g):g=!l(g)),class:"btn btn-secondary btn-sm flex justify-between"},[C(" Edit "),d(f,{componentId:"edit"})])]),e("li",null,[((N=(L=l(v)().props.authUserInfo)==null?void 0:L.data)==null?void 0:N.id)===((q=(B=t.comment)==null?void 0:B.user)==null?void 0:q.id)||l(v)().props.guard==="admin"?(s(),a("button",{key:0,class:"btn btn-error hover:btn-secondary text-white hover:text-black btn-sm flex justify-between",onClick:n[4]||(n[4]=u=>x(p)?p.value=!0:p=!0)},[C(" Delete "),d(f,{componentId:"trash"})])):m("",!0)])])])])):m("",!0)]),l(i)?(s(),T(W,{key:1,to:"body"},[d(J,{"model-class":"comment","comment-class":"w-full","model-id":t.comment.id,"key-editor":t.keyEditor,onFreshComments:y,onClose:n[5]||(n[5]=u=>x(i)?i.value=!1:i=!1)},null,8,["model-id","key-editor"])])):m("",!0)]),(s(!0),a(O,null,Y(t.comment.replies,(u,Z)=>(s(),a("div",{key:Z,class:"ml-10 mt-4"},[d(K,{comment:u,"key-editor":t.keyEditor,onFreshComments:y},null,8,["comment","key-editor"])]))),128)),d(l(z),{show:l(p),onClose:n[7]||(n[7]=u=>x(p)?p.value=!1:p=!1),onConfirm:I,modalClass:"bg-dark-100",showHeader:!1,showFooter:!1},{body:A(()=>[e("div",We,[e("div",Ye,[d(f,{componentId:"alert",class:"size-14"}),Je,Ke,e("div",Xe,[e("button",{class:"btn btn-outline btn-secondary",onClick:n[6]||(n[6]=u=>x(p)?p.value=!1:p=!1)}," Cancel "),e("button",{class:"btn btn-secondary",onClick:I}," Delete ")])])])]),_:1},8,["show"]),d(l(z),{show:l(r),onClose:n[9]||(n[9]=u=>x(r)?r.value=!1:r=!1),showHeader:!0,showFooter:!1,modalClass:"bg-primary",isLarge:!0},{title:A(()=>[Ze]),body:A(()=>[e("form",{onSubmit:F($,["prevent"]),class:"rounded-lg"},[R(e("textarea",{"onUpdate:modelValue":n[8]||(n[8]=u=>x(b)?b.value=u:b=u),placeholder:"Reason",class:"textarea textarea-bordered textarea-lg w-full font-bold mt-2"},null,512),[[H,l(b)]]),et],32)]),_:1},8,["show"])],64)}}}),tt={class:"mt-3 bg-dark-blue-100 rounded-lg"},st={class:"mx-auto lg:w-full sm:py-16 lg:px-6 bg-dark-blue-100 bg-opacity-50 backdrop-blur transition-all duration-100 border rounded-3xl border-primary"},ot=e("div",{class:"text-white font-bold text-4xl mb-4 text-center"}," Discuss this lesson ",-1),nt={key:0,class:"flex items-center w-full mb-5"},lt=["src"],at={class:"flex-grow"},rt=e("p",{class:"ml-auto text-lg text-neutral"},[C(" Remember, contributions to this topic should follow our "),e("a",{href:"#",class:"text-master-500 hover:underline"},"Community Guidelines"),C(". ")],-1),ut={__name:"CommentBox",props:{modelId:{type:Number,required:!0},modelClass:{type:String,required:!0}},setup(w){const o=k(!1),c=w,t=()=>{setTimeout(()=>{te.reload({only:["comments"]})},1e3)};return(_,r)=>(s(),a("section",tt,[e("div",st,[ot,l(v)().props.isUserAuth?(s(),a("div",nt,[e("img",{src:l(v)().props.authUserInfo.data.avatar,alt:"My Avatar",class:"w-20 h-20 mr-4 rounded-lg"},null,8,lt),e("div",at,[e("div",{class:"bg-primary hover:bg-secondary p-6 rounded-lg text-xl text-white font-bold cursor-pointer",onClick:r[0]||(r[0]=b=>o.value=!o.value)}," Write a reply. ")])])):m("",!0),(s(!0),a(O,null,Y(l(v)().props.comments.data,(b,$)=>(s(),a("div",{key:$},[d(K,{comment:b,onFreshComments:t,keyEditor:c.editor_key},null,8,["comment","keyEditor"])]))),128)),rt]),(s(),T(W,{to:"body"},[d(ee,{name:"fade"},{default:A(()=>[o.value?(s(),T(J,{key:0,"model-class":c.modelClass,"model-id":c.modelId,onFreshComments:t,onClose:r[1]||(r[1]=b=>o.value=!1)},null,8,["model-class","model-id"])):m("",!0)]),_:1})]))]))}};export{ct as _,ut as a};
