import{a as u,q as w,o as d,k as l,d as t,v as m,t as x,f as i,u as n,i as _,O as k}from"./preset-8daa11fd.js";import{_ as p}from"./Input-13cd385f.js";import{_ as C}from"./Submit-810eb543.js";const g={class:"px-5 py-7"},V={key:0,class:"card shadow-lg compact side bg-base-100"},T={class:"flex-row items-center space-x-4 card-body"},A={class:"w-full shadow border-primary border"},B=["innerHTML"],I={class:"w-full"},O=t("h2",{class:"card-title"}," Scan the qr code and enter the code to activate your two factor authentication. ",-1),j={class:"text-base-content text-opacity-40"},q={class:"form-control pt-10"},F={key:1},M={class:"card col-span-1 row-span-3 shadow-lg xl:col-span-2 bg-base-100"},N={class:"card-body"},R={class:"my-4 text-4xl font-bold card-title"},$={class:"flex items-center justify-end gap-3"},D=t("label",{for:"my-modal-2",class:"btn btn-primary modal-button"},"Remove Autenticator",-1),H=t("input",{type:"checkbox",id:"my-modal-2",class:"modal-toggle"},null,-1),L={class:"modal"},S={class:"modal-box"},U=t("label",{for:"my-modal-2",class:"btn"},"Close",-1),G={__name:"AutenticatorManager",props:{adminInfo:{type:Object,default:()=>({})},autenticator:{type:Object,default:()=>({})}},setup(h){const c=h;let b=u([]);w(()=>{b.value=c.adminInfo});let o=u("");const f=()=>{const e={code:o.value};k.post(route("admin.2fa.enable"),e)},y=()=>{const e={code:o.value};Inertia.patch(route("admin.remove-autenticator"),e)},v=()=>{let e=window.open("","PRINT","height=650,width=900,top=100,left=150");const a="codes";e.document.write(`<html><head><title>${a}</title>`),e.document.write("</head><body>"),e.document.write("<h1> Two Factor Autenticator Backup Codes </h1>"),e.document.write("<table>"),e.document.write("<tr><th>Code</th><th>used</th></tr>");for(const[s,r]of Object.entries(c.autenticator.backup_codes))e.document.write("<tr>"),e.document.write(`<td>${r.code}</td>`),e.document.write(`<td>${r.used}</td>`),e.document.write("</tr>");return e.document.write("</table>"),e.document.write("</body></html>"),e.document.close(),e.focus(),e.print(),e.close(),!0};return(e,a)=>(d(),l("div",null,[t("div",g,[c.autenticator.is_enable===!1?(d(),l("div",V,[t("div",T,[t("div",null,[t("div",A,[t("div",{innerHTML:c.autenticator.codeinfo.qr_code},null,8,B)])]),t("div",I,[O,t("p",j,[m(" Case you can,t use the qr code, you can enter the code manually. "),t("strong",null,x(c.autenticator.codeinfo.secret),1)]),t("div",null,[i(n(p),{modelValue:n(o),"onUpdate:modelValue":a[0]||(a[0]=s=>_(o)?o.value=s:o=s),label:"Code",type:"text",placeholder:"type your code"},null,8,["modelValue"]),t("div",q,[i(n(C),{name:"activate",onClick:f})])])])])])):(d(),l("div",F,[t("div",M,[t("div",N,[t("h2",R,[m(" Two Factor Autenticator Backup Codes "),t("div",$,[t("button",{class:"btn btn-primary",onClick:v}," Download Csv "),D,H,t("div",L,[t("div",S,[i(n(p),{modelValue:n(o),"onUpdate:modelValue":a[1]||(a[1]=s=>_(o)?o.value=s:o=s),label:"Two Factor Autenticator Code",type:"text",placeholder:"type your code"},null,8,["modelValue"]),t("div",{class:"modal-action"},[t("label",{for:"my-modal-2",class:"btn btn-primary",onClick:y},"Remove"),U])])])])])])])]))])]))}};export{G as default};
