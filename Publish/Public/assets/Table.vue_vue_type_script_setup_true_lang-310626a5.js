import{x as I,bP as H,o as a,g as i,d as t,t as $,F as x,I as L,a as k,A as B,y as U,e as y,u as n,D as T,E as z,v as X,z as P,b as W,w as j,l as N,G as A,i as K,k as Y,m as Z,bQ as ee}from"./preset-dc82439c.js";import{_ as M}from"./Input.vue_vue_type_script_setup_true_lang-96442f99.js";import{_ as te}from"./Password-794077e2.js";import{_ as le}from"./Select.vue_vue_type_script_setup_true_lang-bdde90f7.js";import{_ as oe}from"./Image.vue_vue_type_script_setup_true_lang-f14d8534.js";import{_ as R}from"./TextMultipleSelector-8d051498.js";import{_ as q}from"./Toggle-99ba3fe7.js";import{_ as se}from"./Chips.vue_vue_type_script_setup_true_lang-0a9ab424.js";import{Q,V as G,N as J}from"./disclosure-88a3a549.js";const ne=["for"],ae=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),ie=[ae],de=["id"],re={class:"modal text-neutral-content"},ce={class:"border border-primary shadow-primary shadow-lg modal-box w-11/12 max-w-5xl"},ue={class:"modal-header"},pe={class:"text-xl font-bold"},me=["for"],_e=t("div",{class:"rounded-lg text-center text-sm md:text-2xl"},[t("p",null,"Are you sure you want to delete this item?")],-1),he={class:"flex justify-end gap-2 pt-3"},fe=["for"],ye=["for"],be=I({__name:"delete",props:{id:{type:Number,default:0},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onDelete"],setup(h,{emit:b}){const c=H(),r=h,s=b,u=async()=>{L.post(r.endpoint,{model:r.model,id:r.id,permission:r.permission}).then(function(p){c.success(p.data.message),s("onDelete")}).catch(function(p){for(const[f,v]of Object.entries(p.response.data.errors))c.error(v[0])})};return(p,f)=>(a(),i(x,null,[t("label",{for:"my-modal-delete-"+r.id,class:"btn btn-error modal-button"},ie,8,ne),t("input",{type:"checkbox",id:"my-modal-delete-"+r.id,class:"modal-toggle"},null,8,de),t("div",re,[t("div",ce,[t("div",ue,[t("h2",pe,"Delete Item #"+$(r.id),1),t("label",{for:"my-modal-delete-"+r.id,class:"btn btn-sm btn-circle absolute right-2 top-2"},"✕",8,me)]),_e,t("div",he,[t("label",{for:"my-modal-delete-"+r.id,class:"btn btn-primary font-bold text-lg text-white"},"Close!",8,fe),t("label",{for:"my-modal-delete-"+r.id,onClick:u,class:"btn btn-secondary font-bold text-lg text-white"},"Delete",8,ye)])])])],64))}}),ve=h=>{if(!h)return"";let b;if(h.includes("T"))b=new Date(h);else{const c=h.split("/");b=new Date(`${c[2]}-${c[1]}-${c[0]}`)}return b.toISOString().split("T")[0]},ge=h=>{const b=h.split("/");return new Date(b[2]+"/"+b[1]+"/"+b[0]).toISOString().substr(0,16)},we=h=>h?h.toString():"",ke={key:0},xe={key:1},$e={key:2},Ve={key:3},Se={key:4},Ue={key:5},De={key:6},Ce={key:7},je={key:8},Oe={key:9},Fe={key:10},Me={key:11},Be={key:12},Te={key:13},Pe={class:"form-control mt-1"},Ke={class:"label"},Ee={class:"label-text"},He=["onKeyup","onUpdate:modelValue"],Le={class:"flex justify-center bg-base-100 rounded mt-5"},Ae=["innerHTML"],Ie={key:14},E={__name:"formbuilder",props:{columns:{type:Array,default:()=>[]},modelValue:{type:Object,default:()=>[]},editMode:{type:String,default:"false"}},emits:["onFormUpdate"],setup(h,{emit:b}){const c=h,r=b;let s=k([]);(()=>{var v,V,l,d,o,m;s.value=[];for(const[_,e]of Object.entries(c.columns))if(c.editMode=="false"){if(e.canCreate){let w="";(e.type=="Toggle"||e.type=="boolean")&&(w=!1),(v=e==null?void 0:e.options)!=null&&v.select_options?(V=e==null?void 0:e.options)==null||V.select_options:e==null||e.select_options,s.value.push({key:e.key,label:e.label,type:e.type,nullable:e==null?void 0:e.nullable,unique:e==null?void 0:e.unique,endpoint:e==null?void 0:e.endpoint,displayKey:e==null?void 0:e.displayKey,columns:e==null?void 0:e.columns,model:e==null?void 0:e.model,singleSearch:e==null?void 0:e.singleSearch,relation:e==null?void 0:e.relation,value:w,select_options:(l=e==null?void 0:e.options)==null?void 0:l.select_options})}}else if(e.canEdit){let w=null;switch(e.type){case"date":w=ve(c.modelValue[e.key]);break;case"timestamp":w=ge(c.modelValue[e.key]);break;case"media":w=c.modelValue[e.key];break;case"model_search":w=c.modelValue[e.key];break;case"pivot_model":w=c.modelValue[e.key];break;case"boolean":w=c.modelValue[e.key];break;case"chips":w=c.modelValue[e.key];break;default:w=we(c.modelValue[e.key]);break}(d=e==null?void 0:e.options)!=null&&d.select_options?(o=e==null?void 0:e.options)==null||o.select_options:e==null||e.select_options,s.value.push({key:e.key,label:e.label,type:e.type,nullable:e==null?void 0:e.nullable,displayKey:e==null?void 0:e.displayKey,unique:e==null?void 0:e.unique,value:w,endpoint:e==null?void 0:e.endpoint,columns:e==null?void 0:e.columns,model:e==null?void 0:e.model,singleSearch:e==null?void 0:e.singleSearch,relation:e==null?void 0:e.relation,select_options:(m=e==null?void 0:e.options)==null?void 0:m.select_options})}c.editMode=="true"&&r("onFormUpdate",s.value)})();let p=k(null);B(()=>s.value,()=>{clearTimeout(p.value),p.value=setTimeout(function(){r("onFormUpdate",s.value)},500)},{deep:!0});const f=async(v,V,l)=>{if(l=="name"||l=="title"){const d=s.value.findIndex(o=>o.key=="slug");s.value[d]&&(s.value[d].value=v.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))}};return(v,V)=>(a(!0),i(x,null,U(n(s),(l,d)=>(a(),i("div",{key:d},[l.type=="text"?(a(),i("div",ke,[y(n(M),{type:"text",modelValue:n(s)[d].value,"onUpdate:modelValue":o=>n(s)[d].value=o,label:l.label,onKeyup:o=>f(o.target.value,l.type,l.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):l.type=="password"?(a(),i("div",xe,[y(n(te),{modelValue:n(s)[d].value,"onUpdate:modelValue":o=>n(s)[d].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="email"?(a(),i("div",$e,[y(n(M),{type:"email",modelValue:n(s)[d].value,"onUpdate:modelValue":o=>n(s)[d].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="date"?(a(),i("div",Ve,[y(n(M),{type:"date",modelValue:n(s)[d].value,"onUpdate:modelValue":o=>n(s)[d].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="timestamp"?(a(),i("div",Se,[y(n(M),{type:"datetime-local",modelValue:n(s)[d].value,"onUpdate:modelValue":o=>n(s)[d].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="slug"?(a(),i("div",Ue,[y(n(M),{type:"text",modelValue:n(s)[d].value,"onUpdate:modelValue":o=>n(s)[d].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="media"?(a(),i("div",De,[y(n(oe),{label:"image",placeholder:"search",modelValue:n(s)[d].value,"onUpdate:modelValue":o=>n(s)[d].value=o,loadData:n(s)[d].value,endpoint:l.endpoint},null,8,["modelValue","onUpdate:modelValue","loadData","endpoint"])])):l.type=="number"?(a(),i("div",Ce,[y(n(M),{type:"number",modelValue:n(s)[d].value,"onUpdate:modelValue":o=>n(s)[d].value=o,label:l.label,onKeyup:o=>f(o.target.value,l.type,l.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):l.type=="model_search"?(a(),i("div",je,[y(n(R),{label:l.label,placeholder:"search",model:l.model,columns:l.columns,singleMode:l.singleSearch,modelValue:n(s)[d].value,"onUpdate:modelValue":o=>n(s)[d].value=o,loadData:n(s)[d].value,endpoint:l.endpoint,displayKey:l.displayKey},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey"])])):l.type=="pivot_model"?(a(),i("div",Oe,[y(n(R),{label:l.label,placeholder:"search",model:l.model,columns:l.columns,singleMode:l.singleSearch,modelValue:n(s)[d].value,"onUpdate:modelValue":o=>n(s)[d].value=o,loadData:n(s)[d].value,endpoint:l.endpoint,displayKey:l.displayKey},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey"])])):l.type=="Toggle"?(a(),i("div",Fe,[y(n(q),{modelValue:n(s)[d].value,"onUpdate:modelValue":o=>n(s)[d].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="boolean"?(a(),i("div",Me,[y(n(q),{modelValue:n(s)[d].value,"onUpdate:modelValue":o=>n(s)[d].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="chips"?(a(),i("div",Be,[y(n(se),{modelValue:n(s)[d].value,"onUpdate:modelValue":o=>n(s)[d].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="icon"?(a(),i("div",Te,[t("label",Pe,[t("div",Ke,[t("span",Ee,$(l.label),1)]),T(t("textarea",{class:"textarea textarea-primary h-24",onKeyup:o=>f(o.target.value,l.type,l.key),"onUpdate:modelValue":o=>n(s)[d].value=o,placeholder:"Bio"},null,40,He),[[z,n(s)[d].value]])]),t("div",Le,[t("div",{class:"flex p-10 w-52",innerHTML:n(s)[d].value},null,8,Ae)])])):l.type=="select"?(a(),i("div",Ie,[y(n(le),{modelValue:n(s)[d].value,"onUpdate:modelValue":o=>n(s)[d].value=o,label:l.label,options:l.select_options},null,8,["modelValue","onUpdate:modelValue","label","options"])])):X("",!0)]))),128))}},We=t("label",{for:"my-modal-5",class:"btn btn-primary modal-button"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})])],-1),Ne=t("input",{type:"checkbox",id:"my-modal-5",class:"modal-toggle"},null,-1),Re={class:"modal text-left"},qe={key:0,class:"modal-box w-11/12 max-w-5xl border border-primary shadow-primary shadow-2xl"},ze=t("div",{class:"modal-header"},[t("h3",{class:"font-bold text-lg"},"New"),t("label",{for:"my-modal-5",class:"btn btn-sm btn-circle absolute right-2 top-2"},"✕")],-1),Qe={class:"w-full mt-2"},Ge={class:"w-full rounded-lg p-2"},Je={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Xe=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"},null,-1),Ye=[Xe],Ze={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},et=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"},null,-1),tt=[et],lt={class:"w-full bg-base-300 border border-secondary rounded-3xl text-neutral-content p-6"},ot=t("label",{for:"my-modal-5",class:"btn btn-secondary font-bold text-lg text-white"},"Close",-1),st={key:1,class:"modal-box w-11/12 max-w-5xl"},nt=N('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title">The create method has been disable</h2><p>Try to contact the administrator </p></div></div>',1),at=[nt],it={__name:"create",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onCreate"],setup(h,{emit:b}){const c=H(),r=h,s=P(()=>r.columns.filter(l=>l.canCreate).length>0),u=P(()=>{const l=r.columns.filter(e=>e.section),d=r.columns.filter(e=>!e.section),o=l.map(e=>e.section),m=[...new Set(o)],_=[];return m.forEach(e=>{const w=l.filter(O=>O.section==e);_.push({section:e,fields:w})}),{sections:m,fields:d,sectionsWithFields:_}});let p=k(r.columns.filter(l=>l.canCreate));const f=async l=>{if(p.value.length>0)for(const[d,o]of Object.entries(l))for(const[m,_]of Object.entries(p.value))o.key==_.key&&(p.value[m]=o);else p.value=l},v=b,V=async()=>{L.post(r.endpoint,{model:r.model,data:p.value,permission:r.permission}).then(function(l){c.success(l.data.message),v("onCreate")}).catch(function(l){for(const[d,o]of Object.entries(l.response.data.errors))c.error(o[0])})};return(l,d)=>(a(),i(x,null,[We,Ne,t("div",Re,[s.value?(a(),i("div",qe,[ze,t("div",Qe,[t("div",Ge,[(a(!0),i(x,null,U(u.value.sectionsWithFields,(o,m)=>(a(),W(n(J),{as:"div",class:"mt-2",key:m},{default:j(({open:_})=>[y(n(Q),{class:"btn w-full"},{default:j(()=>[t("span",null,$(o.section),1),_?(a(),i("svg",Je,Ye)):(a(),i("svg",Ze,tt))]),_:2},1024),y(n(G),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:j(()=>[y(E,{columns:o.fields,onOnFormUpdate:f},null,8,["columns"])]),_:2},1024)]),_:2},1024))),128))])]),t("div",lt,[y(E,{columns:u.value.fields,onOnFormUpdate:f},null,8,["columns"])]),t("div",{class:"flex justify-end gap-2 pt-3"},[ot,t("label",{for:"my-modal-5",class:"btn btn-primary font-bold text-lg text-white",onClick:V},"Create")])])):(a(),i("div",st,at))])],64))}},dt=["for"],rt=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),ct=[rt],ut=["id"],pt={class:"modal"},mt={key:0,class:"modal-box w-11/12 max-w-5xl border border-primary shadow-lg shadow-primary text-neutral-content"},_t={class:"modal-header"},ht=t("h3",{class:"font-bold text-lg"},"Edit",-1),ft=["for"],yt={class:"w-full mt-2"},bt={class:"w-full rounded-lg p-2"},vt={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},gt=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"},null,-1),wt=[gt],kt={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},xt=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"},null,-1),$t=[xt],Vt={class:"w-full bg-base-300 border border-secondary rounded-3xl text-neutral-content p-6"},St={class:"flex justify-end gap-4 mt-5"},Ut=["for"],Dt=["for"],Ct={key:1,class:"modal-box w-11/12 max-w-5xl"},jt=N('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title">The edit method has been disable</h2><p>Try to contact the administrator </p></div></div>',1),Ot=[jt],Ft=I({__name:"edit",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},id:{type:Number,default:0},modelValue:{type:Object,default:()=>[]},permission:{type:String,default:null}},emits:["onEdit"],setup(h,{emit:b}){const c=H(),r=h,s=P(()=>r.columns.filter(l=>l.canEdit).length>0),u=P(()=>{const l=r.columns.filter(e=>e.section),d=r.columns.filter(e=>!e.section),o=l.map(e=>e.section),m=[...new Set(o)],_=[];return m.forEach(e=>{const w=l.filter(O=>O.section==e);_.push({section:e,fields:w})}),{sections:m,fields:d,sectionsWithFields:_}});let p=k(r.columns.filter(l=>l.canEdit));const f=async l=>{if(p.value.length>0)for(const[d,o]of Object.entries(l))for(const[m,_]of Object.entries(p.value))o.key==_.key&&(p.value[m]=o);else p.value=l},v=b,V=async()=>{L.post(r.endpoint,{model:r.model,id:r.id,data:p.value,permission:r.permission}).then(function(l){c.success(l.data.message),v("onEdit")}).catch(function(l){for(const[d,o]of Object.entries(l.response.data.errors))c.error(o[0])})};return(l,d)=>(a(),i(x,null,[t("label",{for:"edit-data-"+r.id,class:"btn btn-info modal-button"},ct,8,dt),t("input",{type:"checkbox",id:"edit-data-"+r.id,class:"modal-toggle"},null,8,ut),t("div",pt,[s.value?(a(),i("div",mt,[t("div",_t,[ht,t("label",{for:"edit-data-"+r.id,class:"btn btn-sm btn-circle absolute right-2 top-2"},"✕",8,ft)]),t("div",yt,[t("div",bt,[(a(!0),i(x,null,U(u.value.sectionsWithFields,(o,m)=>(a(),W(n(J),{as:"div",class:"mt-2",key:m,defaultOpen:!0},{default:j(({open:_})=>[y(n(Q),{class:"btn btn-primary w-full"},{default:j(()=>[t("span",null,$(o.section),1),_?(a(),i("svg",vt,wt)):(a(),i("svg",kt,$t))]),_:2},1024),y(n(G),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:j(()=>[y(E,{columns:o.fields,onOnFormUpdate:f,editMode:"true",modelValue:r.modelValue},null,8,["columns","modelValue"])]),_:2},1024)]),_:2},1024))),128))])]),t("div",Vt,[y(E,{columns:u.value.fields,onOnFormUpdate:f,editMode:"true",modelValue:r.modelValue},null,8,["columns","modelValue"])]),t("div",St,[t("label",{for:"edit-data-"+r.id,class:"btn btn-primary font-bold text-lg text-white"},"Close",8,Ut),t("label",{for:"edit-data-"+r.id,class:"btn btn-secondary font-bold text-lg text-white",onClick:V},"Submit",8,Dt)])])):(a(),i("div",Ct,Ot))])],64))}}),Mt={class:"flex flex-col gap-3"},Bt={class:"flex justify-end flex-col md:flex-row gap-3 p-3"},Tt={class:"relative"},Pt=N('<option disabled selected>Per page</option><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option>',5),Kt=[Pt],Et={class:"relative"},Ht=t("option",{disabled:"",selected:""},"Row",-1),Lt=["value"],At={class:"relative"},It=t("option",{disabled:"",selected:""},"Order by",-1),Wt=t("option",{value:"asc"},"Asc",-1),Nt=t("option",{value:"desc"},"Desc",-1),Rt=[It,Wt,Nt],qt={class:"join"},zt=t("button",{class:"btn btn-primary join-item rounded-r-full"},"Search",-1),Qt={__name:"filter",props:{columns:{type:Array,default:()=>[]}},emits:["onPerPage","onOrderBy","onSearch","onFilter","onFilterReset"],setup(h,{emit:b}){const c=h,r=b;let s=k(10),u=k("id"),p=k("asc"),f=k(""),v=k([]);(async()=>{for(const[o,m]of Object.entries(c.columns))m.sortable&&(o==0&&(u.value=m.key),v.value.push({label:m.label,value:m.key}))})(),B(()=>s.value,o=>{r("onPerPage",o)}),B(()=>p.value,o=>{r("onOrderBy",o)}),B(()=>u.value,o=>{r("onFilter",o)});let l=k(null);B(()=>f.value,o=>{clearTimeout(l.value),l.value=setTimeout(function(){r("onSearch",o)},500)});const d=async()=>{s.value=10,u.value="id",p.value="asc",f.value=null,r("onFilterReset",[{perPage:s.value,filterBy:u.value,orderBy:p.value,search:f.value}])};return(o,m)=>(a(),i("div",Mt,[t("div",Bt,[t("div",Tt,[T(t("select",{class:"select select-primary w-full","onUpdate:modelValue":m[0]||(m[0]=_=>K(s)?s.value=_:s=_)},Kt,512),[[A,n(s)]])]),t("div",Et,[T(t("select",{class:"select select-primary w-full","onUpdate:modelValue":m[1]||(m[1]=_=>K(u)?u.value=_:u=_),onChange:m[2]||(m[2]=(..._)=>o.filterChange&&o.filterChange(..._))},[Ht,(a(!0),i(x,null,U(n(v),(_,e)=>(a(),i("option",{key:e,value:_.value},$(_.label),9,Lt))),128))],544),[[A,n(u)]])]),t("div",At,[T(t("select",{class:"select select-primary w-full","onUpdate:modelValue":m[3]||(m[3]=_=>K(p)?p.value=_:p=_)},Rt,512),[[A,n(p)]])]),t("div",qt,[T(t("input",{class:"input input-bordered join-item","onUpdate:modelValue":m[4]||(m[4]=_=>K(f)?f.value=_:f=_),placeholder:"Email"},null,512),[[z,n(f)]]),zt,t("button",{class:"btn btn-secondary join-item rounded-r-full",onClick:d},"Reset")])])]))}},Gt={class:"px-5 py-5 bg-base-200 border-t flex flex-col xs:flex-row items-center xs:justify-between"},Jt={class:"xs:text-sm text-primary font-bold text-sm md:text-lg"},Xt={class:"inline-flex mt-2 xs:mt-0"},Yt={class:"btn-group"},Zt=["onClick"],el=["innerHTML"],tl={__name:"pagination",props:{paginationInfo:{type:Object,default:()=>[]}},emits:["onPagiation"],setup(h,{emit:b}){const c=b,r=async u=>{c("onPagiation",u)},s=h;return(u,p)=>(a(),i("div",Gt,[t("span",Jt," Showing "+$(s.paginationInfo.currentPage)+" to "+$(s.paginationInfo.perPage)+" of "+$(s.paginationInfo.total)+" Entries ",1),t("div",Xt,[t("div",Yt,[(a(!0),i(x,null,U(s.paginationInfo.links,(f,v)=>(a(),i("button",{class:Y(["btn btn-md",f.active?"btn-active":""]),key:v,onClick:V=>r(f.url)},[t("span",{innerHTML:f.label},null,8,el)],10,Zt))),128))])])]))}},ll={key:0},ol={class:"carousel rounded-box w-96"},sl={class:"carousel-item w-1/2"},nl=["src"],al={key:1},il=["innerHTML"],dl={key:1},rl={key:0,class:"badge badge-success mt-3"},cl={key:1,class:"badge badge-error mt-3"},ul={key:2},pl={class:"flex flex-col"},ml=["innerHTML"],_l={__name:"tableDataDisplay",props:{tableData:{type:Object,default:()=>[]},columns:{type:Array,default:()=>[]}},setup(h){const b=h,c=P(()=>{let r=[];for(const[s,u]of Object.entries(b.columns))r.push({label:u.label,type:u.type,value:b.tableData[u.key]});return r});return(r,s)=>(a(!0),i(x,null,U(c.value,(u,p)=>(a(),i("th",{key:p},[u.type==="media"?(a(),i("div",ll,[t("div",ol,[(a(!0),i(x,null,U(u.value,(f,v)=>(a(),i("div",sl,[t("img",{src:f.url.default,class:"w-full"},null,8,nl)]))),256))])])):(a(),i("div",al,[u.type=="icon"?(a(),i("div",{key:0,innerHTML:u.value,class:"bg-base-100 rounded-lg flex justify-center"},null,8,il)):u.type==="toogle"?(a(),i("div",dl,[u.value==1?(a(),i("div",rl,"Enable")):(a(),i("div",cl,"Disable"))])):u.type==="model_search"?(a(),i("div",ul,[t("div",pl,[(a(!0),i(x,null,U(u.value,(f,v)=>(a(),i("div",{class:"badge badge-primary mt-3",key:v},$(v)+" > "+$(f),1))),128))])])):(a(),i("div",{key:3,innerHTML:u.value},null,8,ml))]))]))),128))}},hl={class:"w-full"},fl={class:"relative flex flex-col min-w-0 break-words bg-base-300 w-full mb-6 rounded-3xl"},yl={class:"flex flex-wrap items-center mt-5"},bl={class:"relative w-full px-4 max-w-full flex-grow flex-1"},vl={class:"text-3xl font-extrabold text-base-content"},gl={class:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"},wl={class:"overflow-x-auto p-6"},kl={class:"overflow-x-auto bg-base-100"},xl={class:"table table-compact w-full"},$l={class:"font-bold bg-primary text-neutral"},Vl=t("th",null,"Action",-1),Sl={class:"flex justify-start overflow-x-hidden gap-2"},Ul={key:1},Dl=["for"],Cl=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),jl=[Cl],Ol={class:"font-bold bg-primary text-neutral"},Fl=t("th",null,"Action",-1),Il=I({__name:"Table",props:{tableTitle:{type:String,default:"Table name"},columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},endpointDelete:{type:String,default:""},endpointCreate:{type:String,default:""},endpointEdit:{type:String,default:""},permission:{type:String,default:null},custom_edit_route:{type:String,default:null}},setup(h){const b=H(),c=h,r=async g=>{D(g)};let s=k(10);const u=async g=>{s.value=g,D()};let p=k("id");const f=async g=>{p.value=g,D()};let v=k(null);const V=async g=>{v.value=g,D()};let l=k(null);const d=async g=>{g&&g.length>3&&(l.value=g,D())},o=async()=>{D()},m=async()=>{D()},_=async()=>{D()},e=async g=>{s.value=g.perPage,p.value=g.filterBy,v.value=g.orderBy,l.value=g.search,D()};let w=k([]),O=k([]);const D=async(g=null)=>{g===null&&(g=c.endpoint),L.post(g,{model:c.model,columns:c.columns,perPage:s.value,search:l.value,sort:p.value,direction:v.value,permission:c.permission}).then(function(C){w.value=C.data.data,O.value={currentPage:C.data.current_page,lastPage:C.data.last_page,perPage:C.data.per_page,total:C.data.total,links:C.data.links}}).catch(function(C){for(const[S,F]of Object.entries(C.response.data.errors))b.error(F[0])})};return D(),(g,C)=>(a(),i("div",hl,[t("div",fl,[t("div",yl,[t("div",bl,[t("h1",vl,$(c.tableTitle),1)]),t("div",gl,[Z(g.$slots,"new",{},()=>[y(it,{columns:c.columns,endpoint:c.endpointCreate,model:c.model,permission:c.permission,onOnCreate:m},null,8,["columns","endpoint","model","permission"])])])]),y(Qt,{onOnPerPage:u,onOnOrderBy:V,onOnSearch:d,onOnFilter:f,onOnFilterReset:e,columns:c.columns},null,8,["columns"]),t("div",wl,[t("div",kl,[t("table",xl,[t("thead",$l,[t("tr",null,[(a(!0),i(x,null,U(h.columns,(S,F)=>(a(),i("th",{key:F},$(S.label),1))),128)),Vl])]),t("tbody",null,[(a(!0),i(x,null,U(n(w),(S,F)=>(a(),i("tr",{key:S,class:"font-thin bg-base-300 hover:bg-secondary hover:text-neutral hover:font-bold"},[y(_l,{tableData:S,columns:h.columns},null,8,["tableData","columns"]),t("th",null,[t("div",Sl,[h.custom_edit_route?(a(),i("div",Ul,[y(n(ee),{href:h.custom_edit_route+S.id},{default:j(()=>[t("label",{for:"edit-data-"+S.id,class:"btn btn-info modal-button"},jl,8,Dl)]),_:2},1032,["href"])])):(a(),W(Ft,{key:0,columns:c.columns,endpoint:c.endpointEdit,model:c.model,modelValue:S,id:S.id,permission:c.permission,onOnEdit:_},null,8,["columns","endpoint","model","modelValue","id","permission"])),y(be,{id:S.id,endpoint:c.endpointDelete,model:c.model,permission:c.permission,onOnDelete:o},null,8,["id","endpoint","model","permission"])])])]))),128))]),t("tfoot",Ol,[t("tr",null,[(a(!0),i(x,null,U(h.columns,(S,F)=>(a(),i("th",{key:F},$(S.label),1))),128)),Fl])])])]),y(tl,{onOnPagiation:r,paginationInfo:n(O)},null,8,["paginationInfo"])])])]))}});export{Il as _};
