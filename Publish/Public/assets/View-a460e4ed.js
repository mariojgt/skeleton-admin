import{a as Q}from"./axios-9421e693.js";import{_ as Ze}from"./App.vue_vue_type_script_setup_true_lang-a4909815.js";import{_ as Le,a as Ge}from"./CommentBox-e7cac750.js";import{P as qe,C as Se}from"./play-35fa27c9.js";import{c as _e}from"./createLucideIcon-3c7e70c4.js";import{C as Qe}from"./shield-check-9b42ef0f.js";import{C as Te}from"./clock-29f3b554.js";import{C as Je}from"./calendar-85319c34.js";import{y as Xe,o as w,g as P,d as r,m as Ee,e as g,u as y,s as be,t as O,aU as Ye,x as T,l as ue,a as J,A as Re,b as X,w as H,i as se,Q as U,v as je,z as Ke,F as ye}from"./preset-75063682.js";import{_ as et,a as tt}from"./YouTube-8ec062c6.js";import{_ as we}from"./dynamicIcon.vue_vue_type_script_setup_true_lang-ff06a6f6.js";import rt from"./Sidebar-e6625ec6.js";import st from"./PremiumPrompt-ee61e644.js";import nt from"./RelatedCourses-429fa8b5.js";import ot from"./SidebarControl-76f9faf5.js";import at from"./EpisodeGuide-9ac009bb.js";import{Q as $e,V as Ae,N as Be}from"./disclosure-39174912.js";import"./FlashMessage-8000e9fa.js";import"./ReusableModal-793eb428.js";import"./transition-ae82f86f.js";import"./focus-management-032eabd7.js";import"./keyboard-7956a509.js";import"./hidden-000242da.js";import"./open-closed-66dad314.js";import"./SearchSidebar-14eeb914.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./x-89000b3e.js";import"./user-57798571.js";import"./Frontend_js-06e9e725.js";import"./gamepad-2-1dcd9481.js";import"./book-open-64bab79c.js";import"./message-circle-c1ad50a2.js";import"./lock-fca68894.js";import"./arrow-left-11a4ab4d.js";import"./shield-869383d5.js";import"./key-d57ab23e.js";import"./Money-da941c6c.js";import"./download-423ea479.js";import"./SeoManager-e8376e3b.js";import"./dark-bdc86e6a.js";import"./CommentsSingle.vue_vue_type_script_setup_true_lang-75a36bd6.js";import"./graduation-cap-8f5df415.js";import"./shopping-cart-3f89b430.js";import"./DifficultLevel.vue_vue_type_script_setup_true_lang-4a24a2d1.js";import"./use-resolve-button-type-3754a8d9.js";/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=_e("ChevronLeftIcon",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=_e("HeartIcon",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=_e("ScrollTextIcon",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]),dt={class:"relative overflow-hidden rounded-xl bg-dark-500/90 backdrop-blur-sm border border-gray-800/50"},ct={class:"relative p-6 space-y-8"},ut={class:"relative overflow-hidden rounded-xl bg-dark-400/50 p-6"},ht={class:"flex items-start gap-6"},pt={class:"relative hidden md:block w-24 h-24"},ft={class:"flex-1 space-y-4"},mt={class:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-blue-500/10 text-blue-400 text-sm font-medium"},vt={class:"text-2xl md:text-3xl font-bold text-white"},gt={key:0,class:"space-y-2"},bt={class:"flex justify-between items-center text-sm text-gray-400"},yt={class:"relative h-2 w-full bg-dark-600 rounded-full overflow-hidden"},wt={class:"flex flex-col lg:flex-row items-center gap-6"},xt={class:"flex-1 w-full space-y-6"},_t={class:"flex flex-wrap md:flex-nowrap gap-4"},kt={class:"flex flex-1 gap-4"},Mt={class:"flex justify-between lg:hidden"},Ct={class:"flex flex-wrap gap-8"},It={class:"space-y-1"},Pt={class:"flex items-center gap-2 text-white"},Lt={class:"space-y-1"},St={class:"flex items-center gap-2 text-white"},Tt=Xe({__name:"Lesson",props:{lesson:{type:Object,default:()=>({})},lessonProgress:{type:Number,default:0},certificationLink:{type:String,default:null}},emits:["videoLike","nextEpisode","previousEpisode","completeLesson","watchLater"],setup(R,{emit:s}){const h=R,M=s,E=()=>{M("videoLike",h.lesson.id)},F=()=>{M("nextEpisode",h.lesson.next_lesson_id)},L=()=>{M("previousEpisode",h.lesson.previous_lesson_id)},z=()=>{M("completeLesson",h.lesson.id)},G=()=>{M("watchLater",h.lesson.id)},D=$=>{window.open($,"_blank")};return($,m)=>(w(),P("section",dt,[m[8]||(m[8]=r("div",{class:"absolute inset-0 bg-gradient-to-br from-blue-600/5 to-purple-600/5"},null,-1)),m[9]||(m[9]=r("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIxMjEyMSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-10"},null,-1)),r("div",ct,[r("div",ut,[r("div",ht,[r("div",pt,[Ee($.$slots,"default",{},()=>[m[1]||(m[1]=r("div",{class:"absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg opacity-20"},null,-1)),Ee($.$slots,"default")])]),r("div",ft,[r("div",mt,[g(y(qe),{class:"w-4 h-4"}),m[2]||(m[2]=be(" You're Watching "))]),r("h1",vt,O(h.lesson.name),1),R.lessonProgress!==0?(w(),P("div",gt,[r("div",bt,[m[3]||(m[3]=r("span",null,"Progress",-1)),r("span",null,O(R.lessonProgress)+"%",1)]),r("div",yt,[m[4]||(m[4]=r("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 opacity-20"},null,-1)),r("div",{class:"h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300 rounded-full",style:Ye({width:`${R.lessonProgress}%`})},null,4)])])):T("",!0)])])]),r("div",wt,[h.lesson.previous_lesson_id?(w(),P("button",{key:0,onClick:L,class:"hidden lg:flex items-center justify-center w-12 h-12 rounded-xl bg-dark-400 hover:bg-dark-300 transition-all duration-300 group"},[g(y(Oe),{class:"w-6 h-6 text-white group-hover:text-blue-400"})])):T("",!0),r("div",xt,[r("div",_t,[r("button",{onClick:E,class:"group flex items-center justify-center w-12 h-12 rounded-xl bg-dark-400 hover:bg-dark-300 transition-all duration-300"},[g(y(lt),{class:ue(["w-6 h-6 transition-colors duration-300",h.lesson.is_mark_as_liked?"text-red-500":"text-white group-hover:text-red-400"]),fill:h.lesson.is_mark_as_liked?"currentColor":"none"},null,8,["class","fill"])]),r("div",kt,[r("button",{onClick:z,class:ue(["flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-medium transition-all duration-300",h.lesson.is_completed?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-dark-400 text-white hover:bg-dark-300"])},[g(y(Qe),{class:"w-5 h-5"}),r("span",null,O(h.lesson.is_completed?"Completed":"Mark Complete"),1)],2),r("button",{onClick:G,class:ue(["flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-medium transition-all duration-300",h.lesson.watch_later?"bg-purple-500/20 text-purple-400 hover:bg-purple-500/30":"bg-dark-400 text-white hover:bg-dark-300"])},[g(y(Te),{class:"w-5 h-5"}),r("span",null,O(h.lesson.watch_later?"In Watchlist":"Watch Later"),1)],2),R.certificationLink?(w(),P("button",{key:0,onClick:m[0]||(m[0]=Y=>D(R.certificationLink)),class:ue(["flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-medium transition-all duration-300",h.lesson.watch_later?"bg-purple-500/20 text-purple-400 hover:bg-purple-500/30":"bg-dark-400 text-white hover:bg-dark-300"])},[g(y(it),{class:"w-5 h-5"}),m[5]||(m[5]=r("span",null,"Get Certified",-1))],2)):T("",!0)])]),r("div",Mt,[h.lesson.previous_lesson_id?(w(),P("button",{key:0,onClick:L,class:"flex items-center justify-center w-12 h-12 rounded-xl bg-dark-400 hover:bg-dark-300 transition-all duration-300 group"},[g(y(Oe),{class:"w-6 h-6 text-white group-hover:text-blue-400"})])):T("",!0),h.lesson.next_lesson_id?(w(),P("button",{key:1,onClick:F,class:"flex items-center justify-center w-12 h-12 rounded-xl bg-dark-400 hover:bg-dark-300 transition-all duration-300 group"},[g(y(Se),{class:"w-6 h-6 text-white group-hover:text-blue-400"})])):T("",!0)]),r("div",Ct,[r("div",It,[m[6]||(m[6]=r("div",{class:"text-sm text-gray-400"},"Runtime",-1)),r("div",Pt,[g(y(Te),{class:"w-4 h-4 text-blue-400"}),be(" "+O(h.lesson.lesson_duration),1)])]),r("div",Lt,[m[7]||(m[7]=r("div",{class:"text-sm text-gray-400"},"Published",-1)),r("div",St,[g(y(Je),{class:"w-4 h-4 text-purple-400"}),be(" "+O(h.lesson.created_diff),1)])])])]),h.lesson.next_lesson_id?(w(),P("button",{key:1,onClick:F,class:"hidden lg:flex items-center justify-center w-12 h-12 rounded-xl bg-dark-400 hover:bg-dark-300 transition-all duration-300 group"},[g(y(Se),{class:"w-6 h-6 text-white group-hover:text-blue-400"})])):T("",!0)])])]))}});var ke={};(function R(s,h,M,E){var F=!!(s.Worker&&s.Blob&&s.Promise&&s.OffscreenCanvas&&s.OffscreenCanvasRenderingContext2D&&s.HTMLCanvasElement&&s.HTMLCanvasElement.prototype.transferControlToOffscreen&&s.URL&&s.URL.createObjectURL),L=typeof Path2D=="function"&&typeof DOMMatrix=="function",z=function(){if(!s.OffscreenCanvas)return!1;var t=new OffscreenCanvas(1,1),e=t.getContext("2d");e.fillRect(0,0,1,1);var n=t.transferToImageBitmap();try{e.createPattern(n,"no-repeat")}catch{return!1}return!0}();function G(){}function D(t){var e=h.exports.Promise,n=e!==void 0?e:s.Promise;return typeof n=="function"?new n(t):(t(G,G),null)}var $=function(t,e){return{transform:function(n){if(t)return n;if(e.has(n))return e.get(n);var l=new OffscreenCanvas(n.width,n.height),i=l.getContext("2d");return i.drawImage(n,0,0),e.set(n,l),l},clear:function(){e.clear()}}}(z,new Map),m=function(){var t=Math.floor(16.666666666666668),e,n,l={},i=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(d){var c=Math.random();return l[c]=requestAnimationFrame(function o(u){i===u||i+t-1<u?(i=u,delete l[c],d()):l[c]=requestAnimationFrame(o)}),c},n=function(d){l[d]&&cancelAnimationFrame(l[d])}):(e=function(d){return setTimeout(d,t)},n=function(d){return clearTimeout(d)}),{frame:e,cancel:n}}(),Y=function(){var t,e,n={};function l(i){function d(c,o){i.postMessage({options:c||{},callback:o})}i.init=function(o){var u=o.transferControlToOffscreen();i.postMessage({canvas:u},[u])},i.fire=function(o,u,v){if(e)return d(o,null),e;var _=Math.random().toString(36).slice(2);return e=D(function(b){function k(I){I.data.callback===_&&(delete n[_],i.removeEventListener("message",k),e=null,$.clear(),v(),b())}i.addEventListener("message",k),d(o,_),n[_]=k.bind(null,{data:{callback:_}})}),e},i.reset=function(){i.postMessage({reset:!0});for(var o in n)n[o](),delete n[o]}}return function(){if(t)return t;if(!M&&F){var i=["var CONFETTI, SIZE = {}, module = {};","("+R.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{t=new Worker(URL.createObjectURL(new Blob([i])))}catch(d){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",d),null}l(t)}return t}}(),he={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function K(t,e){return e?e(t):t}function W(t){return t!=null}function x(t,e,n){return K(t&&W(t[e])?t[e]:he[e],n)}function pe(t){return t<0?0:Math.floor(t)}function fe(t,e){return Math.floor(Math.random()*(e-t))+t}function ee(t){return parseInt(t,16)}function me(t){return t.map(ve)}function ve(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:ee(e.substring(0,2)),g:ee(e.substring(2,4)),b:ee(e.substring(4,6))}}function f(t){var e=x(t,"origin",Object);return e.x=x(e,"x",Number),e.y=x(e,"y",Number),e}function a(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function j(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function ne(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}function oe(t,e,n,l,i,d,c,o,u){t.save(),t.translate(e,n),t.rotate(d),t.scale(l,i),t.arc(0,0,1,c,o,u),t.restore()}function ae(t){var e=t.angle*(Math.PI/180),n=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:t.startVelocity*.5+Math.random()*t.startVelocity,angle2D:-e+(.5*n-Math.random()*n),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:t.color,shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,drift:t.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:t.gravity*3,ovalScalar:.6,scalar:t.scalar,flat:t.flat}}function le(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var n=e.tick++/e.totalTicks,l=e.x+e.random*e.tiltCos,i=e.y+e.random*e.tiltSin,d=e.wobbleX+e.random*e.tiltCos,c=e.wobbleY+e.random*e.tiltSin;if(t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-n)+")",t.beginPath(),L&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))t.fill(de(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(d-l)*.1,Math.abs(c-i)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var o=Math.PI/10*e.wobble,u=Math.abs(d-l)*.1,v=Math.abs(c-i)*.1,_=e.shape.bitmap.width*e.scalar,b=e.shape.bitmap.height*e.scalar,k=new DOMMatrix([Math.cos(o)*u,Math.sin(o)*u,-Math.sin(o)*v,Math.cos(o)*v,e.x,e.y]);k.multiplySelf(new DOMMatrix(e.shape.matrix));var I=t.createPattern($.transform(e.shape.bitmap),"no-repeat");I.setTransform(k),t.globalAlpha=1-n,t.fillStyle=I,t.fillRect(e.x-_/2,e.y-b/2,_,b),t.globalAlpha=1}else if(e.shape==="circle")t.ellipse?t.ellipse(e.x,e.y,Math.abs(d-l)*e.ovalScalar,Math.abs(c-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):oe(t,e.x,e.y,Math.abs(d-l)*e.ovalScalar,Math.abs(c-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var p=Math.PI/2*3,S=4*e.scalar,A=8*e.scalar,B=e.x,N=e.y,Z=5,V=Math.PI/Z;Z--;)B=e.x+Math.cos(p)*A,N=e.y+Math.sin(p)*A,t.lineTo(B,N),p+=V,B=e.x+Math.cos(p)*S,N=e.y+Math.sin(p)*S,t.lineTo(B,N),p+=V;else t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(i)),t.lineTo(Math.floor(d),Math.floor(c)),t.lineTo(Math.floor(l),Math.floor(e.wobbleY));return t.closePath(),t.fill(),e.tick<e.totalTicks}function ie(t,e,n,l,i){var d=e.slice(),c=t.getContext("2d"),o,u,v=D(function(_){function b(){o=u=null,c.clearRect(0,0,l.width,l.height),$.clear(),i(),_()}function k(){M&&!(l.width===E.width&&l.height===E.height)&&(l.width=t.width=E.width,l.height=t.height=E.height),!l.width&&!l.height&&(n(t),l.width=t.width,l.height=t.height),c.clearRect(0,0,l.width,l.height),d=d.filter(function(I){return le(c,I)}),d.length?o=m.frame(k):b()}o=m.frame(k),u=b});return{addFettis:function(_){return d=d.concat(_),v},canvas:t,promise:v,reset:function(){o&&m.cancel(o),u&&u()}}}function te(t,e){var n=!t,l=!!x(e||{},"resize"),i=!1,d=x(e,"disableForReducedMotion",Boolean),c=F&&!!x(e||{},"useWorker"),o=c?Y():null,u=n?a:j,v=t&&o?!!t.__confetti_initialized:!1,_=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,b;function k(p,S,A){for(var B=x(p,"particleCount",pe),N=x(p,"angle",Number),Z=x(p,"spread",Number),V=x(p,"startVelocity",Number),Fe=x(p,"decay",Number),Ve=x(p,"gravity",Number),Ne=x(p,"drift",Number),Me=x(p,"colors",me),He=x(p,"ticks",Number),Ce=x(p,"shapes"),Ue=x(p,"scalar"),ze=!!x(p,"flat"),Ie=f(p),Pe=B,ge=[],De=t.width*Ie.x,We=t.height*Ie.y;Pe--;)ge.push(ae({x:De,y:We,angle:N,spread:Z,startVelocity:V,color:Me[Pe%Me.length],shape:Ce[fe(0,Ce.length)],ticks:He,decay:Fe,gravity:Ve,drift:Ne,scalar:Ue,flat:ze}));return b?b.addFettis(ge):(b=ie(t,ge,u,S,A),b.promise)}function I(p){var S=d||x(p,"disableForReducedMotion",Boolean),A=x(p,"zIndex",Number);if(S&&_)return D(function(V){V()});n&&b?t=b.canvas:n&&!t&&(t=ne(A),document.body.appendChild(t)),l&&!v&&u(t);var B={width:t.width,height:t.height};o&&!v&&o.init(t),v=!0,o&&(t.__confetti_initialized=!0);function N(){if(o){var V={getBoundingClientRect:function(){if(!n)return t.getBoundingClientRect()}};u(V),o.postMessage({resize:{width:V.width,height:V.height}});return}B.width=B.height=null}function Z(){b=null,l&&(i=!1,s.removeEventListener("resize",N)),n&&t&&(document.body.contains(t)&&document.body.removeChild(t),t=null,v=!1)}return l&&!i&&(i=!0,s.addEventListener("resize",N,!1)),o?o.fire(p,B,Z):k(p,B,Z)}return I.reset=function(){o&&o.reset(),b&&b.reset()},I}var q;function re(){return q||(q=te(null,{useWorker:!0,resize:!0})),q}function de(t,e,n,l,i,d,c){var o=new Path2D(t),u=new Path2D;u.addPath(o,new DOMMatrix(e));var v=new Path2D;return v.addPath(u,new DOMMatrix([Math.cos(c)*i,Math.sin(c)*i,-Math.sin(c)*d,Math.cos(c)*d,n,l])),v}function ce(t){if(!L)throw new Error("path confetti are not supported in this browser");var e,n;typeof t=="string"?e=t:(e=t.path,n=t.matrix);var l=new Path2D(e),i=document.createElement("canvas"),d=i.getContext("2d");if(!n){for(var c=1e3,o=c,u=c,v=0,_=0,b,k,I=0;I<c;I+=2)for(var p=0;p<c;p+=2)d.isPointInPath(l,I,p,"nonzero")&&(o=Math.min(o,I),u=Math.min(u,p),v=Math.max(v,I),_=Math.max(_,p));b=v-o,k=_-u;var S=10,A=Math.min(S/b,S/k);n=[A,0,0,A,-Math.round(b/2+o)*A,-Math.round(k/2+u)*A]}return{type:"path",path:e,matrix:n}}function C(t){var e,n=1,l="#000000",i='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof t=="string"?e=t:(e=t.text,n="scalar"in t?t.scalar:n,i="fontFamily"in t?t.fontFamily:i,l="color"in t?t.color:l);var d=10*n,c=""+d+"px "+i,o=new OffscreenCanvas(d,d),u=o.getContext("2d");u.font=c;var v=u.measureText(e),_=Math.ceil(v.actualBoundingBoxRight+v.actualBoundingBoxLeft),b=Math.ceil(v.actualBoundingBoxAscent+v.actualBoundingBoxDescent),k=2,I=v.actualBoundingBoxLeft+k,p=v.actualBoundingBoxAscent+k;_+=k+k,b+=k+k,o=new OffscreenCanvas(_,b),u=o.getContext("2d"),u.font=c,u.fillStyle=l,u.fillText(e,I,p);var S=1/n;return{type:"bitmap",bitmap:o.transferToImageBitmap(),matrix:[S,0,0,S,-_*S/2,-b*S/2]}}h.exports=function(){return re().apply(this,arguments)},h.exports.reset=function(){re().reset()},h.exports.create=te,h.exports.shapeFromPath=ce,h.exports.shapeFromText=C})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ke,!1);const xe=ke.exports;ke.exports.create;const Et={key:0,class:"bg-dark-100"},Rt={class:"py-8 px-4 mx-auto max-w-screen-2xl lg:py-16"},jt={key:2,class:"my-5 border bg-base-100 border-accent rounded"},$t={class:"h-full p-4 bg-dark-100 border-b border-accent"},At={class:"flex items-center justify-between"},Bt={class:"flex justify-between gap-1"},Ot={class:"text-lg font-bold text-neutral"},Ft={class:"mt-2"},Vt={class:"text-2xl font-bold text-neutral hover:underline",target:"_blank"},Nt=["innerHTML"],Ht={key:3},Ut=["src","alt"],zt={class:"mt-3"},Dt=["innerHTML"],Wt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Zt={class:"flex-shrink-0"},Gt={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 text-blue-400"},qt={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 text-green-400"},Qt={class:"flex-grow"},Jt={class:"text-lg font-semibold text-white"},Xt={key:0,class:"text-sm text-gray-300 mt-1"},Yt=["onClick"],Kt={key:1,class:"bg-dark-200"},er={class:"py-8 px-4 mx-auto max-w-screen-xl lg:py-16"},tr={class:"card bg-dark-blue-100 w-full"},rr=["alt","src"],sr={class:"card-body"},nr={class:"card-title font-bold text-5xl mb-5"},or=["innerHTML"],ar={class:"card-actions justify-start mt-3"},lr={class:"flex justify-between"},ir={class:"mt-1"},es={__name:"View",props:{relatedCourses:{type:Object,required:!0},course:{type:Object,required:!0},course_instructor:{type:Object,required:!0},sections:{type:Array,required:!0},current_lesson:{type:Object,required:!0},editor_key:{type:String,required:!0}},setup(R){const s=R;let h=J(!1),M=J(!1),E=J(!1);const F=async f=>{f&&await ye.get(route("course.view",{slug:s.course.slug,lesson:f}),{preserveState:!0,preserveScroll:!0,only:["current_lesson"]})},L=async f=>{U().props.isUserAuth&&await ye.post(route("track.lesson.progress",{lesson:s.current_lesson.data.id}),{progress:f},{preserveState:!0,preserveScroll:!0,only:["current_lesson"]})},z=async f=>{U().props.isUserAuth?(await Q.post(route("track.lesson.complete",s.current_lesson.data.id)).then(function(a){s.current_lesson.data.is_completed=a.data.status}),xe({particleCount:100,spread:100,origin:{y:.6}})):M.value=!0},G=async f=>{U().props.isUserAuth?(await Q.post(route("track.lesson.like",f)).then(function(a){s.current_lesson.data.is_mark_as_liked=a.data.status}),xe({particleCount:100,spread:100,origin:{y:.6}})):M.value=!0},D=async f=>{U().props.isUserAuth?(await Q.post(route("track.lesson.watch.later",f)).then(function(a){s.current_lesson.data.watch_later=a.data.status}),xe({particleCount:100,spread:100,origin:{y:.6}})):M.value=!0};let $=J(null),m=J(null);const Y=async f=>{U().props.isUserAuth&&($.value=f,await Q.post(route("track.lesson.points.progress",s.current_lesson.data.id),{seconds:$.value}).then(function(a){a.data.status&&(m.value=a.data.lessonPoint)}))},he=async()=>{var f,a,j;(j=(a=(f=s.sections)==null?void 0:f.data[0])==null?void 0:a.children[0])!=null&&j.id&&F(s.sections.data[0].children[0].id)},K=Re(()=>({src:s.course.media[0].url.default,alt:s.course.media[0].url.alt}));let W=J(!1);const x=async()=>{U().props.isUserAuth?W.value=!0:M.value=!0},pe=async()=>{U().props.isUserAuth?(E.value=!0,Q.post(route("stripe.product.checkout"),{products:[{id:s.course.id,quantity:1,type:"course"}]}).then(function(f){window.location.href=f.data.session}).catch(function(f){E.value=!1})):M.value=!0},fe=Re(()=>{var f,a;return(a=(f=U().props.subscriptionsProducts)==null?void 0:f.data[0])==null?void 0:a.price}),ee=f=>{me(f)},me=async f=>{ye.visit(route("course.view",f))},ve=async f=>{try{if(f.resource_type==="file"){const j=(await Q.get(route("gamedev.lesson.resources.download",f.id))).data.download_url;window.open(j,"_blank")}else window.open(f.resource_url,"_blank")}catch(a){console.error("Download error:",a)}finally{}};return(f,a)=>(w(),X(Ze,{showHeader:!1,showFooter:!1,displayLogin:y(M),onCloseLogin:a[4]||(a[4]=j=>se(M)?M.value=!1:M=!1),displaySubscription:y(W),onCloseSubscription:a[5]||(a[5]=j=>se(W)?W.value=!1:W=!1),displayLoading:y(E),onCloseLoading:a[6]||(a[6]=j=>se(E)?E.value=!1:E=!1)},{default:H(()=>{var j,ne,oe,ae,le,ie,te,q,re,de,ce;return[g(rt,{sideBarOpen:y(h),mainImageInfo:K.value,course:s.course,sections:s.sections,currentLesson:s.current_lesson,onChangeLesson:F,onCloseSidebar:a[0]||(a[0]=C=>se(h)?h.value=!1:h=!1)},null,8,["sideBarOpen","mainImageInfo","course","sections","currentLesson"]),(j=s.current_lesson)!=null&&j.data?(w(),P("section",Et,[r("div",Rt,[s.current_lesson.data.video_accessible?(w(),P(je,{key:0},[s.current_lesson.data.player_type==="vimeo"?(w(),X(et,{key:0,lessonUrl:s.current_lesson.data.video_url,"lesson-id":s.current_lesson.data.id,seek:(oe=(ne=s.current_lesson.data)==null?void 0:ne.lesson_progress)==null?void 0:oe.watch_time,onVideoRunning:L,onVideoPause:L,onVideoEnded:a[1]||(a[1]=C=>{L(C),z(C)}),onVideoStart:L,onVideoLessonPoints:Y},null,8,["lessonUrl","lesson-id","seek"])):T("",!0),s.current_lesson.data.player_type==="youtube"?(w(),X(tt,{key:1,videoId:s.current_lesson.data.video_id,"lesson-id":s.current_lesson.data.id,seek:(le=(ae=s.current_lesson.data)==null?void 0:ae.lesson_progress)==null?void 0:le.watch_time,onVideoRunning:L,onVideoPause:L,onVideoEnded:a[2]||(a[2]=C=>{L(C),z(C)}),onVideoStart:L,onVideoLessonPoints:Y},null,8,["videoId","lesson-id","seek"])):T("",!0)],64)):(w(),X(st,{key:1,current_lesson:R.current_lesson,course:R.course,priceStartOff:fe.value,onSubscribe:x,onCourseCheckout:pe},null,8,["current_lesson","course","priceStartOff"])),y(m)?(w(),P("div",jt,[r("div",$t,[r("div",At,[r("div",Bt,[a[7]||(a[7]=r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-white"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),r("span",Ot,O(y(m).seconds)+"s ",1)]),a[8]||(a[8]=r("a",{class:"px-2 py-1 font-bold text-gray-100 bg-gray-600 rounded hover:bg-gray-500",target:"_blank"},"Close",-1))]),r("div",Ft,[r("a",Vt,O(y(m).title),1),r("div",{innerHTML:y(m).content,class:"mt-2 w-full text-lg text-neutral fancy-editor"},null,8,Nt)])])])):T("",!0),s.current_lesson.data.video_accessible?(w(),P("div",Ht,[(ie=s.current_lesson)!=null&&ie.data?(w(),X(Tt,{key:0,lesson:(te=s.current_lesson)==null?void 0:te.data,certificationLink:s.course.certification_link,lessonProgress:(re=(q=s.current_lesson.data)==null?void 0:q.lesson_progress)==null?void 0:re.progress,onNextEpisode:F,onPreviousEpisode:F,onVideoLike:G,onCompleteLesson:z,onWatchLater:D},{default:H(()=>[r("img",{src:s.course.media[0].url.default,alt:s.course.media[0].alt,class:"w-full h-full object-cover rounded-lg"},null,8,Ut)]),_:1},8,["lesson","certificationLink","lessonProgress"])):T("",!0),r("div",zt,[g(y(Be),null,{default:H(({open:C})=>[g(y($e),{class:"flex justify-between bg-dark-200 text-white font-bold text-4xl p-3 rounded-lg w-full text-left hover:bg-dark-blue-200 hover:text-accent"},{default:H(()=>[a[9]||(a[9]=r("span",null,"About This Episode",-1)),g(we,{componentId:"chevronDown"})]),_:1}),g(y(Ae),{class:"p-2 bg-dark-blue-100"},{default:H(()=>[r("div",{class:"mb-8 text-lg font-normal text-neutral fancy-editor",innerHTML:s.current_lesson.data.description},null,8,Dt)]),_:1})]),_:1}),s.current_lesson.data.resources&&s.current_lesson.data.resources.length>0?(w(),X(y(Be),{key:0,as:"div",class:"mt-3 mb-5"},{default:H(()=>[g(y($e),{as:"button",class:"flex items-center justify-between bg-dark-200 text-white font-bold text-2xl p-3 rounded-lg w-full text-left hover:bg-dark-blue-200 hover:text-accent transition-all duration-200"},{default:H(()=>[a[10]||(a[10]=r("span",null,"Lesson Resources",-1)),g(we,{componentId:"chevronDown"})]),_:1}),g(y(Ae),{as:"div",class:"p-2 bg-dark-300 rounded-lg"},{default:H(()=>[r("div",Wt,[(w(!0),P(je,null,Ke(s.current_lesson.data.resources,(C,t)=>(w(),P("div",{key:t,class:"flex items-center gap-4 bg-dark-blue-500 p-4 rounded-lg hover:bg-dark-blue-300 transition-all duration-300"},[r("div",Zt,[C.resource_type==="link"?(w(),P("svg",Gt,a[11]||(a[11]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 10.5L21 3m0 0h-6m6 0v6"},null,-1)]))):C.resource_type==="file"?(w(),P("svg",qt,a[12]||(a[12]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v15m0 0-3-3m3 3 3-3M6 6h12"},null,-1)]))):T("",!0)]),r("div",Qt,[r("h3",Jt,O(C.title),1),C.description?(w(),P("p",Xt,O(C.description),1)):T("",!0)]),r("div",null,[r("a",{onClick:e=>ve(C),target:"_blank",class:"btn btn-sm btn-outline text-blue-400 border-blue-400 hover:text-white hover:bg-blue-400 transition-all duration-200"}," Download ",8,Yt)])]))),128))])]),_:1})]),_:1})):T("",!0)]),g(Le,{class:"mt-4",admin:(de=s.course_instructor)==null?void 0:de.data},null,8,["admin"]),g(Ge,{modelId:s.current_lesson.data.id,modelClass:"lesson"},null,8,["modelId"])])):T("",!0),g(nt,{relatedCourses:s.relatedCourses,onOpenCourse:ee},null,8,["relatedCourses"])])])):(w(),P("section",Kt,[r("div",er,[r("div",tr,[r("figure",null,[r("img",{alt:K.value.alt,src:K.value.src},null,8,rr)]),r("div",sr,[r("h2",nr,O(s.course.title),1),r("div",{class:"generic-content font-bold text-xl text-neutral",innerHTML:s.course.short_description},null,8,or),r("div",ar,[r("a",{onClick:he,href:"#",class:"inline-flex items-center justify-center h-16 px-10 py-0 text-xl font-semibold text-center text-gray-200 no-underline align-middle transition-all duration-300 ease-in-out bg-transparent border-2 border-white-600 border-solid rounded-full cursor-pointer select-none hover:text-primary hover:bg-accent hover:border-secondary focus:shadow-xs focus:no-underline w-full"},[r("div",lr,[r("div",ir,[g(we,{componentId:"play"})])])])])])]),g(at,{course:s.course},null,8,["course"]),g(Le,{class:"mt-4",admin:(ce=s.course_instructor)==null?void 0:ce.data},null,8,["admin"])])])),g(ot,{onOpenSidebar:a[3]||(a[3]=C=>se(h)?h.value=!0:h=!0)})]}),_:1},8,["displayLogin","displaySubscription","displayLoading"]))}};export{es as default};
