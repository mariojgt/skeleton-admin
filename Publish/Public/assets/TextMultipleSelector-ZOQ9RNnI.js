import{a as c,C,m as I,o as n,g as r,d as t,t as p,y as j,z as V,u as d,i as B,F as y,A as g,s as x,J as D}from"./preset-LGWNcOFh.js";import{Q as m}from"./Input.vue_vue_type_style_index_0_scoped_245929fe_lang-C1MFSttp.js";const K={class:"form-control"},A={class:"label"},L={class:"block text-lg font-bold mb-2"},O=["name","id","placeholder"],F={class:"invalid-feedback text-primary",role:"alert"},N={key:0,class:"mt-3 rounded p-1 bg-base-100"},T=["onClick"],z={class:"text-2xl font-bold text-black"},E={key:1,class:"mt-3 rounded p-1 bg-base-100"},H={class:"text-2xl font-bold text-black"},J=["onClick"],U={__name:"TextMultipleSelector",props:{label:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:String,default:""},model:{type:String,default:""},columns:{type:Object,default:null},endpoint:{type:String,default:""},loadData:{type:Object,default:null},singleMode:{type:Boolean,default:!1},displayKey:{type:String,default:"name"}},emits:["update:modelValue"],setup(h,{emit:k}){let b=c(null);C(()=>{var l;return(l=m().props)==null?void 0:l.errors},l=>{m().props.errors[e.name]&&(b.value=m().props.errors[e.name])});const e=h,f=k;let i=c(""),u=c([]);const w=async()=>{D.post(e.endpoint,{search:i.value,model:e.model,columns:e.columns}).then(function(l){u.value=l.data}).catch(function(l){for(const[s,o]of Object.entries(l.response.data.errors))message.error(o[0])})};let a=c([]);const _=l=>{e.singleMode&&(a.value=[]),Array.isArray(a.value)||(a.value=[]),a.value.findIndex(s=>s.id===l.id)===-1&&a.value.push({id:l.id,[e.displayKey]:l[e.displayKey]}),u.value=[],f("update:modelValue",a.value)},S=l=>{a.value.splice(l,1),f("update:modelValue",a.value)};return I(()=>{e.loadData&&(e.singleMode?a.value=[e.loadData]:a.value=e.loadData)}),(l,s)=>(n(),r("div",K,[t("label",A,[t("span",L,p(e.label),1)]),j(t("input",{class:"input input-primary input-bordered",name:e.name,id:e.id,placeholder:e.placeholder,autocomplete:"off","onUpdate:modelValue":s[0]||(s[0]=o=>B(i)?i.value=o:i=o),onKeyup:w},null,40,O),[[V,d(i)]]),t("span",F,[t("strong",null,p(d(b)),1)]),d(u).data?(n(),r("div",N,[s[2]||(s[2]=t("div",{class:"px-2 py-3 text-xl font-bold bg-primary text-white rounded mb-2 text-left"},[t("strong",null,"Available Items")],-1)),(n(!0),r(y,null,g(d(u).data,(o,v)=>(n(),r("div",{class:"flex justify-between items-center text-black p-2 bg-white rounded-lg hover:bg-secondary border border-black mb-2",key:o.id,onClick:M=>_(o)},[t("p",z,p(o[e.displayKey]),1),s[1]||(s[1]=t("div",{class:"btn btn-success"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-white"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])],-1))],8,T))),128))])):x("",!0),d(a).length>0?(n(),r("div",E,[s[4]||(s[4]=t("div",{class:"px-2 py-3 text-xl bg-secondary text-white rounded mb-2 text-left"},[t("strong",null,"Selected Items")],-1)),(n(!0),r(y,null,g(d(a),(o,v)=>(n(),r("div",{class:"flex justify-between items-center text-black p-2 bg-white rounded-lg hover:bg-secondary border border-black mb-2",key:o.id},[t("p",H,p(o[e.displayKey]),1),t("div",{class:"btn btn-error",onClick:M=>S(v)},s[3]||(s[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-white"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)]),8,J)]))),128))])):x("",!0)]))}};export{U as _};
