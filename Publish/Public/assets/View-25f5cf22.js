import{_ as St,a as It}from"./App.vue_vue_type_script_setup_true_lang-0141497a.js";import{_ as Xe,a as Ot}from"./CommentBox-cd5ec047.js";import{_ as ve}from"./dynamicIcon.vue_vue_type_script_setup_true_lang-7c11b2cd.js";import{x as At,o as ne,g as le,d as I,e as Q,v as ge,k as Ce,t as ye,z as ze,a as te,p as ct,b7 as dt,b8 as Nt,b as Ee,w as xe,u as de,O as et,Q as tt}from"./preset-1b389b8a.js";import Rt from"./Sidebar-3de4136e.js";import Lt from"./SidebarControl-ff2cb24e.js";import jt from"./EpisodeGuide-fb142ddd.js";import{Q as Vt,V as Dt,N as $t}from"./disclosure-35a68b45.js";import"./FlashMessage-8a0a3dd5.js";import"./micro-task-9c8e04c2.js";import"./keyboard-94d03abe.js";import"./hidden-2f747626.js";import"./open-closed-5eaf27eb.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Input.vue_vue_type_script_setup_true_lang-f5b1f4c2.js";import"./Password-c284dcc5.js";import"./dark-3fd8b7ad.js";import"./DifficultLevel.vue_vue_type_script_setup_true_lang-a78763ba.js";import"./use-resolve-button-type-d875b7c7.js";const qt={class:"bg-dark-blue-100 rounded-lg"},Bt={class:"panel relative transition-colors duration-300 dark px-8 rounded-xl flex w-full flex-wrap py-0 lg:flex-nowrap"},Ut={class:"relative mx-auto basis-full items-center justify-between py-6 font-bold text-white md:flex md:justify-center lg:flex-1 lg:basis-0 max-w-screen-2xl"},Wt=I("div",{class:"pointer-events-none absolute bottom-0 left-1/2 right-0 top-0 hidden -translate-x-1/2 transform opacity-10 mix-blend-luminosity md:block"},null,-1),zt={class:"flex-1 md:flex md:space-x-6 2xl:mx-[2.5rem]"},Yt={class:"px-4 md:flex-1 md:px-0 flex flex-col justify-between"},Gt={class:"mb-8"},Ht={class:"flex items-center"},Qt={class:"text-2xl font-bold leading-tight widescreen:text-[30px]"},Zt={class:"flex divide-x divide-solid divide-grey-600/15 md:ml-1"},Jt={class:"px-5"},Kt=I("dt",{class:"mb-2 font-grotesk text-2xs font-medium text-grey-600/60"}," Run Time ",-1),Xt={class:"text-sm font-semibold text-white"},er={class:"px-5 md:hidden xl:block"},tr=I("dt",{class:"mb-2 font-grotesk text-2xs font-medium text-grey-600/60"}," Published ",-1),rr={class:"text-sm font-semibold text-white"},nr={class:"mx-auto mt-8 flex flex-wrap items-center gap-2 self-center md:mt-0 md:max-w-2xs lg:mx-0 xl:max-w-[200px]"},ar={class:"flex-1",style:{"flex-basis":"180px"}},or=I("span",{class:"inline-block flex-shrink-0 text-wrap"}," Mark as Complete ",-1),ir={class:"flex-1",style:{"flex-basis":"180px"}},sr=I("span",{class:"inline-block flex-shrink-0 text-wrap"}," Add to Watchlist ",-1),ur=At({__name:"Lesson",props:{lesson:{type:Object,default:()=>({})}},emits:["video-like","next-episode","previous-episode","complete-lesson","watch-later"],setup(n,{emit:e}){const t=n,r=e,a=()=>{r("video-like",t.lesson.id)},i=()=>{r("next-episode",t.lesson.next_lesson_id)},l=()=>{r("previous-episode",t.lesson.previous_lesson_id)},d=()=>{r("complete-lesson",t.lesson.id)},h=()=>{r("watch-later",t.lesson.id)};return(c,u)=>(ne(),le("section",qt,[I("div",Bt,[I("div",Ut,[Wt,t.lesson.previous_lesson_id?(ne(),le("a",{key:0,class:"hidden h-12 w-12 flex-1 flex-shrink-0 items-center justify-center rounded-full bg-card-600 transition-all hover:bg-master-900 2xl:flex 2xl:flex-none cursor-pointer",title:"Previous Episode","data-js":"previous-episode-button",disabled:"false",onClick:l},[Q(ve,{componentId:"chevronLeft"})])):ge("",!0),I("div",zt,[I("div",Yt,[I("header",Gt,[I("div",Ht,[I("button",{title:"Want to favorite this lesson for future reference?",class:Ce(["btn btn-circle mr-3",t.lesson.is_mark_as_liked?"btn-error hover:btn-primary":"btn-primary hover:btn-error"]),onClick:a},[Q(ve,{componentId:"heart"})],2),I("div",null,[I("h1",Qt,ye(t.lesson.name),1)])])]),I("div",null,[I("dl",Zt,[I("div",Jt,[Kt,I("dd",Xt,ye(t.lesson.lesson_duration),1)]),I("div",er,[tr,I("dd",rr,ye(t.lesson.created_diff),1)])])])]),I("div",nr,[I("div",ar,[I("a",{onClick:d,class:Ce(["btn flex-center btn-primary py-4",t.lesson.is_completed?"btn-success":"btn-primary"])},[Q(ve,{componentId:"check"}),or],2)]),I("div",ir,[I("a",{onClick:h,class:Ce(["btn flex-center py-4",t.lesson.watch_later?"btn-error":"btn-primary"])},[Q(ve,{componentId:"clock"}),sr],2)])])]),t.lesson.next_lesson_id?(ne(),le("a",{key:1,class:"hidden h-12 w-12 flex-1 flex-shrink-0 items-center justify-center rounded-full bg-card-600 transition-all 2xl:flex 2xl:flex-none hover:bg-master-900 cursor-pointer",title:"Next Episode","data-js":"next-episode-button",disabled:"false",onClick:i},[Q(ve,{componentId:"chevronRight"})])):ge("",!0)])])]))}});/*! @vimeo/player v2.23.1 | (c) 2024 Vimeo | MIT License | https://github.com/vimeo/player.js */function rt(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function nt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rt(Object(t),!0).forEach(function(r){Me(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rt(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function J(){J=function(){return n};var n={},e=Object.prototype,t=e.hasOwnProperty,r=Object.defineProperty||function(m,p,b){m[p]=b.value},a=typeof Symbol=="function"?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function h(m,p,b){return Object.defineProperty(m,p,{value:b,enumerable:!0,configurable:!0,writable:!0}),m[p]}try{h({},"")}catch{h=function(p,b,A){return p[b]=A}}function c(m,p,b,A){var E=p&&p.prototype instanceof v?p:v,q=Object.create(E.prototype),Y=new G(A||[]);return r(q,"_invoke",{value:M(m,b,Y)}),q}function u(m,p,b){try{return{type:"normal",arg:m.call(p,b)}}catch(A){return{type:"throw",arg:A}}}n.wrap=c;var f={};function v(){}function w(){}function _(){}var F={};h(F,i,function(){return this});var k=Object.getPrototypeOf,N=k&&k(k(K([])));N&&N!==e&&t.call(N,i)&&(F=N);var g=_.prototype=v.prototype=Object.create(F);function y(m){["next","throw","return"].forEach(function(p){h(m,p,function(b){return this._invoke(p,b)})})}function C(m,p){function b(E,q,Y,Z){var s=u(m[E],m,q);if(s.type!=="throw"){var o=s.arg,P=o.value;return P&&typeof P=="object"&&t.call(P,"__await")?p.resolve(P.__await).then(function(S){b("next",S,Y,Z)},function(S){b("throw",S,Y,Z)}):p.resolve(P).then(function(S){o.value=S,Y(o)},function(S){return b("throw",S,Y,Z)})}Z(s.arg)}var A;r(this,"_invoke",{value:function(E,q){function Y(){return new p(function(Z,s){b(E,q,Z,s)})}return A=A?A.then(Y,Y):Y()}})}function M(m,p,b){var A="suspendedStart";return function(E,q){if(A==="executing")throw new Error("Generator is already running");if(A==="completed"){if(E==="throw")throw q;return be()}for(b.method=E,b.arg=q;;){var Y=b.delegate;if(Y){var Z=x(Y,b);if(Z){if(Z===f)continue;return Z}}if(b.method==="next")b.sent=b._sent=b.arg;else if(b.method==="throw"){if(A==="suspendedStart")throw A="completed",b.arg;b.dispatchException(b.arg)}else b.method==="return"&&b.abrupt("return",b.arg);A="executing";var s=u(m,p,b);if(s.type==="normal"){if(A=b.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:b.done}}s.type==="throw"&&(A="completed",b.method="throw",b.arg=s.arg)}}}function x(m,p){var b=p.method,A=m.iterator[b];if(A===void 0)return p.delegate=null,b==="throw"&&m.iterator.return&&(p.method="return",p.arg=void 0,x(m,p),p.method==="throw")||b!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+b+"' method")),f;var E=u(A,m.iterator,p.arg);if(E.type==="throw")return p.method="throw",p.arg=E.arg,p.delegate=null,f;var q=E.arg;return q?q.done?(p[m.resultName]=q.value,p.next=m.nextLoc,p.method!=="return"&&(p.method="next",p.arg=void 0),p.delegate=null,f):q:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,f)}function $(m){var p={tryLoc:m[0]};1 in m&&(p.catchLoc=m[1]),2 in m&&(p.finallyLoc=m[2],p.afterLoc=m[3]),this.tryEntries.push(p)}function T(m){var p=m.completion||{};p.type="normal",delete p.arg,m.completion=p}function G(m){this.tryEntries=[{tryLoc:"root"}],m.forEach($,this),this.reset(!0)}function K(m){if(m){var p=m[i];if(p)return p.call(m);if(typeof m.next=="function")return m;if(!isNaN(m.length)){var b=-1,A=function E(){for(;++b<m.length;)if(t.call(m,b))return E.value=m[b],E.done=!1,E;return E.value=void 0,E.done=!0,E};return A.next=A}}return{next:be}}function be(){return{value:void 0,done:!0}}return w.prototype=_,r(g,"constructor",{value:_,configurable:!0}),r(_,"constructor",{value:w,configurable:!0}),w.displayName=h(_,d,"GeneratorFunction"),n.isGeneratorFunction=function(m){var p=typeof m=="function"&&m.constructor;return!!p&&(p===w||(p.displayName||p.name)==="GeneratorFunction")},n.mark=function(m){return Object.setPrototypeOf?Object.setPrototypeOf(m,_):(m.__proto__=_,h(m,d,"GeneratorFunction")),m.prototype=Object.create(g),m},n.awrap=function(m){return{__await:m}},y(C.prototype),h(C.prototype,l,function(){return this}),n.AsyncIterator=C,n.async=function(m,p,b,A,E){E===void 0&&(E=Promise);var q=new C(c(m,p,b,A),E);return n.isGeneratorFunction(p)?q:q.next().then(function(Y){return Y.done?Y.value:q.next()})},y(g),h(g,d,"Generator"),h(g,i,function(){return this}),h(g,"toString",function(){return"[object Generator]"}),n.keys=function(m){var p=Object(m),b=[];for(var A in p)b.push(A);return b.reverse(),function E(){for(;b.length;){var q=b.pop();if(q in p)return E.value=q,E.done=!1,E}return E.done=!0,E}},n.values=K,G.prototype={constructor:G,reset:function(m){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!m)for(var p in this)p.charAt(0)==="t"&&t.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=void 0)},stop:function(){this.done=!0;var m=this.tryEntries[0].completion;if(m.type==="throw")throw m.arg;return this.rval},dispatchException:function(m){if(this.done)throw m;var p=this;function b(s,o){return q.type="throw",q.arg=m,p.next=s,o&&(p.method="next",p.arg=void 0),!!o}for(var A=this.tryEntries.length-1;A>=0;--A){var E=this.tryEntries[A],q=E.completion;if(E.tryLoc==="root")return b("end");if(E.tryLoc<=this.prev){var Y=t.call(E,"catchLoc"),Z=t.call(E,"finallyLoc");if(Y&&Z){if(this.prev<E.catchLoc)return b(E.catchLoc,!0);if(this.prev<E.finallyLoc)return b(E.finallyLoc)}else if(Y){if(this.prev<E.catchLoc)return b(E.catchLoc,!0)}else{if(!Z)throw new Error("try statement without catch or finally");if(this.prev<E.finallyLoc)return b(E.finallyLoc)}}}},abrupt:function(m,p){for(var b=this.tryEntries.length-1;b>=0;--b){var A=this.tryEntries[b];if(A.tryLoc<=this.prev&&t.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var E=A;break}}E&&(m==="break"||m==="continue")&&E.tryLoc<=p&&p<=E.finallyLoc&&(E=null);var q=E?E.completion:{};return q.type=m,q.arg=p,E?(this.method="next",this.next=E.finallyLoc,f):this.complete(q)},complete:function(m,p){if(m.type==="throw")throw m.arg;return m.type==="break"||m.type==="continue"?this.next=m.arg:m.type==="return"?(this.rval=this.arg=m.arg,this.method="return",this.next="end"):m.type==="normal"&&p&&(this.next=p),f},finish:function(m){for(var p=this.tryEntries.length-1;p>=0;--p){var b=this.tryEntries[p];if(b.finallyLoc===m)return this.complete(b.completion,b.afterLoc),T(b),f}},catch:function(m){for(var p=this.tryEntries.length-1;p>=0;--p){var b=this.tryEntries[p];if(b.tryLoc===m){var A=b.completion;if(A.type==="throw"){var E=A.arg;T(b)}return E}}throw new Error("illegal catch attempt")},delegateYield:function(m,p,b){return this.delegate={iterator:K(m),resultName:p,nextLoc:b},this.method==="next"&&(this.arg=void 0),f}},n}function at(n,e,t,r,a,i,l){try{var d=n[i](l),h=d.value}catch(c){t(c);return}d.done?e(h):Promise.resolve(h).then(r,a)}function he(n){return function(){var e=this,t=arguments;return new Promise(function(r,a){var i=n.apply(e,t);function l(h){at(i,r,a,l,d,"next",h)}function d(h){at(i,r,a,l,d,"throw",h)}l(void 0)})}}function ft(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ot(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,pt(r.key),r)}}function ht(n,e,t){return e&&ot(n.prototype,e),t&&ot(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Me(n,e,t){return e=pt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Pe(n,e)}function _e(n){return _e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_e(n)}function Pe(n,e){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Pe(n,e)}function vt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Te(n,e,t){return vt()?Te=Reflect.construct.bind():Te=function(a,i,l){var d=[null];d.push.apply(d,i);var h=Function.bind.apply(a,d),c=new h;return l&&Pe(c,l.prototype),c},Te.apply(null,arguments)}function cr(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function Le(n){var e=typeof Map=="function"?new Map:void 0;return Le=function(r){if(r===null||!cr(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,a)}function a(){return Te(r,arguments,_e(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Pe(a,r)},Le(n)}function Fe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function dr(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fe(n)}function fr(n){var e=vt();return function(){var r=_e(n),a;if(e){var i=_e(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return dr(this,a)}}function hr(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function pt(n){var e=hr(n,"string");return typeof e=="symbol"?e:String(e)}var mt=typeof global<"u"&&{}.toString.call(global)==="[object global]";function it(n,e){return n.indexOf(e.toLowerCase())===0?n:"".concat(e.toLowerCase()).concat(n.substr(0,1).toUpperCase()).concat(n.substr(1))}function vr(n){return!!(n&&n.nodeType===1&&"nodeName"in n&&n.ownerDocument&&n.ownerDocument.defaultView)}function pr(n){return!isNaN(parseFloat(n))&&isFinite(n)&&Math.floor(n)==n}function pe(n){return/^(https?:)?\/\/((((player|www)\.)?vimeo\.com)|((player\.)?[a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))(?=$|\/)/.test(n)}function gt(n){var e=/^https:\/\/player\.((vimeo\.com)|([a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))\/video\/\d+/;return e.test(n)}function mr(n){for(var e=(n||"").match(/^(?:https?:)?(?:\/\/)?([^/?]+)/),t=(e&&e[1]||"").replace("player.",""),r=[".videoji.hk",".vimeo.work",".videoji.cn"],a=0,i=r;a<i.length;a++){var l=i[a];if(t.endsWith(l))return t}return"vimeo.com"}function yt(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.id,t=n.url,r=e||t;if(!r)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(pr(r))return"https://vimeo.com/".concat(r);if(pe(r))return r.replace("http:","https:");throw e?new TypeError("“".concat(e,"” is not a valid video id.")):new TypeError("“".concat(r,"” is not a vimeo.com url."))}var st=function(e,t,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"addEventListener",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"removeEventListener",l=typeof t=="string"?[t]:t;return l.forEach(function(d){e[a](d,r)}),{cancel:function(){return l.forEach(function(h){return e[i](h,r)})}}},gr=typeof Array.prototype.indexOf<"u",yr=typeof window<"u"&&typeof window.postMessage<"u";if(!mt&&(!gr||!yr))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wr(n,e){return e={exports:{}},n(e,e.exports),e.exports}/*!
 * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */(function(n){if(n.WeakMap)return;var e=Object.prototype.hasOwnProperty,t=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),r=function(i,l,d){t?Object.defineProperty(i,l,{configurable:!0,writable:!0,value:d}):i[l]=d};n.WeakMap=function(){function i(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(r(this,"_id",d("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}r(i.prototype,"delete",function(c){if(l(this,"delete"),!a(c))return!1;var u=c[this._id];return u&&u[0]===c?(delete c[this._id],!0):!1}),r(i.prototype,"get",function(c){if(l(this,"get"),!!a(c)){var u=c[this._id];if(u&&u[0]===c)return u[1]}}),r(i.prototype,"has",function(c){if(l(this,"has"),!a(c))return!1;var u=c[this._id];return!!(u&&u[0]===c)}),r(i.prototype,"set",function(c,u){if(l(this,"set"),!a(c))throw new TypeError("Invalid value used as weak map key");var f=c[this._id];return f&&f[0]===c?(f[1]=u,this):(r(c,this._id,[c,u]),this)});function l(c,u){if(!a(c)||!e.call(c,"_id"))throw new TypeError(u+" method called on incompatible receiver "+typeof c)}function d(c){return c+"_"+h()+"."+h()}function h(){return Math.random().toString().substring(2)}return r(i,"_polyfill",!0),i}();function a(i){return Object(i)===i}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:we);var re=wr(function(n){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(t,r,a){r[t]=r[t]||a(),n.exports&&(n.exports=r[t])})("Promise",we,function(){var t,r,a,i=Object.prototype.toString,l=typeof setImmediate<"u"?function(y){return setImmediate(y)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(y,C,M,x){return Object.defineProperty(y,C,{value:M,writable:!0,configurable:x!==!1})}}catch{t=function(C,M,x){return C[M]=x,C}}a=function(){var y,C,M;function x($,T){this.fn=$,this.self=T,this.next=void 0}return{add:function(T,G){M=new x(T,G),C?C.next=M:y=M,C=M,M=void 0},drain:function(){var T=y;for(y=C=r=void 0;T;)T.fn.call(T.self),T=T.next}}}();function d(g,y){a.add(g,y),r||(r=l(a.drain))}function h(g){var y,C=typeof g;return g!=null&&(C=="object"||C=="function")&&(y=g.then),typeof y=="function"?y:!1}function c(){for(var g=0;g<this.chain.length;g++)u(this,this.state===1?this.chain[g].success:this.chain[g].failure,this.chain[g]);this.chain.length=0}function u(g,y,C){var M,x;try{y===!1?C.reject(g.msg):(y===!0?M=g.msg:M=y.call(void 0,g.msg),M===C.promise?C.reject(TypeError("Promise-chain cycle")):(x=h(M))?x.call(M,C.resolve,C.reject):C.resolve(M))}catch($){C.reject($)}}function f(g){var y,C=this;if(!C.triggered){C.triggered=!0,C.def&&(C=C.def);try{(y=h(g))?d(function(){var M=new _(C);try{y.call(g,function(){f.apply(M,arguments)},function(){v.apply(M,arguments)})}catch(x){v.call(M,x)}}):(C.msg=g,C.state=1,C.chain.length>0&&d(c,C))}catch(M){v.call(new _(C),M)}}}function v(g){var y=this;y.triggered||(y.triggered=!0,y.def&&(y=y.def),y.msg=g,y.state=2,y.chain.length>0&&d(c,y))}function w(g,y,C,M){for(var x=0;x<y.length;x++)(function(T){g.resolve(y[T]).then(function(K){C(T,K)},M)})(x)}function _(g){this.def=g,this.triggered=!1}function F(g){this.promise=g,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function k(g){if(typeof g!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var y=new F(this);this.then=function(M,x){var $={success:typeof M=="function"?M:!0,failure:typeof x=="function"?x:!1};return $.promise=new this.constructor(function(G,K){if(typeof G!="function"||typeof K!="function")throw TypeError("Not a function");$.resolve=G,$.reject=K}),y.chain.push($),y.state!==0&&d(c,y),$.promise},this.catch=function(M){return this.then(void 0,M)};try{g.call(void 0,function(M){f.call(y,M)},function(M){v.call(y,M)})}catch(C){v.call(y,C)}}var N=t({},"constructor",k,!1);return k.prototype=N,t(N,"__NPO__",0,!1),t(k,"resolve",function(y){var C=this;return y&&typeof y=="object"&&y.__NPO__===1?y:new C(function(x,$){if(typeof x!="function"||typeof $!="function")throw TypeError("Not a function");x(y)})}),t(k,"reject",function(y){return new this(function(M,x){if(typeof M!="function"||typeof x!="function")throw TypeError("Not a function");x(y)})}),t(k,"all",function(y){var C=this;return i.call(y)!="[object Array]"?C.reject(TypeError("Not an array")):y.length===0?C.resolve([]):new C(function(x,$){if(typeof x!="function"||typeof $!="function")throw TypeError("Not a function");var T=y.length,G=Array(T),K=0;w(C,y,function(m,p){G[m]=p,++K===T&&x(G)},$)})}),t(k,"race",function(y){var C=this;return i.call(y)!="[object Array]"?C.reject(TypeError("Not an array")):new C(function(x,$){if(typeof x!="function"||typeof $!="function")throw TypeError("Not a function");w(C,y,function(G,K){x(K)},$)})}),k})}),ue=new WeakMap;function ke(n,e,t){var r=ue.get(n.element)||{};e in r||(r[e]=[]),r[e].push(t),ue.set(n.element,r)}function Se(n,e){var t=ue.get(n.element)||{};return t[e]||[]}function Ie(n,e,t){var r=ue.get(n.element)||{};if(!r[e])return!0;if(!t)return r[e]=[],ue.set(n.element,r),!0;var a=r[e].indexOf(t);return a!==-1&&r[e].splice(a,1),ue.set(n.element,r),r[e]&&r[e].length===0}function br(n,e){var t=Se(n,e);if(t.length<1)return!1;var r=t.shift();return Ie(n,e,r),r}function kr(n,e){var t=ue.get(n);ue.set(e,t),ue.delete(n)}function Oe(n){if(typeof n=="string")try{n=JSON.parse(n)}catch(e){return console.warn(e),{}}return n}function fe(n,e,t){if(!(!n.element.contentWindow||!n.element.contentWindow.postMessage)){var r={method:e};t!==void 0&&(r.value=t);var a=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));a>=8&&a<10&&(r=JSON.stringify(r)),n.element.contentWindow.postMessage(r,n.origin)}}function Cr(n,e){e=Oe(e);var t=[],r;if(e.event){if(e.event==="error"){var a=Se(n,e.data.method);a.forEach(function(l){var d=new Error(e.data.message);d.name=e.data.name,l.reject(d),Ie(n,e.data.method,l)})}t=Se(n,"event:".concat(e.event)),r=e.data}else if(e.method){var i=br(n,e.method);i&&(t.push(i),r=e.value)}t.forEach(function(l){try{if(typeof l=="function"){l.call(n,r);return}l.resolve(r)}catch{}})}var _r=["airplay","audio_tracks","autopause","autoplay","background","byline","cc","chapter_id","chapters","chromecast","color","colors","controls","dnt","end_time","fullscreen","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","play_button_position","playsinline","portrait","progress_bar","quality_selector","responsive","speed","start_time","texttrack","title","transcript","transparent","url","vimeo_logo","volume","watch_full_video","width"];function wt(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _r.reduce(function(t,r){var a=n.getAttribute("data-vimeo-".concat(r));return(a||a==="")&&(t[r]=a===""?1:a),t},e)}function Ye(n,e){var t=n.html;if(!e)throw new TypeError("An element must be provided");if(e.getAttribute("data-vimeo-initialized")!==null)return e.querySelector("iframe");var r=document.createElement("div");return r.innerHTML=t,e.appendChild(r.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function bt(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;return new Promise(function(r,a){if(!pe(n))throw new TypeError("“".concat(n,"” is not a vimeo.com url."));var i=mr(n),l="https://".concat(i,"/api/oembed.json?url=").concat(encodeURIComponent(n));for(var d in e)e.hasOwnProperty(d)&&(l+="&".concat(d,"=").concat(encodeURIComponent(e[d])));var h="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;h.open("GET",l,!0),h.onload=function(){if(h.status===404){a(new Error("“".concat(n,"” was not found.")));return}if(h.status===403){a(new Error("“".concat(n,"” is not embeddable.")));return}try{var c=JSON.parse(h.responseText);if(c.domain_status_code===403){Ye(c,t),a(new Error("“".concat(n,"” is not embeddable.")));return}r(c)}catch(u){a(u)}},h.onerror=function(){var c=h.status?" (".concat(h.status,")"):"";a(new Error("There was an error fetching the embed code from Vimeo".concat(c,".")))},h.send()})}function Pr(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,e=[].slice.call(n.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),t=function(a){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(a))};e.forEach(function(r){try{if(r.getAttribute("data-vimeo-defer")!==null)return;var a=wt(r),i=yt(a);bt(i,a,r).then(function(l){return Ye(l,r)}).catch(t)}catch(l){t(l)}})}function Er(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var e=function(r){if(pe(r.origin)&&!(!r.data||r.data.event!=="spacechange")){for(var a=n.querySelectorAll("iframe"),i=0;i<a.length;i++)if(a[i].contentWindow===r.source){var l=a[i].parentElement;l.style.paddingBottom="".concat(r.data.data[0].bottom,"px");break}}};window.addEventListener("message",e)}}function xr(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var e=function(r){if(pe(r.origin)){var a=Oe(r.data);if(!(!a||a.event!=="ready"))for(var i=n.querySelectorAll("iframe"),l=0;l<i.length;l++){var d=i[l],h=d.contentWindow===r.source;if(gt(d.src)&&h){var c=new Ge(d);c.callMethod("appendVideoMetadata",window.location.href)}}}};window.addEventListener("message",e)}}function Mr(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var e=function(a){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(a))},t=function(a){if(pe(a.origin)){var i=Oe(a.data);if(!(!i||i.event!=="ready"))for(var l=n.querySelectorAll("iframe"),d=function(){var u=l[h],f=u.contentWindow===a.source;if(gt(u.src)&&f){var v=new Ge(u);v.getVideoId().then(function(w){var _=new RegExp("[?&]vimeo_t_".concat(w,"=([^&#]*)")).exec(window.location.href);if(_&&_[1]){var F=decodeURI(_[1]);v.setCurrentTime(F)}}).catch(e)}},h=0;h<l.length;h++)d()}};window.addEventListener("message",t)}}function Tr(){var n=function(){for(var r,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,l=a.length,d={};i<l;i++)if(r=a[i],r&&r[1]in document){for(i=0;i<r.length;i++)d[a[0][i]]=r[i];return d}return!1}(),e={fullscreenchange:n.fullscreenchange,fullscreenerror:n.fullscreenerror},t={request:function(a){return new Promise(function(i,l){var d=function c(){t.off("fullscreenchange",c),i()};t.on("fullscreenchange",d),a=a||document.documentElement;var h=a[n.requestFullscreen]();h instanceof Promise&&h.then(d).catch(l)})},exit:function(){return new Promise(function(a,i){if(!t.isFullscreen){a();return}var l=function h(){t.off("fullscreenchange",h),a()};t.on("fullscreenchange",l);var d=document[n.exitFullscreen]();d instanceof Promise&&d.then(l).catch(i)})},on:function(a,i){var l=e[a];l&&document.addEventListener(l,i)},off:function(a,i){var l=e[a];l&&document.removeEventListener(l,i)}};return Object.defineProperties(t,{isFullscreen:{get:function(){return!!document[n.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!document[n.fullscreenEnabled]}}}),t}var Fr={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},Sr=function(n){lr(t,n);var e=fr(t);function t(r,a){var i,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3?arguments[3]:void 0;return ft(this,t),i=e.call(this),Me(Fe(i),"logger",void 0),Me(Fe(i),"speedAdjustment",0),Me(Fe(i),"adjustSpeed",function(){var h=he(J().mark(function c(u,f){var v;return J().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(i.speedAdjustment!==f){_.next=2;break}return _.abrupt("return");case 2:return _.next=4,u.getPlaybackRate();case 4:return _.t0=_.sent,_.t1=i.speedAdjustment,_.t2=_.t0-_.t1,_.t3=f,v=_.t2+_.t3,i.log("New playbackRate:  ".concat(v)),_.next=12,u.setPlaybackRate(v);case 12:i.speedAdjustment=f;case 13:case"end":return _.stop()}},c)}));return function(c,u){return h.apply(this,arguments)}}()),i.logger=d,i.init(a,r,nt(nt({},Fr),l)),i}return ht(t,[{key:"disconnect",value:function(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:function(){var r=he(J().mark(function i(l,d,h){var c=this,u,f,v;return J().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this.waitForTOReadyState(l,"open");case 2:if(h.role!=="viewer"){_.next=10;break}return _.next=5,this.updatePlayer(l,d,h);case 5:u=st(l,"change",function(){return c.updatePlayer(l,d,h)}),f=this.maintainPlaybackPosition(l,d,h),this.addEventListener("disconnect",function(){f.cancel(),u.cancel()}),_.next=14;break;case 10:return _.next=12,this.updateTimingObject(l,d);case 12:v=st(d,["seeked","play","pause","ratechange"],function(){return c.updateTimingObject(l,d)},"on","off"),this.addEventListener("disconnect",function(){return v.cancel()});case 14:case"end":return _.stop()}},i,this)}));function a(i,l,d){return r.apply(this,arguments)}return a}()},{key:"updateTimingObject",value:function(){var r=he(J().mark(function i(l,d){return J().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=l,c.next=3,d.getCurrentTime();case 3:return c.t1=c.sent,c.next=6,d.getPaused();case 6:if(!c.sent){c.next=10;break}c.t2=0,c.next=13;break;case 10:return c.next=12,d.getPlaybackRate();case 12:c.t2=c.sent;case 13:c.t3=c.t2,c.t4={position:c.t1,velocity:c.t3},c.t0.update.call(c.t0,c.t4);case 16:case"end":return c.stop()}},i)}));function a(i,l){return r.apply(this,arguments)}return a}()},{key:"updatePlayer",value:function(){var r=he(J().mark(function i(l,d,h){var c,u,f;return J().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(c=l.query(),u=c.position,f=c.velocity,typeof u=="number"&&d.setCurrentTime(u),typeof f!="number"){w.next=25;break}if(f!==0){w.next=11;break}return w.next=6,d.getPaused();case 6:if(w.t0=w.sent,w.t0!==!1){w.next=9;break}d.pause();case 9:w.next=25;break;case 11:if(!(f>0)){w.next=25;break}return w.next=14,d.getPaused();case 14:if(w.t1=w.sent,w.t1!==!0){w.next=19;break}return w.next=18,d.play().catch(function(){var _=he(J().mark(function F(k){return J().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!(k.name==="NotAllowedError"&&h.autoPlayMuted)){g.next=5;break}return g.next=3,d.setMuted(!0);case 3:return g.next=5,d.play().catch(function(y){return console.error("Couldn't play the video from TimingSrcConnector. Error:",y)});case 5:case"end":return g.stop()}},F)}));return function(F){return _.apply(this,arguments)}}());case 18:this.updatePlayer(l,d,h);case 19:return w.next=21,d.getPlaybackRate();case 21:if(w.t2=w.sent,w.t3=f,w.t2===w.t3){w.next=25;break}d.setPlaybackRate(f);case 25:case"end":return w.stop()}},i,this)}));function a(i,l,d){return r.apply(this,arguments)}return a}()},{key:"maintainPlaybackPosition",value:function(a,i,l){var d=this,h=l.allowedDrift,c=l.maxAllowedDrift,u=l.minCheckInterval,f=l.maxRateAdjustment,v=l.maxTimeToCatchUp,w=Math.min(v,Math.max(u,c))*1e3,_=function(){var k=he(J().mark(function N(){var g,y,C,M,x;return J().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(T.t0=a.query().velocity===0,T.t0){T.next=6;break}return T.next=4,i.getPaused();case 4:T.t1=T.sent,T.t0=T.t1===!0;case 6:if(!T.t0){T.next=8;break}return T.abrupt("return");case 8:return T.t2=a.query().position,T.next=11,i.getCurrentTime();case 11:if(T.t3=T.sent,g=T.t2-T.t3,y=Math.abs(g),d.log("Drift: ".concat(g)),!(y>c)){T.next=22;break}return T.next=18,d.adjustSpeed(i,0);case 18:i.setCurrentTime(a.query().position),d.log("Resync by currentTime"),T.next=29;break;case 22:if(!(y>h)){T.next=29;break}return C=y/v,M=f,x=C<M?(M-C)/2:M,T.next=28,d.adjustSpeed(i,x*Math.sign(g));case 28:d.log("Resync by playbackRate");case 29:case"end":return T.stop()}},N)}));return function(){return k.apply(this,arguments)}}(),F=setInterval(function(){return _()},w);return{cancel:function(){return clearInterval(F)}}}},{key:"log",value:function(a){var i;(i=this.logger)===null||i===void 0||i.call(this,"TimingSrcConnector: ".concat(a))}},{key:"waitForTOReadyState",value:function(a,i){return new Promise(function(l){var d=function h(){a.readyState===i?l():a.addEventListener("readystatechange",h,{once:!0})};d()})}}]),t}(Le(EventTarget)),me=new WeakMap,Ne=new WeakMap,ee={},Ge=function(){function n(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ft(this,n),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),typeof document<"u"&&typeof e=="string"&&(e=document.getElementById(e)),!vr(e))throw new TypeError("You must pass either a valid element or a valid id.");if(e.nodeName!=="IFRAME"){var a=e.querySelector("iframe");a&&(e=a)}if(e.nodeName==="IFRAME"&&!pe(e.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(me.has(e))return me.get(e);this._window=e.ownerDocument.defaultView,this.element=e,this.origin="*";var i=new re(function(d,h){if(t._onMessage=function(f){if(!(!pe(f.origin)||t.element.contentWindow!==f.source)){t.origin==="*"&&(t.origin=f.origin);var v=Oe(f.data),w=v&&v.event==="error",_=w&&v.data&&v.data.method==="ready";if(_){var F=new Error(v.data.message);F.name=v.data.name,h(F);return}var k=v&&v.event==="ready",N=v&&v.method==="ping";if(k||N){t.element.setAttribute("data-ready","true"),d();return}Cr(t,v)}},t._window.addEventListener("message",t._onMessage),t.element.nodeName!=="IFRAME"){var c=wt(e,r),u=yt(c);bt(u,c,e).then(function(f){var v=Ye(f,e);return t.element=v,t._originalElement=e,kr(e,v),me.set(t.element,t),f}).catch(h)}});if(Ne.set(this,i),me.set(this.element,this),this.element.nodeName==="IFRAME"&&fe(this,"ping"),ee.isEnabled){var l=function(){return ee.exit()};this.fullscreenchangeHandler=function(){ee.isFullscreen?ke(t,"event:exitFullscreen",l):Ie(t,"event:exitFullscreen",l),t.ready().then(function(){fe(t,"fullscreenchange",ee.isFullscreen)})},ee.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return ht(n,[{key:"callMethod",value:function(t){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new re(function(i,l){return r.ready().then(function(){ke(r,t,{resolve:i,reject:l}),fe(r,t,a)}).catch(l)})}},{key:"get",value:function(t){var r=this;return new re(function(a,i){return t=it(t,"get"),r.ready().then(function(){ke(r,t,{resolve:a,reject:i}),fe(r,t)}).catch(i)})}},{key:"set",value:function(t,r){var a=this;return new re(function(i,l){if(t=it(t,"set"),r==null)throw new TypeError("There must be a value to set.");return a.ready().then(function(){ke(a,t,{resolve:i,reject:l}),fe(a,t,r)}).catch(l)})}},{key:"on",value:function(t,r){if(!t)throw new TypeError("You must pass an event name.");if(!r)throw new TypeError("You must pass a callback function.");if(typeof r!="function")throw new TypeError("The callback must be a function.");var a=Se(this,"event:".concat(t));a.length===0&&this.callMethod("addEventListener",t).catch(function(){}),ke(this,"event:".concat(t),r)}},{key:"off",value:function(t,r){if(!t)throw new TypeError("You must pass an event name.");if(r&&typeof r!="function")throw new TypeError("The callback must be a function.");var a=Ie(this,"event:".concat(t),r);a&&this.callMethod("removeEventListener",t).catch(function(i){})}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=Ne.get(this)||new re(function(r,a){a(new Error("Unknown player. Probably unloaded."))});return re.resolve(t)}},{key:"addCuePoint",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.callMethod("addCuePoint",{time:t,data:r})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t,r){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:r})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return ee.isEnabled?ee.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return ee.isEnabled?ee.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return ee.isEnabled?re.resolve(ee.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var t=this;return new re(function(r){if(Ne.delete(t),me.delete(t.element),t._originalElement&&(me.delete(t._originalElement),t._originalElement.removeAttribute("data-vimeo-initialized")),t.element&&t.element.nodeName==="IFRAME"&&t.element.parentNode&&(t.element.parentNode.parentNode&&t._originalElement&&t._originalElement!==t.element.parentNode?t.element.parentNode.parentNode.removeChild(t.element.parentNode):t.element.parentNode.removeChild(t.element)),t.element&&t.element.nodeName==="DIV"&&t.element.parentNode){t.element.removeAttribute("data-vimeo-initialized");var a=t.element.querySelector("iframe");a&&a.parentNode&&(a.parentNode.parentNode&&t._originalElement&&t._originalElement!==a.parentNode?a.parentNode.parentNode.removeChild(a.parentNode):a.parentNode.removeChild(a))}t._window.removeEventListener("message",t._onMessage),ee.isEnabled&&ee.off("fullscreenchange",t.fullscreenchangeHandler),r()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(t){return this.set("cameraProps",t)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"getColors",value:function(){return re.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"setColors",value:function(t){if(!Array.isArray(t))return new re(function(i,l){return l(new TypeError("Argument must be an array."))});var r=new re(function(i){return i(null)}),a=[t[0]?this.set("colorOne",t[0]):r,t[1]?this.set("colorTwo",t[1]):r,t[2]?this.set("colorThree",t[2]):r,t[3]?this.set("colorFour",t[3]):r];return re.all(a)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"setMuted",value:function(t){return this.set("muted",t)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(t){return this.set("quality",t)}},{key:"getRemotePlaybackAvailability",value:function(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}},{key:"setTimingSrc",value:function(){var e=he(J().mark(function r(a,i){var l=this,d;return J().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(a){c.next=2;break}throw new TypeError("A Timing Object must be provided.");case 2:return c.next=4,this.ready();case 4:return d=new Sr(this,a,i),fe(this,"notifyTimingObjectConnect"),d.addEventListener("disconnect",function(){return fe(l,"notifyTimingObjectDisconnect")}),c.abrupt("return",d);case 8:case"end":return c.stop()}},r,this)}));function t(r,a){return e.apply(this,arguments)}return t}()}]),n}();mt||(ee=Tr(),Pr(),Er(),xr(),Mr());const Ir={__name:"Vimeo",props:{lessonUrl:{type:String,default:""},lessonId:{type:Number,default:0},width:{type:Number,default:640},height:{type:Number,default:564},seek:{type:Number,default:0},classVideo:{type:String,default:"video-container mb-8 border rounded-lg border-dark-900"}},emits:["video-start","video-pause","video-running","video-ended"],setup(n,{emit:e}){const t=ze(()=>a.classVideo+" "+(u.value.value?"fancy-background06":"")),r=e,a=n;let i=te(null),l=te(null),d=null,h=te(null),c=te(null),u=te(!0);ct(()=>{a.lessonUrl&&(d=new Ge(i.value,{url:a.lessonUrl,width:a.width,height:a.height,quality:"auto"}),d.ready().then(function(){u.value=!1,a.seek>0&&f(a.seek)}),d.on("pause",async function(){await v(),r("video-pause",l.value),h.value&&clearInterval(h.value),c.value&&clearInterval(c.value)}),d.on("ended",async function(){await v(),r("video-ended",l.value),h.value&&clearInterval(h.value),c.value&&clearInterval(c.value),d.exitFullscreen()}),d.on("play",async function(){await v(),r("video-start",l.value),w(),_()}))}),dt(()=>{h.value&&clearInterval(h.value)});const f=F=>{d.setCurrentTime(F)},v=async()=>{await d.getCurrentTime().then(function(F){l.value=F})},w=()=>{h.value=setInterval(async()=>{await v(),r("video-running",l.value)},5e3)},_=()=>{c.value=setInterval(async()=>{await v(),r("video-lesson-points",l.value)},1e3)};return(F,k)=>(ne(),le("div",{class:Ce(t.value)},[I("div",{ref_key:"videoPlayerRef",ref:i},null,512)],2))}};var je={exports:{}},kt;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/kt=function(){var n={},e={};return n.on=function(t,r){var a={name:t,handler:r};return e[t]=e[t]||[],e[t].unshift(a),a},n.off=function(t){var r=e[t.name].indexOf(t);r!==-1&&e[t.name].splice(r,1)},n.trigger=function(t,r){var a=e[t],i;if(a)for(i=a.length;i--;)a[i].handler(r)},n};var Or=kt,Ve={exports:{}},De={exports:{}},Re,ut;function Ar(){if(ut)return Re;ut=1;var n=1e3,e=n*60,t=e*60,r=t*24,a=r*7,i=r*365.25;Re=function(u,f){f=f||{};var v=typeof u;if(v==="string"&&u.length>0)return l(u);if(v==="number"&&isFinite(u))return f.long?h(u):d(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function l(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(f){var v=parseFloat(f[1]),w=(f[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return v*i;case"weeks":case"week":case"w":return v*a;case"days":case"day":case"d":return v*r;case"hours":case"hour":case"hrs":case"hr":case"h":return v*t;case"minutes":case"minute":case"mins":case"min":case"m":return v*e;case"seconds":case"second":case"secs":case"sec":case"s":return v*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}function d(u){var f=Math.abs(u);return f>=r?Math.round(u/r)+"d":f>=t?Math.round(u/t)+"h":f>=e?Math.round(u/e)+"m":f>=n?Math.round(u/n)+"s":u+"ms"}function h(u){var f=Math.abs(u);return f>=r?c(u,f,r,"day"):f>=t?c(u,f,t,"hour"):f>=e?c(u,f,e,"minute"):f>=n?c(u,f,n,"second"):u+" ms"}function c(u,f,v,w){var _=f>=v*1.5;return Math.round(u/v)+" "+w+(_?"s":"")}return Re}function Nr(n){t.debug=t,t.default=t,t.coerce=h,t.disable=i,t.enable=a,t.enabled=l,t.humanize=Ar(),t.destroy=c,Object.keys(n).forEach(u=>{t[u]=n[u]}),t.names=[],t.skips=[],t.formatters={};function e(u){let f=0;for(let v=0;v<u.length;v++)f=(f<<5)-f+u.charCodeAt(v),f|=0;return t.colors[Math.abs(f)%t.colors.length]}t.selectColor=e;function t(u){let f,v=null,w,_;function F(...k){if(!F.enabled)return;const N=F,g=Number(new Date),y=g-(f||g);N.diff=y,N.prev=f,N.curr=g,f=g,k[0]=t.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let C=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(x,$)=>{if(x==="%%")return"%";C++;const T=t.formatters[$];if(typeof T=="function"){const G=k[C];x=T.call(N,G),k.splice(C,1),C--}return x}),t.formatArgs.call(N,k),(N.log||t.log).apply(N,k)}return F.namespace=u,F.useColors=t.useColors(),F.color=t.selectColor(u),F.extend=r,F.destroy=t.destroy,Object.defineProperty(F,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(w!==t.namespaces&&(w=t.namespaces,_=t.enabled(u)),_),set:k=>{v=k}}),typeof t.init=="function"&&t.init(F),F}function r(u,f){const v=t(this.namespace+(typeof f>"u"?":":f)+u);return v.log=this.log,v}function a(u){t.save(u),t.namespaces=u,t.names=[],t.skips=[];let f;const v=(typeof u=="string"?u:"").split(/[\s,]+/),w=v.length;for(f=0;f<w;f++)v[f]&&(u=v[f].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.slice(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...t.names.map(d),...t.skips.map(d).map(f=>"-"+f)].join(",");return t.enable(""),u}function l(u){if(u[u.length-1]==="*")return!0;let f,v;for(f=0,v=t.skips.length;f<v;f++)if(t.skips[f].test(u))return!1;for(f=0,v=t.names.length;f<v;f++)if(t.names[f].test(u))return!0;return!1}function d(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function h(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var Rr=Nr;(function(n,e){e.formatArgs=r,e.save=a,e.load=i,e.useColors=t,e.storage=l(),e.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let h;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(h=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(h[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;h.splice(1,0,c,"color: inherit");let u=0,f=0;h[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(u++,v==="%c"&&(f=u))}),h.splice(f,0,c)}e.log=console.debug||console.log||(()=>{});function a(h){try{h?e.storage.setItem("debug",h):e.storage.removeItem("debug")}catch{}}function i(){let h;try{h=e.storage.getItem("debug")}catch{}return!h&&typeof process<"u"&&"env"in process&&(h={}.DEBUG),h}function l(){try{return localStorage}catch{}}n.exports=Rr(e);const{formatters:d}=n.exports;d.j=function(h){try{return JSON.stringify(h)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(De,De.exports);var Lr=De.exports,$e={exports:{}},qe={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=e.default})(qe,qe.exports);var jr=qe.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=jr,r=a(t);function a(i){return i&&i.__esModule?i:{default:i}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=e.default})($e,$e.exports);var Vr=$e.exports,Be={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=e.default})(Be,Be.exports);var Dr=Be.exports,Ue={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],n.exports=e.default})(Ue,Ue.exports);var $r=Ue.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Lr,r=u(t),a=Vr,i=u(a),l=Dr,d=u(l),h=$r,c=u(h);function u(w){return w&&w.__esModule?w:{default:w}}const f=(0,r.default)("youtube-player"),v={};v.proxyEvents=w=>{const _={};for(const F of d.default){const k="on"+F.slice(0,1).toUpperCase()+F.slice(1);_[k]=N=>{f('event "%s"',k,N),w.trigger(F,N)}}return _},v.promisifyPlayer=(w,_=!1)=>{const F={};for(const k of c.default)_&&i.default[k]?F[k]=(...N)=>w.then(g=>{const y=i.default[k],C=g.getPlayerState(),M=g[k].apply(g,N);return y.stateChangeRequired||Array.isArray(y.acceptableStates)&&!y.acceptableStates.includes(C)?new Promise(x=>{const $=()=>{const T=g.getPlayerState();let G;typeof y.timeout=="number"&&(G=setTimeout(()=>{g.removeEventListener("onStateChange",$),x()},y.timeout)),Array.isArray(y.acceptableStates)&&y.acceptableStates.includes(T)&&(g.removeEventListener("onStateChange",$),clearTimeout(G),x())};g.addEventListener("onStateChange",$)}).then(()=>M):M}):F[k]=(...N)=>w.then(g=>g[k].apply(g,N));return F},e.default=v,n.exports=e.default})(Ve,Ve.exports);var qr=Ve.exports,We={exports:{}},Br=function(e,t,r){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");typeof t=="function"&&(r=t,t={}),t=t||{},r=r||function(){},i.type=t.type||"text/javascript",i.charset=t.charset||"utf8",i.async="async"in t?!!t.async:!0,i.src=e,t.attrs&&Ur(i,t.attrs),t.text&&(i.text=""+t.text);var l="onload"in i?lt:Wr;l(i,r),i.onload||lt(i,r),a.appendChild(i)};function Ur(n,e){for(var t in e)n.setAttribute(t,e[t])}function lt(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function Wr(n,e){n.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,n))}}(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Br,r=a(t);function a(i){return i&&i.__esModule?i:{default:i}}e.default=i=>new Promise(d=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){d(window.YT);return}else{const c=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(c+"//www.youtube.com/iframe_api",u=>{u&&i.trigger("error",u)})}const h=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{h&&h(),d(window.YT)}}),n.exports=e.default})(We,We.exports);var zr=We.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Or,r=h(t),a=qr,i=h(a),l=zr,d=h(l);function h(u){return u&&u.__esModule?u:{default:u}}let c;e.default=(u,f={},v=!1)=>{const w=(0,r.default)();if(c||(c=(0,d.default)(w)),f.events)throw new Error("Event handlers cannot be overwritten.");if(typeof u=="string"&&!document.getElementById(u))throw new Error('Element "'+u+'" does not exist.');f.events=i.default.proxyEvents(w);const _=new Promise(k=>{typeof u=="object"&&u.playVideo instanceof Function?k(u):c.then(N=>{const g=new N.Player(u,f);return w.on("ready",()=>{k(g)}),null})}),F=i.default.promisifyPlayer(_,v);return F.on=w.on,F.off=w.off,F},n.exports=e.default})(je,je.exports);var Yr=je.exports;const Gr=Nt(Yr),Hr={__name:"YouTube",props:{videoId:{type:String,default:""},lessonId:{type:Number,default:0},width:{type:Number,default:640},height:{type:Number,default:564},seek:{type:Number,default:0},classVideo:{type:String,default:"video-container mb-8 border rounded-lg border-dark-900"}},emits:["video-start","video-pause","video-running","video-ended"],setup(n,{emit:e}){const t=n,r=e,a=ze(()=>t.classVideo+" "+(u.value.value?"fancy-background06":""));let i=te(null),l=te(null),d=null,h=te(null),c=te(null),u=te(!0);ct(()=>{if(t.videoId){const k=t.videoId;d=Gr(i.value,{videoId:k,width:t.width,height:t.height}),d.on("stateChange",async function(N){const g=N.data;g===1?(await v(),r("video-start",l.value),w(),_()):g===2?(await v(),r("video-pause",l.value),F()):g===0&&(await v(),r("video-ended",l.value),F())}),d.on("ready",()=>{u.value=!1,t.seek>0&&f(t.seek)})}}),dt(()=>{F()});const f=k=>{d.seekTo(k,!0)},v=async()=>{await d.getCurrentTime().then(function(k){l.value=k})},w=()=>{h.value=setInterval(async()=>{await v(),r("video-running",l.value)},5e3)},_=()=>{c.value=setInterval(async()=>{await v(),r("video-lesson-points",l.value)},1e3)},F=()=>{h.value&&clearInterval(h.value),c.value&&clearInterval(c.value)};return(k,N)=>(ne(),le("div",{class:Ce(a.value)},[I("div",{ref_key:"videoPlayerRef",ref:i},null,512)],2))}};var He={};(function n(e,t,r,a){var i=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),l=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=function(){if(!e.OffscreenCanvas)return!1;var s=new OffscreenCanvas(1,1),o=s.getContext("2d");o.fillRect(0,0,1,1);var P=s.transferToImageBitmap();try{o.createPattern(P,"no-repeat")}catch{return!1}return!0}();function h(){}function c(s){var o=t.exports.Promise,P=o!==void 0?o:e.Promise;return typeof P=="function"?new P(s):(s(h,h),null)}var u=function(s,o){return{transform:function(P){if(s)return P;if(o.has(P))return o.get(P);var S=new OffscreenCanvas(P.width,P.height),R=S.getContext("2d");return R.drawImage(P,0,0),o.set(P,S),S},clear:function(){o.clear()}}}(d,new Map),f=function(){var s=Math.floor(16.666666666666668),o,P,S={},R=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(o=function(L){var j=Math.random();return S[j]=requestAnimationFrame(function O(V){R===V||R+s-1<V?(R=V,delete S[j],L()):S[j]=requestAnimationFrame(O)}),j},P=function(L){S[L]&&cancelAnimationFrame(S[L])}):(o=function(L){return setTimeout(L,s)},P=function(L){return clearTimeout(L)}),{frame:o,cancel:P}}(),v=function(){var s,o,P={};function S(R){function L(j,O){R.postMessage({options:j||{},callback:O})}R.init=function(O){var V=O.transferControlToOffscreen();R.postMessage({canvas:V},[V])},R.fire=function(O,V,B){if(o)return L(O,null),o;var W=Math.random().toString(36).slice(2);return o=c(function(U){function z(H){H.data.callback===W&&(delete P[W],R.removeEventListener("message",z),o=null,u.clear(),B(),U())}R.addEventListener("message",z),L(O,W),P[W]=z.bind(null,{data:{callback:W}})}),o},R.reset=function(){R.postMessage({reset:!0});for(var O in P)P[O](),delete P[O]}}return function(){if(s)return s;if(!r&&i){var R=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{s=new Worker(URL.createObjectURL(new Blob([R])))}catch(L){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",L),null}S(s)}return s}}(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function _(s,o){return o?o(s):s}function F(s){return s!=null}function k(s,o,P){return _(s&&F(s[o])?s[o]:w[o],P)}function N(s){return s<0?0:Math.floor(s)}function g(s,o){return Math.floor(Math.random()*(o-s))+s}function y(s){return parseInt(s,16)}function C(s){return s.map(M)}function M(s){var o=String(s).replace(/[^0-9a-f]/gi,"");return o.length<6&&(o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]),{r:y(o.substring(0,2)),g:y(o.substring(2,4)),b:y(o.substring(4,6))}}function x(s){var o=k(s,"origin",Object);return o.x=k(o,"x",Number),o.y=k(o,"y",Number),o}function $(s){s.width=document.documentElement.clientWidth,s.height=document.documentElement.clientHeight}function T(s){var o=s.getBoundingClientRect();s.width=o.width,s.height=o.height}function G(s){var o=document.createElement("canvas");return o.style.position="fixed",o.style.top="0px",o.style.left="0px",o.style.pointerEvents="none",o.style.zIndex=s,o}function K(s,o,P,S,R,L,j,O,V){s.save(),s.translate(o,P),s.rotate(L),s.scale(S,R),s.arc(0,0,1,j,O,V),s.restore()}function be(s){var o=s.angle*(Math.PI/180),P=s.spread*(Math.PI/180);return{x:s.x,y:s.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:s.startVelocity*.5+Math.random()*s.startVelocity,angle2D:-o+(.5*P-Math.random()*P),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:s.color,shape:s.shape,tick:0,totalTicks:s.ticks,decay:s.decay,drift:s.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:s.gravity*3,ovalScalar:.6,scalar:s.scalar,flat:s.flat}}function m(s,o){o.x+=Math.cos(o.angle2D)*o.velocity+o.drift,o.y+=Math.sin(o.angle2D)*o.velocity+o.gravity,o.velocity*=o.decay,o.flat?(o.wobble=0,o.wobbleX=o.x+10*o.scalar,o.wobbleY=o.y+10*o.scalar,o.tiltSin=0,o.tiltCos=0,o.random=1):(o.wobble+=o.wobbleSpeed,o.wobbleX=o.x+10*o.scalar*Math.cos(o.wobble),o.wobbleY=o.y+10*o.scalar*Math.sin(o.wobble),o.tiltAngle+=.1,o.tiltSin=Math.sin(o.tiltAngle),o.tiltCos=Math.cos(o.tiltAngle),o.random=Math.random()+2);var P=o.tick++/o.totalTicks,S=o.x+o.random*o.tiltCos,R=o.y+o.random*o.tiltSin,L=o.wobbleX+o.random*o.tiltCos,j=o.wobbleY+o.random*o.tiltSin;if(s.fillStyle="rgba("+o.color.r+", "+o.color.g+", "+o.color.b+", "+(1-P)+")",s.beginPath(),l&&o.shape.type==="path"&&typeof o.shape.path=="string"&&Array.isArray(o.shape.matrix))s.fill(q(o.shape.path,o.shape.matrix,o.x,o.y,Math.abs(L-S)*.1,Math.abs(j-R)*.1,Math.PI/10*o.wobble));else if(o.shape.type==="bitmap"){var O=Math.PI/10*o.wobble,V=Math.abs(L-S)*.1,B=Math.abs(j-R)*.1,W=o.shape.bitmap.width*o.scalar,U=o.shape.bitmap.height*o.scalar,z=new DOMMatrix([Math.cos(O)*V,Math.sin(O)*V,-Math.sin(O)*B,Math.cos(O)*B,o.x,o.y]);z.multiplySelf(new DOMMatrix(o.shape.matrix));var H=s.createPattern(u.transform(o.shape.bitmap),"no-repeat");H.setTransform(z),s.globalAlpha=1-P,s.fillStyle=H,s.fillRect(o.x-W/2,o.y-U/2,W,U),s.globalAlpha=1}else if(o.shape==="circle")s.ellipse?s.ellipse(o.x,o.y,Math.abs(L-S)*o.ovalScalar,Math.abs(j-R)*o.ovalScalar,Math.PI/10*o.wobble,0,2*Math.PI):K(s,o.x,o.y,Math.abs(L-S)*o.ovalScalar,Math.abs(j-R)*o.ovalScalar,Math.PI/10*o.wobble,0,2*Math.PI);else if(o.shape==="star")for(var D=Math.PI/2*3,X=4*o.scalar,ae=8*o.scalar,oe=o.x,se=o.y,ce=5,ie=Math.PI/ce;ce--;)oe=o.x+Math.cos(D)*ae,se=o.y+Math.sin(D)*ae,s.lineTo(oe,se),D+=ie,oe=o.x+Math.cos(D)*X,se=o.y+Math.sin(D)*X,s.lineTo(oe,se),D+=ie;else s.moveTo(Math.floor(o.x),Math.floor(o.y)),s.lineTo(Math.floor(o.wobbleX),Math.floor(R)),s.lineTo(Math.floor(L),Math.floor(j)),s.lineTo(Math.floor(S),Math.floor(o.wobbleY));return s.closePath(),s.fill(),o.tick<o.totalTicks}function p(s,o,P,S,R){var L=o.slice(),j=s.getContext("2d"),O,V,B=c(function(W){function U(){O=V=null,j.clearRect(0,0,S.width,S.height),u.clear(),R(),W()}function z(){r&&!(S.width===a.width&&S.height===a.height)&&(S.width=s.width=a.width,S.height=s.height=a.height),!S.width&&!S.height&&(P(s),S.width=s.width,S.height=s.height),j.clearRect(0,0,S.width,S.height),L=L.filter(function(H){return m(j,H)}),L.length?O=f.frame(z):U()}O=f.frame(z),V=U});return{addFettis:function(W){return L=L.concat(W),B},canvas:s,promise:B,reset:function(){O&&f.cancel(O),V&&V()}}}function b(s,o){var P=!s,S=!!k(o||{},"resize"),R=!1,L=k(o,"disableForReducedMotion",Boolean),j=i&&!!k(o||{},"useWorker"),O=j?v():null,V=P?$:T,B=s&&O?!!s.__confetti_initialized:!1,W=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,U;function z(D,X,ae){for(var oe=k(D,"particleCount",N),se=k(D,"angle",Number),ce=k(D,"spread",Number),ie=k(D,"startVelocity",Number),Ct=k(D,"decay",Number),_t=k(D,"gravity",Number),Pt=k(D,"drift",Number),Qe=k(D,"colors",C),Et=k(D,"ticks",Number),Ze=k(D,"shapes"),xt=k(D,"scalar"),Mt=!!k(D,"flat"),Je=x(D),Ke=oe,Ae=[],Tt=s.width*Je.x,Ft=s.height*Je.y;Ke--;)Ae.push(be({x:Tt,y:Ft,angle:se,spread:ce,startVelocity:ie,color:Qe[Ke%Qe.length],shape:Ze[g(0,Ze.length)],ticks:Et,decay:Ct,gravity:_t,drift:Pt,scalar:xt,flat:Mt}));return U?U.addFettis(Ae):(U=p(s,Ae,V,X,ae),U.promise)}function H(D){var X=L||k(D,"disableForReducedMotion",Boolean),ae=k(D,"zIndex",Number);if(X&&W)return c(function(ie){ie()});P&&U?s=U.canvas:P&&!s&&(s=G(ae),document.body.appendChild(s)),S&&!B&&V(s);var oe={width:s.width,height:s.height};O&&!B&&O.init(s),B=!0,O&&(s.__confetti_initialized=!0);function se(){if(O){var ie={getBoundingClientRect:function(){if(!P)return s.getBoundingClientRect()}};V(ie),O.postMessage({resize:{width:ie.width,height:ie.height}});return}oe.width=oe.height=null}function ce(){U=null,S&&(R=!1,e.removeEventListener("resize",se)),P&&s&&(document.body.contains(s)&&document.body.removeChild(s),s=null,B=!1)}return S&&!R&&(R=!0,e.addEventListener("resize",se,!1)),O?O.fire(D,oe,ce):z(D,oe,ce)}return H.reset=function(){O&&O.reset(),U&&U.reset()},H}var A;function E(){return A||(A=b(null,{useWorker:!0,resize:!0})),A}function q(s,o,P,S,R,L,j){var O=new Path2D(s),V=new Path2D;V.addPath(O,new DOMMatrix(o));var B=new Path2D;return B.addPath(V,new DOMMatrix([Math.cos(j)*R,Math.sin(j)*R,-Math.sin(j)*L,Math.cos(j)*L,P,S])),B}function Y(s){if(!l)throw new Error("path confetti are not supported in this browser");var o,P;typeof s=="string"?o=s:(o=s.path,P=s.matrix);var S=new Path2D(o),R=document.createElement("canvas"),L=R.getContext("2d");if(!P){for(var j=1e3,O=j,V=j,B=0,W=0,U,z,H=0;H<j;H+=2)for(var D=0;D<j;D+=2)L.isPointInPath(S,H,D,"nonzero")&&(O=Math.min(O,H),V=Math.min(V,D),B=Math.max(B,H),W=Math.max(W,D));U=B-O,z=W-V;var X=10,ae=Math.min(X/U,X/z);P=[ae,0,0,ae,-Math.round(U/2+O)*ae,-Math.round(z/2+V)*ae]}return{type:"path",path:o,matrix:P}}function Z(s){var o,P=1,S="#000000",R='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof s=="string"?o=s:(o=s.text,P="scalar"in s?s.scalar:P,R="fontFamily"in s?s.fontFamily:R,S="color"in s?s.color:S);var L=10*P,j=""+L+"px "+R,O=new OffscreenCanvas(L,L),V=O.getContext("2d");V.font=j;var B=V.measureText(o),W=Math.ceil(B.actualBoundingBoxRight+B.actualBoundingBoxLeft),U=Math.ceil(B.actualBoundingBoxAscent+B.actualBoundingBoxDescent),z=2,H=B.actualBoundingBoxLeft+z,D=B.actualBoundingBoxAscent+z;W+=z+z,U+=z+z,O=new OffscreenCanvas(W,U),V=O.getContext("2d"),V.font=j,V.fillStyle=S,V.fillText(o,H,D);var X=1/P;return{type:"bitmap",bitmap:O.transferToImageBitmap(),matrix:[X,0,0,X,-W*X/2,-U*X/2]}}t.exports=function(){return E().apply(this,arguments)},t.exports.reset=function(){E().reset()},t.exports.create=b,t.exports.shapeFromPath=Y,t.exports.shapeFromText=Z})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),He,!1);const Qr=He.exports;He.exports.create;const Zr={key:0,class:"bg-dark-100"},Jr={class:"py-8 px-4 mx-auto max-w-screen-2xl lg:py-16"},Kr={key:2,class:"my-5 border bg-base-100 border-accent rounded"},Xr={class:"max-w-7xl px-10 py-6 mx-auto rounded-lg shadow-md"},en={class:"flex items-center justify-between"},tn={class:"flex justify-between gap-1"},rn=I("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-white"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),nn={class:"text-lg font-bold text-neutral"},an=I("a",{class:"px-2 py-1 font-bold text-gray-100 bg-gray-600 rounded hover:bg-gray-500",target:"_blank"},"Close",-1),on={class:"mt-2"},sn={class:"text-2xl font-bold text-neutral hover:underline",target:"_blank"},un=["innerHTML"],ln={class:"mt-3"},cn=I("span",null,"About This Episode",-1),dn=["innerHTML"],fn={key:1,class:"bg-dark-100"},hn={class:"py-8 px-4 mx-auto max-w-screen-xl lg:py-16"},vn={class:"card bg-dark-blue-100 w-full"},pn=["alt","src"],mn={class:"card-body"},gn={class:"card-title font-bold text-5xl mb-5"},yn=["innerHTML"],wn={class:"card-actions justify-start mt-3"},bn={class:"flex justify-between"},kn={class:"mt-1"},qn={__name:"View",props:{course:{type:Object,required:!0},course_instructor:{type:Object,required:!0},sections:{type:Array,required:!0},current_lesson:{type:Object,required:!0},editor_key:{type:String,required:!0}},setup(n){const e=n,t=te(!0),r=async f=>{et.get(route("course.view",{slug:e.course.slug,lesson:f}),{preserveState:!0,preserveScroll:!0,only:["current_lesson"]})},a=async f=>{tt().props.isUserAuth&&await et.post(route("track.lesson.progress",{lesson:e.current_lesson.data.id}),{progress:f},{preserveState:!0,preserveScroll:!0,only:["current_lesson"]})},i=async f=>{Qr({particleCount:100,spread:100,origin:{y:.6}})};let l=te(null),d=te(null);const h=async f=>{tt().props.isUserAuth&&(l.value=f,await It.post(route("track.lesson.points.progress",e.current_lesson.data.id),{seconds:l.value}).then(function(v){v.data.status&&(d.value=v.data.lessonPoint)}))},c=async()=>{var f,v,w;(w=(v=(f=e.sections)==null?void 0:f.data[0])==null?void 0:v.children[0])!=null&&w.id&&r(e.sections.data[0].children[0].id)},u=ze(()=>({src:e.course.media[0].url.default,alt:e.course.media[0].url.alt}));return(f,v)=>(ne(),Ee(St,{showHeader:!1,showFooter:!1},{default:xe(()=>{var w,_,F,k,N,g,y,C,M;return[Q(Rt,{sideBarOpen:t.value,mainImageInfo:u.value,course:e.course,sections:e.sections,currentLesson:e.current_lesson,onChangeLesson:r,onCloseSidebar:v[0]||(v[0]=x=>t.value=!1)},null,8,["sideBarOpen","mainImageInfo","course","sections","currentLesson"]),(w=e.current_lesson)!=null&&w.data?(ne(),le("section",Zr,[I("div",Jr,[e.current_lesson.data.player_type==="vimeo"?(ne(),Ee(Ir,{key:0,lessonUrl:e.current_lesson.data.video_url,"lesson-id":e.current_lesson.data.id,seek:(F=(_=e.current_lesson.data)==null?void 0:_.lesson_progress)==null?void 0:F.watch_time,onVideoRunning:a,onVideoPause:a,onVideoEnded:v[1]||(v[1]=x=>{a(x),i(x)}),onVideoStart:a,onVideoLessonPoints:h},null,8,["lessonUrl","lesson-id","seek"])):ge("",!0),e.current_lesson.data.player_type==="youtube"?(ne(),Ee(Hr,{key:1,videoId:e.current_lesson.data.video_id,"lesson-id":e.current_lesson.data.id,seek:(N=(k=e.current_lesson.data)==null?void 0:k.lesson_progress)==null?void 0:N.watch_time,onVideoRunning:a,onVideoPause:a,onVideoEnded:v[2]||(v[2]=x=>{a(x),i(x)}),onVideoStart:a,onVideoLessonPoints:h},null,8,["videoId","lesson-id","seek"])):ge("",!0),de(d)?(ne(),le("div",Kr,[I("div",Xr,[I("div",en,[I("div",tn,[rn,I("span",nn,ye(de(d).seconds)+"s ",1)]),an]),I("div",on,[I("a",sn,ye(de(d).title),1),I("div",{innerHTML:de(d).content,class:"mt-10 fancy-editor"},null,8,un)])])])):ge("",!0),I("div",null,[(g=e.current_lesson)!=null&&g.data?(ne(),Ee(ur,{key:0,lesson:(y=e.current_lesson)==null?void 0:y.data},null,8,["lesson"])):ge("",!0),I("div",ln,[Q(de($t),null,{default:xe(({open:x})=>[Q(de(Vt),{class:"flex justify-between bg-dark-blue-100 text-white font-bold text-4xl p-3 rounded-lg w-full text-left hover:bg-dark-blue-200 hover:text-accent"},{default:xe(()=>[cn,Q(ve,{componentId:"chevronDown"})]),_:1}),Q(de(Dt),{class:"p-2 bg-dark-blue-100"},{default:xe(()=>[I("div",{class:"mb-8 text-lg font-normal text-neutral fancy-editor",innerHTML:e.current_lesson.data.description},null,8,dn)]),_:1})]),_:1})]),Q(Xe,{class:"mt-4",admin:(C=e.course_instructor)==null?void 0:C.data},null,8,["admin"]),Q(Ot,{modelId:e.current_lesson.data.id,modelClass:"lesson"},null,8,["modelId"])])])])):(ne(),le("section",fn,[I("div",hn,[I("div",vn,[I("figure",null,[I("img",{alt:u.value.alt,src:u.value.src},null,8,pn)]),I("div",mn,[I("h2",gn,ye(e.course.title),1),I("div",{class:"generic-content font-bold text-xl text-neutral",innerHTML:e.course.short_description},null,8,yn),I("div",wn,[I("a",{onClick:c,href:"#",class:"inline-flex items-center justify-center h-16 px-10 py-0 text-xl font-semibold text-center text-gray-200 no-underline align-middle transition-all duration-300 ease-in-out bg-transparent border-2 border-white-600 border-solid rounded-full cursor-pointer select-none hover:text-primary hover:bg-accent hover:border-secondary focus:shadow-xs focus:no-underline w-full"},[I("div",bn,[I("div",kn,[Q(ve,{componentId:"play"})])])])])])]),Q(jt,{course:e.course},null,8,["course"]),Q(Xe,{class:"mt-4",admin:(M=e.course_instructor)==null?void 0:M.data},null,8,["admin"])])])),Q(Lt,{onOpenSidebar:v[3]||(v[3]=x=>t.value=!0)})]}),_:1}))}};export{qn as default};
