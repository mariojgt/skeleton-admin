import{a as u,A as M,Q as m,p as j,o,g as n,d as t,t as p,D as C,E as D,u as r,i as V,F as v,y,v as g,I as B}from"./preset-dc82439c.js";const K={class:"form-control"},A={class:"label"},L={class:"block text-lg font-bold mb-2"},O=["name","id","placeholder"],E={class:"invalid-feedback text-primary",role:"alert"},F={key:0,class:"mt-3 rounded p-1 bg-base-100"},N=t("div",{class:"px-2 py-3 text-xl font-bold bg-primary text-white rounded mb-2 text-left"},[t("strong",null,"Available Items")],-1),T=["onClick"],H={class:"text-2xl font-bold text-black"},Q=t("div",{class:"btn btn-success"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-white"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])],-1),R={key:1,class:"mt-3 rounded p-1 bg-base-100"},U=t("div",{class:"px-2 py-3 text-xl bg-secondary text-white rounded mb-2 text-left"},[t("strong",null,"Selected Items")],-1),$={class:"text-2xl font-bold text-black"},q=["onClick"],z=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-white"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),G=[z],P={__name:"TextMultipleSelector",props:{label:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:String,default:""},model:{type:String,default:""},columns:{type:Object,default:null},endpoint:{type:String,default:""},loadData:{type:Object,default:null},singleMode:{type:Boolean,default:!1},displayKey:{type:String,default:"name"}},emits:["update:modelValue"],setup(_,{emit:x}){let b=u(null);M(()=>{var l;return(l=m().props)==null?void 0:l.errors},l=>{m().props.errors[e.name]&&(b.value=m().props.errors[e.name])});const e=_,f=x;let d=u(""),c=u([]);const k=async()=>{B.post(e.endpoint,{search:d.value,model:e.model,columns:e.columns}).then(function(l){c.value=l.data}).catch(function(l){for(const[i,a]of Object.entries(l.response.data.errors))message.error(a[0])})};let s=u([]);const w=l=>{e.singleMode&&(s.value=[]),Array.isArray(s.value)||(s.value=[]),s.value.findIndex(i=>i.id===l.id)===-1&&s.value.push({id:l.id,[e.displayKey]:l[e.displayKey]}),c.value=[],f("update:modelValue",s.value)},S=l=>{s.value.splice(l,1),f("update:modelValue",s.value)};return j(()=>{e.loadData&&(e.singleMode?s.value=[e.loadData]:s.value=e.loadData)}),(l,i)=>(o(),n("div",K,[t("label",A,[t("span",L,p(e.label),1)]),C(t("input",{class:"input input-primary input-bordered",name:e.name,id:e.id,placeholder:e.placeholder,autocomplete:"off","onUpdate:modelValue":i[0]||(i[0]=a=>V(d)?d.value=a:d=a),onKeyup:k},null,40,O),[[D,r(d)]]),t("span",E,[t("strong",null,p(r(b)),1)]),r(c).data?(o(),n("div",F,[N,(o(!0),n(v,null,y(r(c).data,(a,h)=>(o(),n("div",{class:"flex justify-between items-center text-black p-2 bg-white rounded-lg hover:bg-secondary border border-black mb-2",key:a.id,onClick:I=>w(a)},[t("p",H,p(a[e.displayKey]),1),Q],8,T))),128))])):g("",!0),r(s).length>0?(o(),n("div",R,[U,(o(!0),n(v,null,y(r(s),(a,h)=>(o(),n("div",{class:"flex justify-between items-center text-black p-2 bg-white rounded-lg hover:bg-secondary border border-black mb-2",key:a.id},[t("p",$,p(a[e.displayKey]),1),t("div",{class:"btn btn-error",onClick:I=>S(h)},G,8,q)]))),128))])):g("",!0)]))}};export{P as _};
