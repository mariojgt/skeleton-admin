import{a as y,k as x,m as g,b as f,w as r,o as _,e as l,u as e,d as n,n as s,f as U,i as C,p as h,G as I}from"./index-WItOpbdS.js";import{_ as w}from"./App-CsZ0GFv5.js";import B from"./DeployTable-DM5q8CXQ.js";import L from"./DeployStatus-p01da5yk.js";import{I as p}from"./Input-Bq5LSIWI.js";import"./Input.vue_vue_type_style_index_0_scoped_a29b7091_lang-CIV3KoBB.js";import{_ as N}from"./Submit-DWNjC3GC.js";import{T as R}from"./Toggle-DQdI_ZIO.js";import{_ as D}from"./Chips.vue_vue_type_script_setup_true_lang-BoxGUack.js";import"./purify.es-CocPUCx9.js";import{m as M,p as T,x as c,I as $,y as b}from"./tabs-CFwutUpF.js";import"./FlashMessage-CHM72Nyp.js";import"./index-Dv4gq3Lz.js";import"./bell-C_Lh5Z0o.js";import"./createLucideIcon-B_m21LnD.js";import"./trash-Bv58Th6h.js";import"./circle-check-big-D4oY-uLV.js";import"./info-pjT6XQSI.js";import"./triangle-alert-WvWLgC-B.js";import"./search-Cw9ASmoG.js";import"./arrow-right-DR4DXPKm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-Cr5RViDb.js";import"./keyboard-Cn0nGm_W.js";import"./use-resolve-button-type-svR1kct-.js";import"./hidden-BhFQ2Bcg.js";import"./focus-management-BrwG5F66.js";const G={class:"form-control pt-10"},de={__name:"Edit",props:{deploy:{type:Object,default:()=>({})},deploymentLogs:{type:Array,default:()=>[]}},setup(d){const V=d;let t=y({});x(()=>{t.value=V.deploy});let m=y(null);const u=()=>{const i={name:t.value.name,repository_url:t.value.repository_url,branch:t.value.branch,secret_token:t.value.secret_token,is_active:t.value.is_active,deployment_commands:t.value.deployment_commands,deployment_path:t.value.deployment_path};I.post(route("admin.deploy.update",t.value.id),i)},v=()=>{t.value.secret_token=Math.random().toString(36).substring(2).toUpperCase()+Math.random().toString(36).substring(2).toUpperCase()};return(i,a)=>{const k=g("n-card");return _(),f(w,null,{default:r(()=>[l(k,{title:"User Profile",class:s("col-span-1 row-span-3 shadow-lg xl:col-span-2 bg-base-300")},{default:r(()=>[l(e(M),null,{default:r(()=>[l(e(T),{class:"flex space-x-1 rounded-xl p-1 tabs"},{default:r(()=>[l(e(c),null,{default:r(({selected:o})=>[n("a",{class:s(["tab tab-lg tab-bordered",o?"tab-active":""])},"Deploy Information",2)]),_:1}),l(e(c),null,{default:r(({selected:o})=>[n("a",{class:s(["tab tab-lg tab-bordered",o?"tab-active":""])},"Last Deployment",2)]),_:1})]),_:1}),l(e($),{class:"mt-2"},{default:r(()=>[l(e(b),null,{default:r(()=>[n("form",{onSubmit:U(u,["prevent"])},[l(e(p),{modelValue:e(t).name,"onUpdate:modelValue":a[0]||(a[0]=o=>e(t).name=o),label:"Name",type:"text",placeholder:"Name"},null,8,["modelValue"]),l(e(p),{modelValue:e(t).repository_url,"onUpdate:modelValue":a[1]||(a[1]=o=>e(t).repository_url=o),label:"Repository URL",type:"text",placeholder:"Repository URL"},null,8,["modelValue"]),l(e(p),{modelValue:e(t).branch,"onUpdate:modelValue":a[2]||(a[2]=o=>e(t).branch=o),label:"Branch",type:"text",placeholder:"Branch"},null,8,["modelValue"]),l(e(p),{modelValue:e(t).secret_token,"onUpdate:modelValue":a[3]||(a[3]=o=>e(t).secret_token=o),label:"secret_token",type:"text",placeholder:"secret_token",required:"true"},null,8,["modelValue"]),n("div",{class:"form-control pt-10"},[n("button",{onClick:v,type:"button",class:"btn btn-primary"}," Generate Token ")]),l(e(R),{modelValue:e(t).is_active,"onUpdate:modelValue":a[4]||(a[4]=o=>e(t).is_active=o),label:"Is Active"},null,8,["modelValue"]),l(e(D),{modelValue:e(t).deployment_commands,"onUpdate:modelValue":a[5]||(a[5]=o=>e(t).deployment_commands=o),label:"Deployment Commands"},null,8,["modelValue"]),l(e(p),{modelValue:e(t).deployment_path,"onUpdate:modelValue":a[6]||(a[6]=o=>e(t).deployment_path=o),label:"deployment_path",type:"text",placeholder:"deployment_path",required:"true"},null,8,["modelValue"]),n("div",G,[l(e(N),{name:"update",onClick:u})])],32)]),_:1}),l(e(b),null,{default:r(()=>[l(B,{deployments:d.deploymentLogs.data,onViewDeployment:a[7]||(a[7]=o=>C(m)?m.value=o:m=o)},null,8,["deployments"]),e(m)?(_(),f(L,{key:0,deployment:e(m)},null,8,["deployment"])):h("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{de as default};
