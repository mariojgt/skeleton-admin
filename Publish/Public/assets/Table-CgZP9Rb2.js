import{s as Y}from"./index-BaASNxlL.js";import{q as ae,a as S,v as P,B as X,k as xe,C as ct,o as l,g as o,d as e,n as T,t as $,b as z,E as se,u as g,F as L,s as ut,z as j,f as be,p as V,e as u,w as N,aa as ee,an as vt,x as q,y as oe,l as E,D as ue,H as me,a9 as ft,af as fe,ah as mt,j as Le,P as Ae}from"./index-DQfThwAa.js";import{T as Ie}from"./trash-2-DCUdtpRt.js";import{X as G}from"./x-CvCFfHKA.js";import{T as Se}from"./triangle-alert-DXWwu_kn.js";/* empty css                                                              */import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{I as de}from"./Input-BNuDexSn.js";import{Q as Je,m as Ue,T as pt}from"./Input.vue_vue_type_style_index_0_scoped_a29b7091_lang-D6UNG1tr.js";import{_ as bt}from"./Password-dN-wsLMH.js";import{_ as ht}from"./Select.vue_vue_type_script_setup_true_lang-BY3kiPmL.js";import{_ as gt}from"./Image.vue_vue_type_script_setup_true_lang-UKJSPx3q.js";import{_ as Oe}from"./TextMultipleSelector-uu6Nlxfr.js";import{T as je}from"./Toggle-CK6oZv6u.js";import{_ as yt}from"./Chips.vue_vue_type_script_setup_true_lang-3J4nTEHS.js";import{p as ce}from"./purify.es-CocPUCx9.js";import{F as xt,C as Pe}from"./file-code-D2Q1yH7e.js";import{b as _t,a as Ge}from"./trash-CZ9yQlvU.js";import{B as $e,I as He,U as wt,S as kt,L as Ee,Q as Be,a as Ze,b as $t,A as Ct,c as Dt,d as Mt,e as St,C as Vt,f as Ft,g as Tt,F as Lt,h as At,i as It,P as Ce,N as Ut,j as et,k as Ot,l as tt,m as De,R as Ve,T as Re,D as jt,n as Pt}from"./underline-DFmFO3_U.js";import{E as Ht}from"./eye-zGwqV_Uz.js";import{t as te,c as Fe,n as pe,s as Ne,e as Et,g as ze,m as qe,a as he,b as Bt,f as ne}from"./format-Cr5RViDb.js";import{C as st}from"./calendar-BG8UrV49.js";import{C as Z}from"./chevron-down-DkmsuOEW.js";import{S as at}from"./save-FoXuiXt3.js";import{I as lt,S as Ke}from"./search-BhQJqwNn.js";import{C as ve}from"./check-DqEP6paE.js";import{H as Rt,A as Me}from"./hash-CkE9kVqE.js";const Nt={class:"form-control"},zt=["for"],qt={class:"flex items-center justify-end mb-2"},Kt={class:"flex flex-wrap items-center gap-2 p-3 bg-gray-50 border rounded-t-lg"},Yt={class:"flex-shrink-0"},Wt={class:"flex gap-1"},Xt=["onClick","title"],Qt={class:"flex gap-1"},Jt=["onClick","title"],Gt={class:"flex gap-1"},Zt=["onClick","title"],es={key:1,class:"flex gap-1"},ts=["onClick","title"],ss=["id","placeholder"],as=["innerHTML"],ls={key:1,class:"mt-1 text-sm text-gray-500 text-right"},ns=ae({__name:"Input",props:{label:{},name:{},id:{},placeholder:{default:""},modelValue:{},messageClass:{default:"text-red-500 text-sm mt-1"},labelClass:{default:"block text-lg font-bold mb-2"},inputClass:{default:"border border-gray-300 rounded-b-lg"},required:{type:Boolean,default:!1},minLength:{},maxLength:{}},emits:["update:modelValue","blur"],setup(a,{emit:c}){const n=a,y=c,r=S(null),d=S(null),C=Je(),s=S(!1),i=S(!1),f=S(!1),F=[{command:"bold",icon:$e,title:"Bold"},{command:"italic",icon:He,title:"Italic"},{command:"underline",icon:wt,title:"Underline"},{command:"strikeThrough",icon:kt,title:"Strike Through"},{command:"createLink",icon:Ee,title:"Insert Link"},{command:"code",icon:Pe,title:"Code"},{command:"blockquote",icon:Be,title:"Quote"}],U=[{command:"insertUnorderedList",icon:Ze,title:"Bullet List"},{command:"insertOrderedList",icon:$t,title:"Numbered List"}],b=[{command:"justifyLeft",icon:Ct,title:"Align Left"},{command:"justifyCenter",icon:Dt,title:"Align Center"},{command:"justifyRight",icon:Mt,title:"Align Right"},{command:"justifyFull",icon:St,title:"Justify"}],t=[{command:"bold",icon:$e,title:"Bold",syntax:{prefix:"**",suffix:"**"}},{command:"italic",icon:He,title:"Italic",syntax:{prefix:"_",suffix:"_"}},{command:"heading",icon:$e,title:"Heading",syntax:{prefix:"# ",suffix:""}},{command:"link",icon:Ee,title:"Link",syntax:{prefix:"[",suffix:"](url)"}},{command:"code",icon:Pe,title:"Code",syntax:{prefix:"`",suffix:"`"}},{command:"quote",icon:Be,title:"Quote",syntax:{prefix:"> ",suffix:""}},{command:"togglePreview",icon:Ht,title:"Toggle Preview"}],v=P(()=>{var h;return r.value&&((h=r.value.textContent)==null?void 0:h.length)||0}),p=P(()=>r.value?ce.sanitize(Ue(r.value.textContent||"")):""),M=()=>{s.value||!r.value||(y("update:modelValue",r.value.innerHTML),J())},k=(h,D=null)=>{if(r.value){if(h==="toggleMode"){m();return}if(h==="togglePreview"){f.value=!f.value;return}r.value.focus();try{if(i.value)x(h);else if(h==="createLink"){const w=prompt("Enter URL:");w&&document.execCommand(h,!1,w)}else h==="formatBlock"?document.execCommand(h,!1,`<${D}>`):document.execCommand(h,!1,D);M()}catch(w){console.error("Format error:",w)}}},x=h=>{if(!r.value)return;const D=t.find(we=>we.command===h);if(!(D!=null&&D.syntax))return;const{prefix:w,suffix:O}=D.syntax,B=window.getSelection(),K=B==null?void 0:B.getRangeAt(0);if(!K)return;const _e=K.toString(),re=w+_e+O;document.execCommand("insertText",!1,re)},m=async()=>{if(!r.value)return;const h=r.value.innerHTML;if(i.value=!i.value,i.value){const w=new pt().turndown(h);r.value.innerHTML=w}else{const D=Ue(h);r.value.innerHTML=ce.sanitize(D)}M()},_=h=>document.queryCommandState(h),R=h=>{var O,B;h.preventDefault();const D=(O=h.clipboardData)==null?void 0:O.getData("text/html"),w=(B=h.clipboardData)==null?void 0:B.getData("text/plain");if(i.value)w&&document.execCommand("insertText",!1,w);else if(D){const K=ce.sanitize(D,{ALLOWED_TAGS:["p","b","i","em","strong","a","ul","ol","li","br","h1","h2","h3","h4","h5","h6"],ALLOWED_ATTR:["href"]});document.execCommand("insertHTML",!1,K)}else w&&document.execCommand("insertText",!1,w);M()},W=h=>{y("blur",h),J()},J=()=>{var D;d.value=null;const h=((D=r.value)==null?void 0:D.textContent)||"";if(n.required&&!h.trim()){d.value=`${n.label} is required`;return}if(n.minLength&&h.length<n.minLength){d.value=`Minimum length is ${n.minLength} characters`;return}if(n.maxLength&&h.length>n.maxLength){d.value=`Maximum length is ${n.maxLength} characters`;return}},le=()=>{if(!r.value)return;const h=()=>{s.value=!0},D=()=>{s.value=!1,M()};return r.value.addEventListener("compositionstart",h),r.value.addEventListener("compositionend",D),n.modelValue&&(r.value.innerHTML=ce.sanitize(n.modelValue)),!n.modelValue&&n.placeholder&&(r.value.innerHTML=`<p class="text-gray-400">${n.placeholder}</p>`),()=>{r.value&&(r.value.removeEventListener("compositionstart",h),r.value.removeEventListener("compositionend",D))}};return X(()=>n.modelValue,h=>{if(!r.value||s.value)return;const D=r.value.innerHTML;if(h!==D){const w=window.getSelection(),O=w==null?void 0:w.getRangeAt(0);r.value.innerHTML=ce.sanitize(h||""),O&&w&&(w.removeAllRanges(),w.addRange(O))}}),X(()=>C.props.errors,h=>{h&&h[n.name]?d.value=h[n.name]:d.value=null},{deep:!0}),xe(()=>{const h=le();ct(()=>h==null?void 0:h())}),(h,D)=>(l(),o("div",Nt,[e("label",{for:h.id,class:"label"},[e("span",{class:T(h.labelClass)},$(h.label),3)],8,zt),e("div",qt,[e("button",{onClick:D[0]||(D[0]=w=>k("toggleMode")),class:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary transition-colors"},[(l(),z(se(i.value?g(xt):g(_t)),{class:"w-4 h-4"})),e("span",null,$(i.value?"Switch to HTML":"Switch to Markdown"),1)])]),e("div",Kt,[i.value?(l(),o("div",es,[(l(),o(L,null,j(t,(w,O)=>e("button",{key:O,onClick:be(B=>k(w.command),["prevent"]),title:w.title,class:"p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary"},[(l(),z(se(w.icon),{class:"w-4 h-4"}))],8,ts)),64))])):(l(),o(L,{key:0},[e("div",Yt,[e("select",{onChange:D[1]||(D[1]=w=>k("formatBlock",w.target.value)),class:"px-3 py-1.5 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary"},D[2]||(D[2]=[ut('<option value="p" data-v-ed8cce78>Paragraph</option><option value="h1" data-v-ed8cce78>Heading 1</option><option value="h2" data-v-ed8cce78>Heading 2</option><option value="h3" data-v-ed8cce78>Heading 3</option><option value="h4" data-v-ed8cce78>Heading 4</option><option value="h5" data-v-ed8cce78>Heading 5</option><option value="h6" data-v-ed8cce78>Heading 6</option>',7)]),32)]),D[3]||(D[3]=e("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e("div",Wt,[(l(),o(L,null,j(F,(w,O)=>e("button",{key:O,onClick:be(B=>k(w.command),["prevent"]),title:w.title,class:T(["p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary",{"bg-gray-100 text-primary border-primary":_(w.command)}])},[(l(),z(se(w.icon),{class:"w-4 h-4"}))],10,Xt)),64))]),D[4]||(D[4]=e("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e("div",Qt,[(l(),o(L,null,j(U,(w,O)=>e("button",{key:O,onClick:be(B=>k(w.command),["prevent"]),title:w.title,class:T(["p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary",{"bg-gray-100 text-primary border-primary":_(w.command)}])},[(l(),z(se(w.icon),{class:"w-4 h-4"}))],10,Jt)),64))]),D[5]||(D[5]=e("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e("div",Gt,[(l(),o(L,null,j(b,(w,O)=>e("button",{key:O,onClick:be(B=>k(w.command),["prevent"]),title:w.title,class:T(["p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary",{"bg-gray-100 text-primary border-primary":_(w.command)}])},[(l(),z(se(w.icon),{class:"w-4 h-4"}))],10,Zt)),64))])],64))]),e("div",{ref_key:"editorRef",ref:r,id:h.id,contenteditable:"true",spellcheck:"true",dir:"ltr",placeholder:h.placeholder,onInput:M,onPaste:R,onBlur:W,class:T([h.inputClass,"min-h-[200px] max-h-[600px] overflow-y-auto p-4 focus:outline-none",{error:d.value},{"font-mono":i.value}])},null,42,ss),i.value&&f.value?(l(),o("div",{key:0,class:"mt-4 p-4 border rounded-lg prose max-w-none",innerHTML:p.value},null,8,as)):V("",!0),h.maxLength?(l(),o("div",ls,$(v.value)+" / "+$(h.maxLength)+" characters ",1)):V("",!0),u(ee,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:N(()=>[d.value?(l(),o("span",{key:0,class:T(h.messageClass),role:"alert","aria-live":"polite"},[e("strong",null,$(d.value),1)],2)):V("",!0)]),_:1})]))}}),os=Q(ns,[["__scopeId","data-v-ed8cce78"]]);function ge(a,c){const n=+te(a)-+te(c);return n<0?-1:n>0?1:n}function nt(a){return Fe(a,Date.now())}function ot(a,c,n){const[y,r]=pe(n==null?void 0:n.in,a,c);return+Ne(y)==+Ne(r)}function rs(a,c,n){const[y,r]=pe(n==null?void 0:n.in,a,c),d=y.getFullYear()-r.getFullYear(),C=y.getMonth()-r.getMonth();return d*12+C}function is(a){return c=>{const y=(a?Math[a]:Math.trunc)(c);return y===0?0:y}}function ds(a,c){return+te(a)-+te(c)}function cs(a,c){const n=te(a,c==null?void 0:c.in);return n.setHours(23,59,59,999),n}function rt(a,c){const n=te(a,c==null?void 0:c.in),y=n.getMonth();return n.setFullYear(n.getFullYear(),y+1,0),n.setHours(23,59,59,999),n}function us(a,c){const n=te(a,c==null?void 0:c.in);return+cs(n,c)==+rt(n,c)}function vs(a,c,n){const[y,r,d]=pe(n==null?void 0:n.in,a,a,c),C=ge(r,d),s=Math.abs(rs(r,d));if(s<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-C*s);let i=ge(r,d)===-C;us(y)&&s===1&&ge(y,d)===1&&(i=!1);const f=C*(s-+i);return f===0?0:f}function fs(a,c,n){const y=ds(a,c)/1e3;return is(n==null?void 0:n.roundingMethod)(y)}function ms(a,c){const[n,y]=pe(a,c.start,c.end);return{start:n,end:y}}function ps(a,c){const{start:n,end:y}=ms(c==null?void 0:c.in,a);let r=+n>+y;const d=r?+n:+y,C=r?y:n;C.setHours(0,0,0,0);let s=1;const i=[];for(;+C<=d;)i.push(Fe(n,C)),C.setDate(C.getDate()+s),C.setHours(0,0,0,0);return r?i.reverse():i}function bs(a,c){const n=te(a,c==null?void 0:c.in);return n.setDate(1),n.setHours(0,0,0,0),n}function hs(a,c,n){const y=Bt(),r=(n==null?void 0:n.locale)??y.locale??Et,d=2520,C=ge(a,c);if(isNaN(C))throw new RangeError("Invalid time value");const s=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:C}),[i,f]=pe(n==null?void 0:n.in,...C>0?[c,a]:[a,c]),F=fs(f,i),U=(ze(f)-ze(i))/1e3,b=Math.round((F-U)/60);let t;if(b<2)return n!=null&&n.includeSeconds?F<5?r.formatDistance("lessThanXSeconds",5,s):F<10?r.formatDistance("lessThanXSeconds",10,s):F<20?r.formatDistance("lessThanXSeconds",20,s):F<40?r.formatDistance("halfAMinute",0,s):F<60?r.formatDistance("lessThanXMinutes",1,s):r.formatDistance("xMinutes",1,s):b===0?r.formatDistance("lessThanXMinutes",1,s):r.formatDistance("xMinutes",b,s);if(b<45)return r.formatDistance("xMinutes",b,s);if(b<90)return r.formatDistance("aboutXHours",1,s);if(b<qe){const v=Math.round(b/60);return r.formatDistance("aboutXHours",v,s)}else{if(b<d)return r.formatDistance("xDays",1,s);if(b<he){const v=Math.round(b/qe);return r.formatDistance("xDays",v,s)}else if(b<he*2)return t=Math.round(b/he),r.formatDistance("aboutXMonths",t,s)}if(t=vs(f,i),t<12){const v=Math.round(b/he);return r.formatDistance("xMonths",v,s)}else{const v=t%12,p=Math.trunc(t/12);return v<3?r.formatDistance("aboutXYears",p,s):v<9?r.formatDistance("overXYears",p,s):r.formatDistance("almostXYears",p+1,s)}}function gs(a,c){return hs(a,nt(a),c)}function ys(a,c){return ot(Fe(a,a),nt(a))}const xs={class:"form-control"},_s=["for"],ws=["id","name"],ks={class:"relative"},$s={class:"flex items-center gap-2"},Cs={class:"text-gray-700"},Ds={key:0,class:"absolute z-50 w-full mt-1 bg-white border rounded-lg shadow-lg"},Ms={class:"p-4 space-y-4"},Ss={class:"flex items-center justify-between mb-4"},Vs={class:"flex items-center gap-2"},Fs={class:"flex gap-1"},Ts={key:0,class:"absolute top-16 left-4 bg-white border rounded-lg shadow-lg p-2 z-10"},Ls={class:"grid grid-cols-4 gap-1 max-h-48 overflow-y-auto"},As=["onClick"],Is={key:1,class:"absolute top-16 left-24 bg-white border rounded-lg shadow-lg p-2 z-10"},Us={class:"grid grid-cols-3 gap-1"},Os=["onClick"],js={class:"grid grid-cols-7 mb-1"},Ps={class:"grid grid-cols-7 gap-1"},Hs=["onClick"],Es={key:0,class:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-primary rounded-full"},Bs={class:"flex items-center justify-center gap-4 pt-4 border-t"},Rs={class:"flex items-center gap-2 bg-gray-50 p-2 rounded-lg"},Ns=["value"],zs=["value"],qs={class:"flex flex-wrap gap-2 pt-3 border-t"},Ks=["onClick"],Ys=ae({__name:"Input",props:{label:{},name:{},id:{},placeholder:{default:""},modelValue:{},messageClass:{default:"text-red-500 text-sm mt-1"},labelClass:{default:"block text-lg font-bold mb-2"},inputClass:{default:"input input-primary input-bordered w-full"},required:{type:Boolean,default:!1},min:{},max:{}},emits:["update:modelValue","blur"],setup(a,{emit:c}){const n=a,y=c,r=S(!1),d=S(!1),C=S(!1),s=S(new Date),i=S(null),f=S(0),F=S(0),U=S(null),b=Je(),t=[{label:"Now",value:new Date},{label:"Start of Day",value:new Date().setHours(0,0,0,0)},{label:"End of Day",value:new Date().setHours(23,59,59,999)},{label:"Tomorrow",value:new Date().setDate(new Date().getDate()+1)}],v=["Su","Mo","Tu","We","Th","Fr","Sa"],p=Array.from({length:60},(A,H)=>H),M=["January","February","March","April","May","June","July","August","September","October","November","December"],k=P(()=>{const A=new Date().getFullYear();return Array.from({length:100},(H,ke)=>A-50+ke)}),x=P(()=>ne(s.value,"MMMM")),m=P(()=>s.value.getFullYear()),_=P(()=>{const A=bs(s.value),H=rt(s.value);return ps({start:A,end:H})}),R=P({get:()=>n.modelValue,set:A=>y("update:modelValue",A)}),W=P(()=>i.value?ne(i.value,"MMM d, yyyy HH:mm"):""),J=()=>{r.value=!r.value,d.value=!1,C.value=!1},le=()=>{r.value=!1,d.value=!1,C.value=!1},h=A=>{s.value=new Date(A,s.value.getMonth(),1),d.value=!1},D=A=>{s.value=new Date(s.value.getFullYear(),A,1),C.value=!1},w=()=>{s.value=new Date(s.value.getFullYear(),s.value.getMonth()-1)},O=()=>{s.value=new Date(s.value.getFullYear(),s.value.getMonth()+1)},B=A=>{i.value=new Date(A),i.value.setHours(f.value),i.value.setMinutes(F.value),re()},K=()=>{i.value&&(i.value.setHours(f.value),i.value.setMinutes(F.value),re())},_e=A=>{const H=new Date(A);i.value=H,f.value=H.getHours(),F.value=H.getMinutes(),re(),le()},re=()=>{i.value&&(R.value=ne(i.value,"yyyy-MM-dd'T'HH:mm"),dt())},we=A=>i.value&&ot(A,i.value),Te=A=>A.getMonth()===s.value.getMonth(),it=A=>ys(A),dt=()=>{if(U.value=null,n.required&&!R.value){U.value=`${n.label} is required`;return}if(n.min&&R.value<n.min){U.value=`Date must be after ${ne(new Date(n.min),"MMM d, yyyy HH:mm")}`;return}if(n.max&&R.value>n.max){U.value=`Date must be before ${ne(new Date(n.max),"MMM d, yyyy HH:mm")}`;return}};return X(()=>b.props.errors,A=>{A&&A[n.name]?U.value=A[n.name]:U.value=null},{deep:!0}),X(()=>n.modelValue,A=>{if(A){const H=new Date(A);i.value=H,f.value=H.getHours(),F.value=H.getMinutes(),s.value=H}},{immediate:!0}),(A,H)=>{const ke=vt("click-outside");return l(),o("div",xs,[e("label",{for:A.id,class:"label"},[e("span",{class:T(A.labelClass)},$(A.label),3)],8,_s),q(e("input",{id:A.id,name:A.name,type:"datetime-local","onUpdate:modelValue":H[0]||(H[0]=I=>R.value=I),class:"hidden"},null,8,ws),[[oe,R.value]]),e("div",ks,[e("button",{type:"button",onClick:J,class:T([A.inputClass,"flex items-center justify-between w-full px-4 py-2",{error:U.value}])},[e("span",$s,[u(g(st),{class:"w-5 h-5 text-gray-500"}),e("span",Cs,$(W.value||A.placeholder||"Select date and time"),1)]),u(g(Z),{class:T(["w-5 h-5 text-gray-500 transition-transform",{"rotate-180":r.value}])},null,8,["class"])],2),r.value?q((l(),o("div",Ds,[e("div",Ms,[e("div",Ss,[e("div",Vs,[e("button",{onClick:H[1]||(H[1]=()=>d.value=!d.value),class:"px-3 py-1 text-sm font-semibold hover:bg-gray-100 rounded-full transition-colors"},[E($(m.value)+" ",1),u(g(Z),{class:T(["w-4 h-4 inline-block ml-1",{"rotate-180":d.value}])},null,8,["class"])]),e("button",{class:"text-gray-700 font-medium hover:bg-gray-100 px-3 py-1 rounded-full",onClick:H[2]||(H[2]=()=>C.value=!C.value)},[E($(x.value)+" ",1),u(g(Z),{class:T(["w-4 h-4 inline-block ml-1",{"rotate-180":C.value}])},null,8,["class"])])]),e("div",Fs,[e("button",{onClick:w,class:"p-2 hover:bg-gray-100 rounded-full transition-colors"},[u(g(Vt),{class:"w-4 h-4"})]),e("button",{onClick:O,class:"p-2 hover:bg-gray-100 rounded-full transition-colors"},[u(g(Ft),{class:"w-4 h-4"})])])]),d.value?(l(),o("div",Ts,[e("div",Ls,[(l(!0),o(L,null,j(k.value,I=>(l(),o("button",{key:I,onClick:ie=>h(I),class:T(["px-2 py-1 text-sm rounded hover:bg-gray-100 transition-colors",{"bg-primary/10 text-primary font-semibold":I===m.value}])},$(I),11,As))),128))])])):V("",!0),C.value?(l(),o("div",Is,[e("div",Us,[(l(),o(L,null,j(M,(I,ie)=>e("button",{key:I,onClick:yr=>D(ie),class:T(["px-3 py-1 text-sm rounded hover:bg-gray-100 transition-colors",{"bg-primary/10 text-primary font-semibold":ie===s.value.getMonth()}])},$(I),11,Os)),64))])])):V("",!0),e("div",js,[(l(),o(L,null,j(v,I=>e("span",{key:I,class:"text-center text-sm text-gray-500 font-medium"},$(I),1)),64))]),e("div",Ps,[(l(!0),o(L,null,j(_.value,I=>(l(),o("button",{key:I.toISOString(),onClick:ie=>B(I),class:T(["p-2 text-sm rounded-full hover:bg-gray-100 transition-colors relative group",{"bg-primary/10 text-primary font-semibold":we(I),"text-gray-400":!Te(I),"text-gray-900":Te(I)}])},[E($(I.getDate())+" ",1),it(I)?(l(),o("div",Es)):V("",!0)],10,Hs))),128))]),e("div",Bs,[e("div",Rs,[q(e("select",{"onUpdate:modelValue":H[3]||(H[3]=I=>f.value=I),class:"w-16 p-1 bg-white border rounded shadow-sm focus:ring-1 focus:ring-primary",onChange:K},[(l(),o(L,null,j(24,I=>e("option",{key:I,value:I-1},$(String(I-1).padStart(2,"0")),9,Ns)),64))],544),[[ue,f.value]]),H[5]||(H[5]=e("span",{class:"text-gray-500 font-medium"},":",-1)),q(e("select",{"onUpdate:modelValue":H[4]||(H[4]=I=>F.value=I),class:"w-16 p-1 bg-white border rounded shadow-sm focus:ring-1 focus:ring-primary",onChange:K},[(l(!0),o(L,null,j(g(p),I=>(l(),o("option",{key:I,value:I},$(String(I).padStart(2,"0")),9,zs))),128))],544),[[ue,F.value]])])]),e("div",qs,[(l(),o(L,null,j(t,I=>e("button",{key:I.label,onClick:ie=>_e(I.value),class:"px-3 py-1 text-sm text-gray-600 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors"},$(I.label),9,Ks)),64))])])])),[[ke,le]]):V("",!0)]),u(ee,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:N(()=>[U.value?(l(),o("span",{key:0,class:T(A.messageClass),role:"alert","aria-live":"polite"},[e("strong",null,$(U.value),1)],2)):V("",!0)]),_:1})])}}}),Ws=Q(Ys,[["__scopeId","data-v-a29b7091"]]),Xs={key:0,class:"fixed inset-0 z-50 overflow-hidden"},Qs={class:"fixed inset-0 flex items-center justify-center p-4"},Js={key:0,class:"relative bg-base-100 rounded-2xl shadow-2xl w-full max-w-md transform transition-all"},Gs={key:0,class:"absolute inset-0 bg-base-100/70 backdrop-blur-sm flex items-center justify-center z-50 rounded-2xl"},Zs={class:"p-6"},ea={class:"flex justify-center mb-6"},ta={class:"w-20 h-20 rounded-full bg-error/20 flex items-center justify-center animate-pulse"},sa={class:"text-center space-y-4"},aa={class:"text-base-content/70"},la={class:"mt-8 flex gap-4"},na=["disabled"],oa=["disabled"],ra=ae({__name:"delete",props:{id:{type:Number,default:0},model:{type:String,default:""},endpoint:{type:String,default:""},permission:{type:String,default:null}},emits:["onDelete"],setup(a,{emit:c}){const n=S(!1),y=S(!1),r=a,d=c,C=async()=>{var s,i,f,F;if(!y.value)try{y.value=!0;const U=await me.post(r.endpoint,{model:r.model,id:r.id,permission:r.permission});Y("success",U.data.message,"success"),d("onDelete"),n.value=!1}catch(U){const b=((i=(s=U.response)==null?void 0:s.data)==null?void 0:i.message)||"An error occurred while deleting the item";if((F=(f=U.response)==null?void 0:f.data)!=null&&F.errors){const t=U.response.data.errors;Object.values(t).forEach(v=>{Array.isArray(v)&&Y("error",v[0],"error")})}else Y("error",b,"error")}finally{y.value=!1}};return(s,i)=>(l(),o(L,null,[e("button",{onClick:i[0]||(i[0]=f=>n.value=!0),class:"btn btn-error btn-sm gap-2 group relative overflow-hidden hover:shadow-lg transition-all duration-300","aria-label":"Delete item"},[u(g(Ie),{class:"w-4 h-4 transform transition-all duration-300 group-hover:scale-110"}),i[4]||(i[4]=e("div",{class:"absolute inset-0 bg-white/20 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"},null,-1))]),u(ee,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:N(()=>[n.value?(l(),o("div",Xs,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:i[1]||(i[1]=f=>n.value=!1)}),e("div",Qs,[u(ee,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:N(()=>[n.value?(l(),o("div",Js,[y.value?(l(),o("div",Gs,i[5]||(i[5]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"loading loading-spinner loading-lg text-error"}),e("p",{class:"text-sm font-medium text-base-content/70"},"Deleting...")],-1)]))):V("",!0),e("div",Zs,[e("button",{onClick:i[2]||(i[2]=f=>n.value=!1),class:"btn btn-sm btn-circle btn-ghost absolute right-4 top-4 hover:rotate-90 transition-transform duration-200","aria-label":"Close modal"},[u(g(G),{class:"w-4 h-4"})]),e("div",ea,[e("div",ta,[u(g(Se),{class:"w-10 h-10 text-error"})])]),e("div",sa,[i[6]||(i[6]=e("h3",{class:"text-2xl font-bold text-base-content"}," Confirm Deletion ",-1)),e("p",aa," Are you sure you want to delete item #"+$(r.id)+"? ",1),i[7]||(i[7]=e("p",{class:"text-sm text-error font-medium"}," This action cannot be undone. ",-1))]),e("div",la,[e("button",{onClick:i[3]||(i[3]=f=>n.value=!1),class:"btn btn-ghost flex-1 hover:bg-base-200",disabled:y.value}," Cancel ",8,na),e("button",{onClick:C,class:"btn btn-error flex-1 gap-2",disabled:y.value},[u(g(Ie),{class:T(["w-4 h-4",{"animate-spin":y.value}])},null,8,["class"]),E(" "+$(y.value?"Deleting...":"Delete"),1)],8,oa)])])])):V("",!0)]),_:1})])])):V("",!0)]),_:1})],64))}}),Ye=Q(ra,[["__scopeId","data-v-5a8fcd37"]]),ia=a=>{if(!a)return"";let c;if(a.includes("T"))c=new Date(a);else{const n=a.split("/");c=new Date(`${n[2]}-${n[1]}-${n[0]}`)}return c.toISOString().split("T")[0]},da=a=>{const c=a.split("/");return new Date(c[2]+"/"+c[1]+"/"+c[0]).toISOString().substr(0,16)},ca=a=>a?a.toString():"",ua={key:0},va={key:1},fa={key:2},ma={key:3},pa={key:4},ba={key:5},ha={key:6},ga={key:7},ya={key:8},xa={key:9},_a={key:10},wa={key:11},ka={key:12},$a={key:13},Ca={key:14},Da={class:"form-control mt-1"},Ma={class:"label"},Sa={class:"label-text"},Va=["onKeyup","onUpdate:modelValue","error"],Fa={class:"flex justify-center bg-base-100 rounded mt-5"},Ta=["innerHTML"],La={key:15},Aa={key:16,class:"text-error text-sm mt-1"},Ia={__name:"FormFields",props:{fields:{type:Array,required:!0}},emits:["update:fields"],setup(a,{emit:c}){const n=a,y=c;X(()=>n.fields,d=>{y("update:fields",d)},{deep:!0});const r=(d,C,s)=>{if(s==="name"||s==="title"){const i=n.fields.findIndex(f=>f.key==="slug");i!==-1&&(n.fields[i].value=d.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))}};return(d,C)=>(l(),o("div",null,[(l(!0),o(L,null,j(a.fields,(s,i)=>(l(),o("div",{key:i},[s.type=="text"?(l(),o("div",ua,[u(g(de),{type:"text",modelValue:a.fields[i].value,"onUpdate:modelValue":f=>a.fields[i].value=f,label:s.label,error:s.error,onKeyup:f=>r(f.target.value,s.type,s.key)},null,8,["modelValue","onUpdate:modelValue","label","error","onKeyup"])])):s.type=="password"?(l(),o("div",va,[u(g(bt),{modelValue:a.fields[i].value,"onUpdate:modelValue":f=>a.fields[i].value=f,label:s.label,error:s.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):s.type=="email"?(l(),o("div",fa,[u(g(de),{type:"email",modelValue:a.fields[i].value,"onUpdate:modelValue":f=>a.fields[i].value=f,label:s.label,error:s.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):s.type=="date"?(l(),o("div",ma,[u(g(de),{type:"date",modelValue:a.fields[i].value,"onUpdate:modelValue":f=>a.fields[i].value=f,label:s.label,error:s.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):s.type=="timestamp"?(l(),o("div",pa,[u(g(Ws),{label:s.label,name:s.key,id:s.key,modelValue:a.fields[i].value,"onUpdate:modelValue":f=>a.fields[i].value=f,placeholder:"Select date and time",required:"",error:s.error,min:"2024-01-16T00:00",max:"2025-12-31T23:59"},null,8,["label","name","id","modelValue","onUpdate:modelValue","error"])])):s.type=="slug"?(l(),o("div",ba,[u(g(de),{type:"text",modelValue:a.fields[i].value,"onUpdate:modelValue":f=>a.fields[i].value=f,label:s.label,error:s.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):s.type=="media"?(l(),o("div",ha,[u(g(gt),{label:"image",placeholder:"search",modelValue:a.fields[i].value,"onUpdate:modelValue":f=>a.fields[i].value=f,loadData:a.fields[i].value,endpoint:s.endpoint,error:s.error},null,8,["modelValue","onUpdate:modelValue","loadData","endpoint","error"])])):s.type=="number"?(l(),o("div",ga,[u(g(de),{type:"number",modelValue:a.fields[i].value,"onUpdate:modelValue":f=>a.fields[i].value=f,label:s.label,onKeyup:f=>r(f.target.value,s.type,s.key),error:s.error},null,8,["modelValue","onUpdate:modelValue","label","onKeyup","error"])])):s.type=="model_search"?(l(),o("div",ya,[u(g(Oe),{label:s.label,placeholder:"search",model:s.model,columns:s.columns,singleMode:s.singleSearch,modelValue:a.fields[i].value,"onUpdate:modelValue":f=>a.fields[i].value=f,loadData:a.fields[i].value,endpoint:s.endpoint,displayKey:s.displayKey,error:s.error},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey","error"])])):s.type=="pivot_model"?(l(),o("div",xa,[u(g(Oe),{label:s.label,placeholder:"search",model:s.model,columns:s.columns,singleMode:s.singleSearch,modelValue:a.fields[i].value,"onUpdate:modelValue":f=>a.fields[i].value=f,loadData:a.fields[i].value,endpoint:s.endpoint,displayKey:s.displayKey,error:s.error},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey","error"])])):s.type=="editor"?(l(),o("div",_a,[u(g(os),{label:s.label,name:s.key,id:s.key+"-editor",placeholder:"Start typing...",modelValue:a.fields[i].value,"onUpdate:modelValue":f=>a.fields[i].value=f,required:"",minLength:10,maxLength:1e3,error:s.error},null,8,["label","name","id","modelValue","onUpdate:modelValue","error"])])):s.type=="Toggle"?(l(),o("div",wa,[u(g(je),{modelValue:a.fields[i].value,"onUpdate:modelValue":f=>a.fields[i].value=f,label:s.label,error:s.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):s.type=="boolean"?(l(),o("div",ka,[u(g(je),{modelValue:a.fields[i].value,"onUpdate:modelValue":f=>a.fields[i].value=f,label:s.label,error:s.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):s.type=="chips"?(l(),o("div",$a,[u(g(yt),{modelValue:a.fields[i].value,"onUpdate:modelValue":f=>a.fields[i].value=f,label:s.label,error:s.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):s.type=="icon"?(l(),o("div",Ca,[e("label",Da,[e("div",Ma,[e("span",Sa,$(s.label),1)]),q(e("textarea",{class:"textarea textarea-primary h-24",onKeyup:f=>r(f.target.value,s.type,s.key),"onUpdate:modelValue":f=>a.fields[i].value=f,placeholder:"Bio",error:s.error},null,40,Va),[[oe,a.fields[i].value]])]),e("div",Fa,[e("div",{class:"flex p-10 w-52",innerHTML:a.fields[i].value},null,8,Ta)])])):s.type=="select"?(l(),o("div",La,[u(g(ht),{modelValue:a.fields[i].value,"onUpdate:modelValue":f=>a.fields[i].value=f,label:s.label,options:s.select_options,error:s.error},null,8,["modelValue","onUpdate:modelValue","label","options","error"])])):V("",!0),s.error?(l(),o("div",Aa,$(s.error),1)):V("",!0)]))),128))]))}},We=Q(Ia,[["__scopeId","data-v-bd2da00c"]]),Ua={key:0,class:"mb-4"},Oa={class:"tabs tabs-boxed bg-base-300 p-1"},ja=["onClick"],Pa={class:"mt-4"},Ha={key:1},Ea={__name:"FormBuilder",props:{columns:{type:Array,default:()=>[]},modelValue:{type:Object,default:()=>({})},editMode:{type:String,default:"false"},errors:{type:Object,default:()=>({})}},emits:["onFormUpdate"],setup(a,{emit:c}){const n=a,y=c,r=S([]),d=S(""),C=P(()=>r.value.some(b=>b.tab)),s=P(()=>{const b=[...new Set(r.value.filter(t=>t.tab).map(t=>t.tab))];return b.length>0&&!d.value&&(d.value=b[0]),b}),i=b=>r.value.filter(t=>t.tab===b),f=b=>{b.forEach(t=>{const v=r.value.findIndex(p=>p.key===t.key);v!==-1&&(r.value[v]=t)}),y("onFormUpdate",r.value)},F=()=>{const b=[];n.columns.forEach(t=>{var k;const v=n.editMode==="false",p=n.editMode==="true";if(v&&t.canCreate||p&&t.canEdit){let x="";v?(t.type==="Toggle"||t.type==="boolean")&&(x=!1):p&&(x=U(t,n.modelValue));const m={...t,value:x,select_options:((k=t==null?void 0:t.options)==null?void 0:k.options)||(t==null?void 0:t.options),error:n.errors[t.key.toLowerCase()]||null};b.push(m)}}),r.value=b,n.editMode==="true"&&y("onFormUpdate",r.value)};X(()=>n.errors,b=>{if(Object.keys(b).length>0){const t=r.value.map(v=>({...v,error:b[v.key.toLowerCase()]||null}));r.value=t,y("onFormUpdate",r.value)}},{deep:!0,immediate:!0});const U=(b,t)=>{switch(b.type){case"date":return ia(t[b.key]);case"timestamp":return da(t[b.key]);case"media":case"model_search":case"pivot_model":case"boolean":case"chips":return t[b.key];default:return ca(t[b.key])}};return xe(F),(b,t)=>(l(),o("div",null,[C.value?(l(),o("div",Ua,[e("div",Oa,[(l(!0),o(L,null,j(s.value,v=>(l(),o("button",{key:v,class:T(["tab flex-1 transition-all duration-200",{"tab-active":d.value===v}]),onClick:p=>d.value=v},$(v),11,ja))),128))]),e("div",Pa,[(l(!0),o(L,null,j(s.value,v=>q((l(),o("div",{key:v},[u(We,{fields:i(v),"onUpdate:fields":f},null,8,["fields"])])),[[ft,d.value===v]])),128))])])):(l(),o("div",Ha,[u(We,{fields:r.value,"onUpdate:fields":f},null,8,["fields"])]))]))}},ye=Q(Ea,[["__scopeId","data-v-7017802f"]]),Ba={key:0,class:"fixed inset-0 z-50 overflow-hidden"},Ra={class:"relative min-h-screen flex items-center justify-center p-0 md:p-4"},Na={key:0,class:"relative bg-base-100 rounded-none md:rounded-2xl shadow-2xl flex flex-col w-full min-h-screen md:min-h-[80vh] md:max-h-[90vh] md:w-11/12 max-w-7xl transform transition-all"},za={key:0,class:"absolute inset-0 bg-base-100/70 backdrop-blur-sm flex items-center justify-center z-50"},qa={class:"sticky top-0 z-10 bg-base-200 px-6 py-4 border-b border-base-content/10"},Ka={class:"flex flex-col sm:flex-row justify-between gap-4"},Ya={class:"text-lg font-semibold flex items-center gap-3 text-base-content"},Wa={class:"flex items-center gap-2"},Xa={class:"flex items-center gap-3"},Qa=["disabled"],Ja={class:"mt-4 alert alert-error shadow-lg",key:"error-alert"},Ga={class:"flex-1 overflow-auto p-6 custom-scrollbar"},Za={class:"container mx-auto max-w-5xl"},el={class:"grid gap-6 lg:grid-cols-12"},tl={class:"lg:col-span-8 space-y-6"},sl={key:0,class:"w-full space-y-4"},al=["checked"],ll={class:"collapse-title text-lg font-medium flex items-center gap-3 pr-12"},nl={class:"collapse-content bg-base-100/50"},ol={class:"pt-4"},rl={key:1,class:"card bg-base-200 shadow-lg border border-base-content/10 hover:shadow-xl transition-all duration-200"},il={class:"card-body"},dl={class:"lg:col-span-4 space-y-4"},cl={class:"card bg-base-200 shadow-lg hover:shadow-xl transition-all duration-200"},ul={class:"card-body"},vl={class:"text-sm font-medium text-base-content flex items-center gap-2"},fl={class:"card bg-base-200 shadow-lg hover:shadow-xl transition-all duration-200"},ml={class:"card-body"},pl={class:"text-sm font-medium text-base-content flex items-center gap-2"},bl={class:"text-sm text-base-content/70 mt-2 space-y-3"},hl={class:"flex items-start gap-2"},gl={class:"rounded-full bg-success/20 p-1 mt-0.5"},yl={class:"flex items-start gap-2"},xl={class:"rounded-full bg-success/20 p-1 mt-0.5"},_l={class:"flex items-start gap-2"},wl={class:"rounded-full bg-success/20 p-1 mt-0.5"},kl={key:1,class:"modal-box w-11/12 max-w-lg bg-base-100"},$l={class:"card shadow-xl"},Cl={class:"card-body items-center text-center space-y-6"},Dl={class:"w-20 h-20 rounded-full bg-warning/20 flex items-center justify-center animate-pulse"},Ml=ae({__name:"create",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},permission:{type:String,default:null}},emits:["onCreate"],setup(a,{emit:c}){const n=S(!1),y=S(!1),r=S({}),d=a,C=c,s=P(()=>d.columns.some(b=>b.canCreate)),i=P(()=>{const b=d.columns.filter(p=>p.section),t=d.columns.filter(p=>!p.section),v=[...new Set(b.map(p=>p.section))];return{sections:v,fields:t,sectionsWithFields:v.map(p=>({section:p,fields:b.filter(M=>M.section===p)}))}}),f=S(d.columns.filter(b=>b.canCreate)),F=b=>{f.value.length>0?b.forEach(t=>{const v=f.value.findIndex(p=>p.key===t.key);v!==-1&&(f.value[v]=t)}):f.value=b},U=async()=>{var b,t;if(!y.value)try{y.value=!0,r.value={};const v=await me.post(d.endpoint,{model:d.model,data:f.value,permission:d.permission});Y("success","Entry created successfully","success"),C("onCreate"),n.value=!1}catch(v){if(r.value={},(t=(b=v.response)==null?void 0:b.data)!=null&&t.errors){const p=v.response.data.errors;Array.isArray(p)?p.forEach(M=>{if(Array.isArray(M)&&M.length>0){const k=M[0],x=k.match(/The (.*?) (field )?(is required|must be|invalid|already exists)/i);if(x){const m=x[1].toLowerCase().replace(" ","_");r.value[m]=k}}}):typeof p=="object"&&Object.entries(p).forEach(([M,k])=>{Array.isArray(k)&&k.length>0&&(r.value[M]=k[0])}),Object.values(r.value).forEach(M=>{Y("error",M,"error")})}else v.message&&Y("error",v.message,"error")}finally{y.value=!1}};return(b,t)=>(l(),o(L,null,[e("button",{onClick:t[0]||(t[0]=v=>n.value=!0),class:"btn btn-primary gap-2 group relative overflow-hidden hover:shadow-lg transition-all duration-300"},[u(g(Tt),{class:"w-5 h-5 transform transition-all duration-300 group-hover:rotate-90"}),t[5]||(t[5]=e("span",{class:"hidden md:inline"},"Create New",-1)),t[6]||(t[6]=e("div",{class:"absolute inset-0 bg-white/20 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"},null,-1))]),u(ee,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:N(()=>[n.value?(l(),o("div",Ba,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:t[1]||(t[1]=v=>n.value=!1)}),e("div",Ra,[u(ee,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:N(()=>[s.value?(l(),o("div",Na,[y.value?(l(),o("div",za,t[7]||(t[7]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"loading loading-spinner loading-lg text-primary"}),e("p",{class:"text-sm font-medium text-base-content/70"},"Processing...")],-1)]))):V("",!0),e("div",qa,[e("div",Ka,[e("h2",Ya,[e("button",{onClick:t[2]||(t[2]=v=>n.value=!1),class:"btn btn-sm btn-circle btn-ghost hover:bg-base-300 hover:rotate-90 transition-all duration-200"},[u(g(G),{class:"w-5 h-5"})]),e("div",Wa,[u(g(Lt),{class:"w-5 h-5 text-primary"}),t[8]||(t[8]=e("span",null,"Create New Entry",-1))])]),e("div",Xa,[e("button",{onClick:t[3]||(t[3]=v=>n.value=!1),class:"btn btn-ghost btn-sm hover:bg-base-300"}," Cancel "),e("button",{onClick:U,disabled:y.value,class:"btn btn-primary btn-sm gap-2 min-w-[100px]"},[u(g(at),{class:T(["w-4 h-4",{"animate-spin":y.value}])},null,8,["class"]),E(" "+$(y.value?"Creating...":"Create"),1)],8,Qa)])]),u(fe,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 -translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-4"},{default:N(()=>[Object.keys(r.value).length>0?(l(),o("div",Ja,[u(g(Se),{class:"w-5 h-5 flex-shrink-0"}),t[9]||(t[9]=e("div",null,[e("h3",{class:"font-bold"},"Please correct the following errors"),e("div",{class:"text-xs opacity-75"},"Review the highlighted fields below")],-1))])):V("",!0)]),_:1})]),e("div",Ga,[e("div",Za,[e("div",el,[e("div",tl,[u(fe,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-4"},{default:N(()=>[i.value.sectionsWithFields.length>0?(l(),o("div",sl,[(l(!0),o(L,null,j(i.value.sectionsWithFields,(v,p)=>(l(),o("div",{key:v.section,class:"collapse collapse-plus bg-base-200 rounded-box border border-base-content/10 hover:border-primary/30 transition-all duration-200 shadow-sm hover:shadow-md"},[e("input",{type:"checkbox",checked:p===0},null,8,al),e("div",ll,[u(g(Ge),{class:"w-5 h-5 text-primary"}),E(" "+$(v.section),1)]),e("div",nl,[e("div",ol,[u(ye,{columns:v.fields,errors:r.value,onOnFormUpdate:F},null,8,["columns","errors"])])])]))),128))])):V("",!0),i.value.fields.length>0?(l(),o("div",rl,[e("div",il,[u(ye,{columns:i.value.fields,errors:r.value,onOnFormUpdate:F},null,8,["columns","errors"])])])):V("",!0)]),_:1})]),e("div",dl,[e("div",cl,[e("div",ul,[e("h3",vl,[u(g(lt),{class:"w-4 h-4 text-primary"}),t[10]||(t[10]=E(" Information "))]),t[11]||(t[11]=e("div",{class:"text-sm text-base-content/70 mt-2 space-y-2"},[e("p",null,"Fill in the required information to create a new entry."),e("p",null,[E("All fields marked with "),e("span",{class:"text-error"},"*"),E(" are required.")])],-1))])]),e("div",fl,[e("div",ml,[e("h3",pl,[u(g(At),{class:"w-4 h-4 text-primary"}),t[12]||(t[12]=E(" Quick Tips "))]),e("ul",bl,[e("li",hl,[e("div",gl,[u(g(ve),{class:"w-3 h-3 text-success"})]),t[13]||(t[13]=e("span",null,"Use sections to organize related fields",-1))]),e("li",yl,[e("div",xl,[u(g(ve),{class:"w-3 h-3 text-success"})]),t[14]||(t[14]=e("span",null,"Preview changes before submitting",-1))]),e("li",_l,[e("div",wl,[u(g(ve),{class:"w-3 h-3 text-success"})]),t[15]||(t[15]=e("span",null,"All changes are saved automatically",-1))])])])])])])])])])):(l(),o("div",kl,[e("div",$l,[e("div",Cl,[e("div",Dl,[u(g(It),{class:"w-10 h-10 text-warning"})]),t[16]||(t[16]=e("div",{class:"space-y-2"},[e("h2",{class:"text-2xl font-bold text-error"},"Access Denied"),e("p",{class:"text-base-content/80"},"You don't have permission to create new entries."),e("p",{class:"text-base-content/60 text-sm"},"Please contact your system administrator for access.")],-1)),e("button",{onClick:t[4]||(t[4]=v=>n.value=!1),class:"btn btn-ghost btn-sm hover:bg-base-200"}," Close ")])])]))]),_:1})])])):V("",!0)]),_:1})],64))}}),Sl=Q(Ml,[["__scopeId","data-v-845adc09"]]),Vl={key:0,class:"fixed inset-0 z-50 overflow-hidden"},Fl={class:"relative min-h-screen flex items-center justify-center p-0 md:p-4"},Tl={class:"relative bg-base-100 rounded-none md:rounded-2xl shadow-2xl flex flex-col w-full min-h-screen md:min-h-[80vh] md:max-h-[90vh] md:w-11/12 max-w-7xl transform transition-all"},Ll={key:0,class:"absolute inset-0 bg-base-100/70 backdrop-blur-sm flex items-center justify-center z-50"},Al={class:"sticky top-0 z-10 bg-base-200 px-6 py-4 border-b border-base-content/10"},Il={class:"flex flex-col sm:flex-row justify-between gap-4"},Ul={class:"text-lg font-semibold flex items-center gap-3 text-base-content"},Ol={class:"flex items-center gap-2"},jl={class:"flex items-center gap-3"},Pl=["disabled"],Hl={class:"mt-4 alert alert-error shadow-lg",key:"error-alert"},El={class:"flex-1 overflow-auto p-6 custom-scrollbar"},Bl={class:"container mx-auto max-w-5xl"},Rl={class:"grid gap-6 lg:grid-cols-12"},Nl={class:"lg:col-span-8 space-y-6"},zl={key:0,class:"w-full space-y-4"},ql=["checked"],Kl={class:"collapse-title text-lg font-medium flex items-center gap-3 pr-12"},Yl={class:"collapse-content bg-base-100/50"},Wl={class:"pt-4"},Xl={key:1,class:"card bg-base-200 shadow-lg border border-base-content/10 hover:shadow-xl transition-all duration-200"},Ql={class:"card-body"},Jl={class:"lg:col-span-4 space-y-4"},Gl={class:"card bg-base-200 shadow-lg hover:shadow-xl transition-all duration-200"},Zl={class:"card-body"},en={class:"text-sm font-medium text-base-content flex items-center gap-2"},tn={class:"mt-3 space-y-3 divide-y divide-base-content/10"},sn={class:"flex justify-between items-center py-2"},an={class:"font-medium text-base-content"},ln={class:"flex justify-between items-center py-2"},nn={class:"font-medium text-base-content flex items-center gap-2"},on={class:"card bg-base-200 shadow-lg hover:shadow-xl transition-all duration-200"},rn={class:"card-body"},dn={class:"text-sm font-medium text-base-content flex items-center gap-2"},cn={class:"mt-3 space-y-1"},un=["onClick"],vn={class:"flex items-center gap-2"},fn={key:0,class:"text-error"},mn=ae({__name:"edit",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},id:{type:Number,default:0},modelValue:{type:Object,default:()=>({})},permission:{type:String,default:null}},emits:["onEdit"],setup(a,{emit:c}){const n=S(!1),y=S(!1),r=S({}),d=a,C=c,s=S(d.columns.filter(b=>b.canEdit)),i=P(()=>{const b=d.columns.filter(p=>p.section),t=d.columns.filter(p=>!p.section),v=[...new Set(b.map(p=>p.section))];return{sections:v,fields:t,sectionsWithFields:v.map(p=>({section:p,fields:b.filter(M=>M.section===p)}))}}),f=b=>{s.value.length>0?b.forEach(t=>{const v=s.value.findIndex(p=>p.key===t.key);v!==-1&&(s.value[v]=t)}):s.value=b},F=async()=>{var b,t;if(!y.value)try{y.value=!0,r.value={};const v=await me.post(d.endpoint,{model:d.model,id:d.id,data:s.value,permission:d.permission});Y("success",v.data.message,"success"),C("onEdit"),n.value=!1}catch(v){if((t=(b=v.response)==null?void 0:b.data)!=null&&t.errors){const p=v.response.data.errors;Array.isArray(p)?p.forEach(M=>{if(Array.isArray(M)&&M.length>0){const k=M[0],x=k.match(/The (.*?) (field )?(is required|must be|invalid|already exists)/i);if(x){const m=x[1].toLowerCase().replace(" ","_");r.value[m]=k}}}):Object.entries(p).forEach(([M,k])=>{Array.isArray(k)&&k.length>0&&(r.value[M.toLowerCase()]=k[0])}),Object.values(r.value).forEach(M=>{Y("error",M,"error")})}else Y("error","An error occurred while saving changes. Please try again.","error")}finally{y.value=!1}},U=b=>{var v;const t=document.querySelector(`[data-field-key="${b}"]`);if(t){const p=t.closest(".collapse-content");if(p){const M=(v=p.parentElement)==null?void 0:v.querySelector('input[type="checkbox"]');M&&!M.checked&&(M.checked=!0)}setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),t.classList.add("highlight-field"),setTimeout(()=>{t.classList.remove("highlight-field")},2e3)},300)}};return(b,t)=>(l(),o(L,null,[e("button",{onClick:t[0]||(t[0]=v=>n.value=!0),class:"btn btn-primary btn-sm gap-2 group relative overflow-hidden hover:shadow-lg transition-all duration-300"},[u(g(Ce),{class:"w-4 h-4 transform transition-all duration-300 group-hover:rotate-12"}),t[4]||(t[4]=e("span",{class:"hidden md:inline"},"Edit",-1)),t[5]||(t[5]=e("div",{class:"absolute inset-0 bg-white/20 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"},null,-1))]),u(ee,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:N(()=>[n.value?(l(),o("div",Vl,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:t[1]||(t[1]=v=>n.value=!1)}),e("div",Fl,[u(ee,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:N(()=>{var v;return[e("div",Tl,[y.value?(l(),o("div",Ll,t[6]||(t[6]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"loading loading-spinner loading-lg text-primary"}),e("p",{class:"text-sm font-medium text-base-content/70"},"Saving changes...")],-1)]))):V("",!0),e("div",Al,[e("div",Il,[e("h2",Ul,[e("button",{onClick:t[2]||(t[2]=p=>n.value=!1),class:"btn btn-sm btn-circle btn-ghost hover:bg-base-300 hover:rotate-90 transition-all duration-200"},[u(g(G),{class:"w-5 h-5"})]),e("div",Ol,[u(g(Rt),{class:"w-5 h-5 text-primary"}),e("span",null,"Edit Item "+$(d.id),1)])]),e("div",jl,[e("button",{onClick:t[3]||(t[3]=p=>n.value=!1),class:"btn btn-ghost btn-sm hover:bg-base-300"}," Cancel "),e("button",{onClick:F,disabled:y.value,class:"btn btn-primary btn-sm gap-2 min-w-[120px]"},[u(g(at),{class:T(["w-4 h-4",{"animate-spin":y.value}])},null,8,["class"]),E(" "+$(y.value?"Saving...":"Save Changes"),1)],8,Pl)])]),u(fe,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 -translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-4"},{default:N(()=>[Object.keys(r.value).length>0?(l(),o("div",Hl,[u(g(Se),{class:"w-5 h-5 flex-shrink-0"}),t[7]||(t[7]=e("div",null,[e("h3",{class:"font-bold"},"Please correct the following errors"),e("div",{class:"text-xs opacity-75"},"Review the highlighted fields below")],-1))])):V("",!0)]),_:1})]),e("div",El,[e("div",Bl,[e("div",Rl,[e("div",Nl,[u(fe,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-4"},{default:N(()=>[i.value.sectionsWithFields.length>0?(l(),o("div",zl,[(l(!0),o(L,null,j(i.value.sectionsWithFields,(p,M)=>(l(),o("div",{key:p.section,class:"collapse collapse-plus bg-base-200 rounded-box border border-base-content/10 hover:border-primary/30 transition-all duration-200 shadow-sm hover:shadow-md"},[e("input",{type:"checkbox",checked:M===0},null,8,ql),e("div",Kl,[u(g(Ge),{class:"w-5 h-5 text-primary"}),E(" "+$(p.section),1)]),e("div",Yl,[e("div",Wl,[u(ye,{columns:p.fields,errors:r.value,onOnFormUpdate:f,editMode:"true",modelValue:d.modelValue},null,8,["columns","errors","modelValue"])])])]))),128))])):V("",!0),i.value.fields.length>0?(l(),o("div",Xl,[e("div",Ql,[u(ye,{columns:i.value.fields,errors:r.value,onOnFormUpdate:f,editMode:"true",modelValue:d.modelValue},null,8,["columns","errors","modelValue"])])])):V("",!0)]),_:1})]),e("div",Jl,[e("div",Gl,[e("div",Zl,[e("h3",en,[u(g(lt),{class:"w-4 h-4 text-primary"}),t[8]||(t[8]=E(" Information "))]),e("div",tn,[e("div",sn,[t[9]||(t[9]=e("span",{class:"text-sm text-base-content/70"},"ID:",-1)),e("span",an,$(d.id),1)]),e("div",ln,[t[10]||(t[10]=e("span",{class:"text-sm text-base-content/70"},"Last Updated:",-1)),e("span",nn,[u(g(st),{class:"w-4 h-4 text-primary"}),E(" "+$(new Date((v=d.modelValue)==null?void 0:v.updated_at).toLocaleDateString()),1)])])])])]),e("div",on,[e("div",rn,[e("h3",dn,[u(g(Ut),{class:"w-4 h-4 text-primary"}),t[11]||(t[11]=E(" Quick Navigation "))]),e("div",cn,[(l(!0),o(L,null,j(s.value,p=>(l(),o("button",{key:p.key,onClick:M=>U(p.key),class:T(["w-full text-left px-3 py-2 text-sm rounded-btn transition-all duration-200",[r.value[p.key]?"text-error bg-error/10 hover:bg-error/20":"text-base-content hover:bg-base-100"]])},[e("div",vn,[r.value[p.key]?(l(),o("span",fn,"")):V("",!0),E(" "+$(p.label),1)])],10,un))),128))])])])])])])])])]}),_:1})])])):V("",!0)]),_:1})],64))}}),Xe=Q(mn,[["__scopeId","data-v-14932ed5"]]),pn={class:"bg-base-100 rounded-xl shadow-lg transition-all duration-300 hover:shadow-xl"},bn={class:"p-4"},hn={class:"md:hidden w-full mb-4"},gn={class:"flex items-center gap-2"},yn={class:"grid gap-3 sm:grid-cols-3"},xn={class:"dropdown dropdown-hover"},_n={tabindex:"0",class:"btn btn-ghost w-full justify-between gap-2 normal-case"},wn={class:"flex items-center gap-2 text-base-content/70"},kn={tabindex:"0",class:"dropdown-content z-10 menu p-2 shadow-lg bg-base-200 rounded-box w-52"},$n=["onClick"],Cn={class:"dropdown dropdown-hover"},Dn={tabindex:"0",class:"btn btn-ghost w-full justify-between gap-2 normal-case"},Mn={class:"flex items-center gap-2 text-base-content/70"},Sn={class:"truncate"},Vn={tabindex:"0",class:"dropdown-content z-10 menu p-2 shadow-lg bg-base-200 rounded-box w-52"},Fn=["onClick"],Tn={class:"dropdown dropdown-hover"},Ln={tabindex:"0",class:"btn btn-ghost w-full justify-between gap-2 normal-case"},An={class:"flex items-center gap-2 text-base-content/70"},In={tabindex:"0",class:"dropdown-content z-10 menu p-2 shadow-lg bg-base-200 rounded-box w-52"},Un={class:"join w-full sm:w-auto"},On={class:"relative flex-1"},jn=["disabled"],Pn={key:"search",class:"badge badge-primary gap-2 p-3"},Hn={key:"filter",class:"badge badge-secondary gap-2 p-3"},En={key:"perPage",class:"badge badge-accent gap-2 p-3"},Bn=ae({__name:"filter",props:{columns:{}},emits:["onPerPage","onOrderBy","onSearch","onFilter","onFilterReset"],setup(a,{emit:c}){const n=a,y=c,r=S(!1),d=S(10),C=S(""),s=S("asc"),i=S(""),f=S([]),F=P(()=>{const x=f.value.find(m=>m.value===C.value);return(x==null?void 0:x.label)||""}),U=P(()=>i.value||C.value||d.value!==10||s.value!=="asc"),b=(x,m)=>{let _;return(...R)=>{clearTimeout(_),_=setTimeout(()=>x(...R),m)}},t=()=>{const x=n.columns.filter(m=>m.sortable);f.value=x.map(m=>({label:m.label,value:m.key}))},v=()=>{i.value="",y("onSearch","")},p=()=>{i.value&&k(i.value)},M=()=>{d.value=10,C.value="",s.value="asc",i.value="",r.value=!1,y("onFilterReset",{perPage:10,filterBy:"",orderBy:"asc",search:null})},k=b(x=>{y("onSearch",x)},300);return X(d,x=>y("onPerPage",x)),X(s,x=>y("onOrderBy",x)),X(C,x=>y("onFilter",x)),X(i,x=>{x&&k(x)}),xe(t),(x,m)=>(l(),o("div",pn,[e("div",bn,[e("div",hn,[e("button",{onClick:m[0]||(m[0]=_=>r.value=!r.value),class:"btn btn-ghost w-full justify-between group"},[e("span",gn,[u(g(et),{class:"w-4 h-4 text-primary"}),e("span",null,$(r.value?"Hide Filters":"Show Filters"),1)]),u(g(Z),{class:T(["w-4 h-4 transition-transform duration-300",{"rotate-180":r.value}])},null,8,["class"])])]),e("div",{class:T(["grid gap-4 transition-all duration-300",["md:grid-cols-[1fr_auto]",r.value?"grid-cols-1":"hidden md:grid"]])},[e("div",yn,[e("div",xn,[e("label",_n,[e("div",wn,[u(g(Ot),{class:"w-4 h-4"}),e("span",null,$(d.value)+" per page",1)]),u(g(Z),{class:"w-4 h-4"})]),e("ul",kn,[(l(),o(L,null,j([10,25,50,100],_=>e("li",{key:_},[e("button",{onClick:R=>d.value=_,class:T([{active:d.value===_},"flex items-center gap-2"])},[d.value===_?(l(),z(g(ve),{key:0,class:"w-4 h-4"})):V("",!0),e("span",null,$(_)+" items",1)],10,$n)])),64))])]),e("div",Cn,[e("label",Dn,[e("div",Mn,[u(g(tt),{class:"w-4 h-4"}),e("span",Sn,$(F.value||"Filter by"),1)]),u(g(Z),{class:"w-4 h-4"})]),e("ul",Vn,[(l(!0),o(L,null,j(f.value,_=>(l(),o("li",{key:_.value},[e("button",{onClick:R=>C.value=_.value,class:T([{active:C.value===_.value},"flex items-center gap-2"])},[C.value===_.value?(l(),z(g(ve),{key:0,class:"w-4 h-4"})):V("",!0),e("span",null,$(_.label),1)],10,Fn)]))),128))])]),e("div",Tn,[e("label",Ln,[e("div",An,[(l(),z(se(s.value==="asc"?g(De):g(Me)),{class:"w-4 h-4"})),e("span",null,$(s.value==="asc"?"Ascending":"Descending"),1)]),u(g(Z),{class:"w-4 h-4"})]),e("ul",In,[e("li",null,[e("button",{onClick:m[1]||(m[1]=_=>s.value="asc"),class:T([{active:s.value==="asc"},"flex items-center gap-2"])},[u(g(De),{class:"w-4 h-4"}),m[6]||(m[6]=e("span",null,"Ascending",-1))],2)]),e("li",null,[e("button",{onClick:m[2]||(m[2]=_=>s.value="desc"),class:T([{active:s.value==="desc"},"flex items-center gap-2"])},[u(g(Me),{class:"w-4 h-4"}),m[7]||(m[7]=e("span",null,"Descending",-1))],2)])])])]),e("div",Un,[e("div",On,[q(e("input",{"onUpdate:modelValue":m[3]||(m[3]=_=>i.value=_),type:"text",placeholder:"Search...",class:T(["input input-bordered join-item w-full pl-10",{"pr-9":i.value}]),onKeyup:mt(p,["enter"])},null,34),[[oe,i.value]]),u(g(Ke),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-base-content/40"}),i.value?(l(),o("button",{key:0,onClick:v,class:"absolute right-3 top-1/2 -translate-y-1/2 text-base-content/40 hover:text-base-content transition-colors"},[u(g(G),{class:"w-4 h-4"})])):V("",!0)]),e("button",{class:"btn btn-primary join-item",onClick:p},[u(g(Ke),{class:"w-4 h-4"}),m[8]||(m[8]=e("span",{class:"hidden sm:inline"},"Search",-1))]),e("button",{class:"btn btn-secondary join-item group",onClick:M,disabled:!U.value},[u(g(Ve),{class:"w-4 h-4 group-hover:rotate-180 transition-transform duration-300"}),m[9]||(m[9]=e("span",{class:"hidden sm:inline"},"Reset",-1))],8,jn)])],2),u(fe,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2",class:"flex flex-wrap gap-2 mt-4"},{default:N(()=>[i.value?(l(),o("div",Pn,[m[10]||(m[10]=e("span",{class:"text-xs opacity-70"},"Search:",-1)),e("span",null,$(i.value),1),e("button",{onClick:v,class:"hover:text-error"},[u(g(G),{class:"w-3 h-3"})])])):V("",!0),C.value?(l(),o("div",Hn,[m[11]||(m[11]=e("span",{class:"text-xs opacity-70"},"Filter:",-1)),e("span",null,$(F.value),1),e("button",{onClick:m[4]||(m[4]=_=>C.value=""),class:"hover:text-error"},[u(g(G),{class:"w-3 h-3"})])])):V("",!0),d.value!==10?(l(),o("div",En,[m[12]||(m[12]=e("span",{class:"text-xs opacity-70"},"Show:",-1)),e("span",null,$(d.value)+" items",1),e("button",{onClick:m[5]||(m[5]=_=>d.value=10),class:"hover:text-error"},[u(g(G),{class:"w-3 h-3"})])])):V("",!0)]),_:1})])]))}}),Rn=Q(Bn,[["__scopeId","data-v-e2c29525"]]),Nn={class:"px-5 py-5 bg-base-200 border-t flex flex-col xs:flex-row items-center xs:justify-between"},zn={class:"xs:text-sm text-primary font-bold text-sm md:text-lg"},qn={class:"inline-flex mt-2 xs:mt-0"},Kn={class:"btn-group"},Yn=["disabled"],Wn=["onClick"],Xn={key:1,class:"btn btn-md btn-disabled"},Qn=["disabled"],Jn={__name:"pagination",props:{paginationInfo:{type:Object,default:()=>({currentPage:1,lastPage:1,perPage:10,total:0,links:[]})},endpoint:{type:String,default:""}},emits:["onPagiation"],setup(a,{emit:c}){const n=a,y=c,r=P(()=>n.paginationInfo.currentPage||1),d=P(()=>n.paginationInfo.lastPage||1),C=P(()=>n.paginationInfo.perPage||10),s=P(()=>n.paginationInfo.total||0),i=P(()=>{const b=r.value,t=d.value,v=2,p=b-v,M=b+v+1,k=[],x=[];let m;for(let _=1;_<=t;_++)(_===1||_===t||_>=p&&_<M)&&k.push(_);for(const _ of k)m&&(_-m===2?x.push(m+1):_-m!==1&&x.push("...")),x.push(_),m=_;return x}),f=b=>{const t=n.endpoint+`?page=${b}`;y("onPagiation",t)},F=()=>{r.value<d.value&&f(r.value+1)},U=()=>{r.value>1&&f(r.value-1)};return(b,t)=>(l(),o("div",Nn,[e("span",zn," Showing "+$(r.value)+" to "+$(Math.min(r.value*C.value,s.value))+" of "+$(s.value)+" Entries ",1),e("div",qn,[e("div",Kn,[e("button",{class:"btn btn-md",disabled:r.value===1,onClick:U}," Prev ",8,Yn),(l(!0),o(L,null,j(i.value,(v,p)=>(l(),o(L,{key:p},[typeof v=="number"?(l(),o("button",{key:0,class:T(["btn btn-md",{"btn-active":v===r.value}]),onClick:M=>f(v)},$(v),11,Wn)):v==="..."?(l(),o("span",Xn," ... ")):V("",!0)],64))),128)),e("button",{class:"btn btn-md",disabled:r.value===d.value,onClick:F}," Next ",8,Qn)])])]))}},Gn={class:"field-renderer"},Zn={key:0,class:"flex -space-x-2"},eo=["src","alt"],to={key:0,class:"w-8 h-8 rounded-full bg-base-300 border-2 border-base-100 flex items-center justify-center"},so={class:"text-xs"},ao={key:1,class:"text-base-content/50"},lo={key:2,class:"flex flex-col"},no={class:"text-sm"},oo={class:"text-xs opacity-70"},ro={key:3,class:"font-mono"},io={key:4,class:"flex flex-wrap gap-1"},co={class:"opacity-60 text-[10px] uppercase mr-1"},uo={class:"font-medium"},vo={key:1,class:"text-base-content/50"},fo={key:5,class:"font-mono"},mo={key:6,class:"flex items-center justify-center"},po=["innerHTML"],bo={key:1,class:"text-base-content/50"},ho={key:7,class:"relative group"},go={key:0,class:"absolute z-50 bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"},yo={class:"bg-base-300 text-base-content px-3 py-2 rounded shadow-lg max-w-xs"},xo={__name:"FieldRenderer",props:{value:{type:[String,Number,Boolean,Array,Object],default:null},type:{type:String,default:"text"},options:{type:Object,default:()=>({})}},setup(a){const c=a,n=P(()=>Array.isArray(c.value)?c.value.slice(0,3):[]),y=P(()=>Array.isArray(c.value)?Math.max(0,c.value.length-3):0),r=P(()=>c.value&&typeof c.value=="object"&&!Array.isArray(c.value)),d=P(()=>c.value&&typeof c.value=="string"&&c.value.length>30);function C(t){var v;return t!=null&&t.url?typeof t.url=="string"?t.url:((v=t.url)==null?void 0:v.default)||"":""}function s(t){if(!t)return"";try{return ne(new Date(t),"MMM d, yyyy")}catch{return""}}function i(t){if(!t)return"";try{return gs(new Date(t),{addSuffix:!0})}catch{return""}}function f(t){if(t==null)return"";try{return new Intl.NumberFormat().format(t)}catch{return""}}function F(t){if(t==null)return"";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}catch{return""}}function U(t){return{status:"badge-info",type:"badge-warning",category:"badge-success",priority:"badge-error",label:"badge-primary"}[t.toLowerCase()]||"badge-neutral"}function b(t){return t==null||t===""?"":String(t)}return(t,v)=>(l(),o("div",Gn,[a.type==="media"?(l(),o("div",Zn,[Array.isArray(a.value)&&a.value.length>0?(l(),o(L,{key:0},[(l(!0),o(L,null,j(n.value,(p,M)=>(l(),o("div",{key:M,class:"relative"},[p!=null&&p.url?(l(),o("img",{key:0,src:C(p),alt:(p==null?void 0:p.name)||`Image ${M+1}`,class:"w-8 h-8 rounded-full border-2 border-base-100 object-cover"},null,8,eo)):V("",!0)]))),128)),y.value>0?(l(),o("div",to,[e("span",so,"+"+$(y.value),1)])):V("",!0)],64)):(l(),o("div",ao,""))])):a.type==="boolean"?(l(),o("div",{key:1,class:T(["px-2 py-1 rounded-full text-xs font-medium inline-flex items-center gap-1",a.value?"bg-success/10 text-success":"bg-error/10 text-error"])},[e("div",{class:T(["w-1.5 h-1.5 rounded-full",a.value?"bg-success":"bg-error"])},null,2),E(" "+$(a.value?"Yes":"No"),1)],2)):a.type==="date"||a.type==="timestamp"?(l(),o("div",lo,[e("span",no,$(s(a.value)),1),e("span",oo,$(i(a.value)),1)])):a.type==="number"?(l(),o("div",ro,$(f(a.value)),1)):a.type==="model_search"?(l(),o("div",io,[r.value?(l(!0),o(L,{key:0},j(a.value,(p,M)=>(l(),o("div",{key:M,class:T(["badge badge-sm",U(M)])},[e("span",co,$(M)+":",1),e("span",uo,$(p),1)],2))),128)):(l(),o("span",vo,""))])):a.type==="price"?(l(),o("div",fo,$(F(a.value)),1)):a.type==="icon"?(l(),o("div",mo,[a.value?(l(),o("div",{key:0,class:"w-8 h-8 flex items-center justify-center",innerHTML:a.value},null,8,po)):(l(),o("span",bo,""))])):(l(),o("div",ho,[e("span",{class:T({"text-base-content/50":!a.value})},$(b(a.value)),3),d.value?(l(),o("div",go,[e("div",yo,$(a.value),1)])):V("",!0)]))]))}},_o=Q(xo,[["__scopeId","data-v-096488e1"]]),Qe={__name:"tableDataDisplay",props:{tableData:{type:Object,required:!0,default:()=>({})},columns:{type:Array,required:!0,default:()=>[]}},setup(a){return(c,n)=>(l(!0),o(L,null,j(a.columns,(y,r)=>(l(),o("td",{key:r,class:"p-4"},[u(_o,{value:a.tableData[y.key],type:y.type||"text",options:y.options||{}},null,8,["value","type","options"])]))),128))}},wo={class:"bg-base-100 rounded-xl shadow-lg p-4"},ko={class:"md:hidden w-full mb-4"},$o={class:"flex items-center gap-2"},Co={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Do={class:"label"},Mo={class:"label-text"},So={key:0,class:"relative"},Vo=["onUpdate:modelValue"],Fo=["value"],To=["onUpdate:modelValue"],Lo=["onUpdate:modelValue"],Ao=["value"],Io={key:3,class:"flex gap-2"},Uo={class:"flex-1"},Oo=["onUpdate:modelValue"],jo={class:"flex-1"},Po=["onUpdate:modelValue"],Ho=["onUpdate:modelValue","placeholder"],Eo={class:"flex flex-wrap gap-2 mt-4"},Bo={class:"text-xs opacity-70"},Ro=["onClick"],No={class:"flex justify-end gap-2 mt-4"},zo=["disabled"],qo={__name:"AdvancedFilter",props:{columns:{type:Array,required:!0}},emits:["onFilterChange"],setup(a,{emit:c}){const n=a,y=c,r=S(!1),d=S({}),C=S({});n.columns.forEach(k=>{k.type==="date"&&(d.value[k.key]={from:"",to:""})});const s=P(()=>n.columns.filter(k=>k.filterable!==!1)),i=async k=>{try{const x=await me.post(k.endpoint,{model:k.model,columns:k.columns});C.value[k.key]=x.data.data}catch(x){console.error("Error loading model options:",x)}},f=P(()=>Object.entries(d.value).reduce((k,[x,m])=>(m&&(typeof m=="string"?m.trim():m)&&(k[x]=m),k),{})),F=P(()=>Object.keys(f.value).length>0),U=k=>{const x=n.columns.find(m=>m.key===k);return x?x.label:k},b=(k,x)=>{var _,R;const m=n.columns.find(W=>W.key===k);if(!m)return x;switch(m.type){case"boolean":return x==="true"?"Yes":"No";case"date":return`${x.from} - ${x.to}`;case"select":const W=(R=(_=m.options)==null?void 0:_.select_options)==null?void 0:R.find(J=>J.value===x);return W?W.label:x;default:return x}},t=()=>{y("onFilterChange",f.value)},v=k=>{var x;((x=n.columns.find(m=>m.key===k))==null?void 0:x.type)==="date"?d.value[k]={from:"",to:""}:d.value[k]="",t()},p=()=>{d.value={},n.columns.forEach(k=>{k.type==="date"&&(d.value[k.key]={from:"",to:""})}),t()},M=()=>{t()};return xe(()=>{n.columns.forEach(k=>{k.type==="model_search"&&k.filterable&&i(k)})}),(k,x)=>(l(),o("div",wo,[e("div",ko,[e("button",{onClick:x[0]||(x[0]=m=>r.value=!r.value),class:"btn btn-ghost w-full justify-between"},[e("span",$o,[u(g(et),{class:"w-4 h-4 text-primary"}),e("span",null,$(r.value?"Hide Filters":"Show Filters"),1)]),u(g(Z),{class:T(["w-4 h-4",{"rotate-180":r.value}])},null,8,["class"])])]),e("div",{class:T(["space-y-4 transition-all duration-300",r.value?"block":"hidden md:block"])},[e("div",Co,[(l(!0),o(L,null,j(s.value,m=>(l(),o("div",{key:m.key,class:"form-control"},[e("label",Do,[e("span",Mo,$(m.label),1)]),m.type==="model_search"?(l(),o("div",So,[q(e("select",{"onUpdate:modelValue":_=>d.value[m.key]=_,class:"select select-bordered w-full",onChange:t},[x[1]||(x[1]=e("option",{value:""},"All",-1)),(l(!0),o(L,null,j(C.value[m.key],_=>(l(),o("option",{key:_.id,value:_.id},$(_[m.displayKey]),9,Fo))),128))],40,Vo),[[ue,d.value[m.key]]])])):V("",!0),m.type==="boolean"?q((l(),o("select",{key:1,"onUpdate:modelValue":_=>d.value[m.key]=_,class:"select select-bordered w-full",onChange:t},x[2]||(x[2]=[e("option",{value:""},"All",-1),e("option",{value:"true"},"Yes",-1),e("option",{value:"false"},"No",-1)]),40,To)),[[ue,d.value[m.key]]]):m.type==="select"&&m.options?q((l(),o("select",{key:2,"onUpdate:modelValue":_=>d.value[m.key]=_,class:"select select-bordered w-full",onChange:t},[x[3]||(x[3]=e("option",{value:""},"All",-1)),(l(!0),o(L,null,j(m.options.select_options,_=>(l(),o("option",{key:_.value,value:_.value},$(_.label),9,Ao))),128))],40,Lo)),[[ue,d.value[m.key]]]):m.type==="date"?(l(),o("div",Io,[e("div",Uo,[q(e("input",{type:"date","onUpdate:modelValue":_=>d.value[m.key].from=_,class:"input input-bordered w-full",onChange:t,placeholder:"From"},null,40,Oo),[[oe,d.value[m.key].from]])]),e("div",jo,[q(e("input",{type:"date","onUpdate:modelValue":_=>d.value[m.key].to=_,class:"input input-bordered w-full",onChange:t,placeholder:"To"},null,40,Po),[[oe,d.value[m.key].to]])])])):q((l(),o("input",{key:4,type:"text","onUpdate:modelValue":_=>d.value[m.key]=_,class:"input input-bordered w-full",onInput:t,placeholder:`Filter by ${m.label}`},null,40,Ho)),[[oe,d.value[m.key]]])]))),128))]),e("div",Eo,[(l(!0),o(L,null,j(f.value,(m,_)=>(l(),o("div",{key:_,class:"badge badge-primary gap-2 p-3"},[e("span",Bo,$(U(_))+":",1),e("span",null,$(b(_,m)),1),e("button",{onClick:R=>v(_),class:"hover:text-error"},[u(g(G),{class:"w-3 h-3"})],8,Ro)]))),128))]),e("div",No,[e("button",{onClick:p,class:"btn btn-ghost gap-2",disabled:!F.value},[u(g(Ve),{class:"w-4 h-4"}),x[4]||(x[4]=E(" Reset Filters "))],8,zo),e("button",{onClick:M,class:"btn btn-primary gap-2"},[u(g(tt),{class:"w-4 h-4"}),x[5]||(x[5]=E(" Apply Filters "))])])],2)]))}},Ko={class:"w-full"},Yo={class:"relative flex flex-col bg-base-300 rounded-3xl shadow-lg transition-all duration-300 hover:shadow-xl"},Wo={class:"flex flex-col sm:flex-row items-center justify-between p-6 border-b border-base-content/10"},Xo={class:"mb-4 sm:mb-0"},Qo={class:"text-2xl md:text-3xl font-extrabold text-base-content flex items-center gap-3"},Jo={key:0,class:"text-base-content/70 text-sm mt-1"},Go={class:"flex items-center gap-3"},Zo={class:"btn-group"},er={key:0,class:"absolute inset-0 bg-base-300/50 backdrop-blur-sm flex items-center justify-center z-50 rounded-3xl"},tr={class:"p-6"},sr={class:"bg-base-100 rounded-xl overflow-hidden border border-base-content/10"},ar={key:0,class:"flex flex-col items-center justify-center p-12 text-center"},lr={class:"text-base-content/70 mt-1"},nr={key:1,class:"overflow-x-auto"},or={class:"table table-compact w-full"},rr={class:"bg-base-200/50"},ir=["onClick"],dr={class:"flex items-center gap-2"},cr={key:0,class:"btn btn-ghost btn-xs btn-square opacity-50 hover:opacity-100"},ur={class:"text-right"},vr={class:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200"},fr={key:2,class:"divide-y divide-base-200"},mr={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},pr={class:"text-sm font-medium text-base-content/70"},br={class:"mt-4 flex justify-end gap-2"},hr={class:"mt-6"},gr=ae({__name:"Table",props:{tableTitle:{type:String,default:"Table"},columns:{type:Array,default:()=>[]},model:{type:String,required:!0},endpoint:{type:String,required:!0},endpointDelete:{type:String,required:!0},endpointCreate:{type:String,required:!0},endpointEdit:{type:String,required:!0},permission:{type:String,default:null},custom_edit_route:{type:String,default:null},defaultIdKey:{type:String,default:"id"}},setup(a){const c=a,n=S(!1),y=S([]),r=S({currentPage:1,lastPage:1,perPage:10,total:0,links:[]}),d=S(10),C=S(c.defaultIdKey),s=S(null),i=S(null),f=S("table"),F=P(()=>r.value.total),U=P(()=>i.value||C.value!=="id"||d.value!==10||s.value!==null),b=h=>C.value!==h?Pt:s.value==="asc"?De:Me,t=h=>{C.value===h?s.value=s.value==="asc"?"desc":"asc":(C.value=h,s.value="asc"),p()},v=S({}),p=async(h=c.endpoint)=>{var D,w;try{n.value=!0;const O=await me.post(h,{model:c.model,columns:c.columns,perPage:d.value,search:i.value,sort:C.value,filters:v.value,direction:s.value,permission:c.permission});y.value=O.data.data,r.value={currentPage:O.data.current_page,lastPage:O.data.last_page,perPage:O.data.per_page,total:O.data.total,links:O.data.links}}catch(O){(w=(D=O.response)==null?void 0:D.data)!=null&&w.errors?Object.values(O.response.data.errors).forEach(B=>{Array.isArray(B)&&B.forEach(K=>{Y("error",K)})}):Y("error","Failed to fetch data")}finally{n.value=!1}},M=()=>{d.value=10,C.value="id",s.value=null,i.value=null,p()},k=()=>p(),x=h=>p(h),m=h=>{d.value=h,p()},_=h=>{v.value=h,p()},R=h=>{C.value=h,p()},W=h=>{s.value=h,p()},J=h=>{h&&h.length>2&&(i.value=h,p())},le=h=>{d.value=h.perPage,C.value=h.filterBy,s.value=h.orderBy,i.value=h.search,p()};return p(),(h,D)=>(l(),o("div",Ko,[e("div",Yo,[e("div",Wo,[e("div",Xo,[e("h1",Qo,[u(g(Re),{class:"w-8 h-8 text-primary"}),E(" "+$(c.tableTitle),1)]),F.value?(l(),o("p",Jo," Showing "+$(F.value.toLocaleString())+" items ",1)):V("",!0)]),e("div",Go,[e("div",Zo,[e("button",{onClick:D[0]||(D[0]=w=>f.value="table"),class:T(["btn btn-sm",f.value==="table"?"btn-primary":"btn-ghost"])},[u(g(Re),{class:"w-4 h-4"}),D[2]||(D[2]=e("span",{class:"hidden sm:inline ml-2"},"Table",-1))],2),e("button",{onClick:D[1]||(D[1]=w=>f.value="list"),class:T(["btn btn-sm",f.value==="list"?"btn-primary":"btn-ghost"])},[u(g(Ze),{class:"w-4 h-4"}),D[3]||(D[3]=e("span",{class:"hidden sm:inline ml-2"},"List",-1))],2)]),Le(h.$slots,"custom-actions",{},void 0,!0),Le(h.$slots,"new",{},()=>[u(Sl,{columns:c.columns,endpoint:c.endpointCreate,model:c.model,permission:c.permission,onOnCreate:k},null,8,["columns","endpoint","model","permission"])],!0)])]),u(Rn,{onOnPerPage:m,onOnOrderBy:W,onOnSearch:J,onOnFilter:R,onOnFilterReset:le,columns:c.columns},null,8,["columns"]),u(qo,{columns:c.columns,onOnFilterChange:_},null,8,["columns"]),n.value?(l(),o("div",er,D[4]||(D[4]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"loading loading-spinner loading-lg text-primary"}),e("p",{class:"text-base-content/70"},"Loading data...")],-1)]))):V("",!0),e("div",tr,[e("div",sr,[!y.value.length&&!n.value?(l(),o("div",ar,[u(g(jt),{class:"w-16 h-16 text-base-content/20"}),D[6]||(D[6]=e("h3",{class:"text-lg font-semibold text-base-content mt-4"}," No Records Found ",-1)),e("p",lr,$(i.value?"Try adjusting your search or filters":"No data available"),1),U.value?(l(),o("button",{key:0,onClick:M,class:"btn btn-ghost btn-sm gap-2 mt-4"},[u(g(Ve),{class:"w-4 h-4"}),D[5]||(D[5]=E(" Reset Filters "))])):V("",!0)])):f.value==="table"?(l(),o("div",nr,[e("table",or,[e("thead",rr,[e("tr",null,[(l(!0),o(L,null,j(a.columns,(w,O)=>(l(),o("th",{key:O,onClick:B=>w.sortable&&t(w.key),class:T(["text-base-content",{"cursor-pointer hover:bg-base-200":w.sortable}])},[e("div",dr,[E($(w.label)+" ",1),w.sortable?(l(),o("button",cr,[(l(),z(se(b(w.key)),{class:"w-4 h-4"}))])):V("",!0)])],10,ir))),128)),D[7]||(D[7]=e("th",{class:"text-base-content text-right"},"Actions",-1))])]),e("tbody",null,[(l(!0),o(L,null,j(y.value,(w,O)=>(l(),o("tr",{key:w.id||O,class:"hover:bg-base-200/50 transition-colors duration-200 group"},[u(Qe,{tableData:w,columns:a.columns},null,8,["tableData","columns"]),e("td",ur,[e("div",vr,[a.custom_edit_route?(l(),z(g(Ae),{key:1,href:a.custom_edit_route+w.id,class:"btn btn-primary btn-sm gap-2"},{default:N(()=>[u(g(Ce),{class:"w-4 h-4"}),D[8]||(D[8]=e("span",{class:"hidden sm:inline"},"Edit",-1))]),_:2},1032,["href"])):(l(),z(Xe,{key:0,columns:a.columns,endpoint:a.endpointEdit,model:a.model,modelValue:w,id:w[c.defaultIdKey],permission:a.permission,onOnEdit:k},null,8,["columns","endpoint","model","modelValue","id","permission"])),u(Ye,{id:w[c.defaultIdKey],endpoint:a.endpointDelete,model:a.model,permission:a.permission,onOnDelete:k},null,8,["id","endpoint","model","permission"])])])]))),128))])])])):(l(),o("div",fr,[(l(!0),o(L,null,j(y.value,(w,O)=>(l(),o("div",{key:w.id||O,class:"p-4 hover:bg-base-200/50 transition-colors duration-200"},[e("div",mr,[(l(!0),o(L,null,j(a.columns,(B,K)=>(l(),o("div",{key:K,class:"space-y-1"},[e("div",pr,$(B.label),1),u(Qe,{tableData:{[B.key]:w[B.key]},columns:[B]},null,8,["tableData","columns"])]))),128))]),e("div",br,[a.custom_edit_route?(l(),z(g(Ae),{key:1,href:a.custom_edit_route+w.id,class:"btn btn-primary btn-sm gap-2"},{default:N(()=>[u(g(Ce),{class:"w-4 h-4"}),D[9]||(D[9]=e("span",{class:"hidden sm:inline"},"Edit",-1))]),_:2},1032,["href"])):(l(),z(Xe,{key:0,columns:a.columns,endpoint:a.endpointEdit,model:a.model,modelValue:w,id:w[c.defaultIdKey],permission:a.permission,onOnEdit:k},null,8,["columns","endpoint","model","modelValue","id","permission"])),u(Ye,{id:w[c.defaultIdKey],endpoint:a.endpointDelete,model:a.model,permission:a.permission,onOnDelete:k},null,8,["id","endpoint","model","permission"])])]))),128))]))]),e("div",hr,[y.value.length?(l(),z(Jn,{key:0,onOnPagiation:x,paginationInfo:r.value,endpoint:a.endpoint},null,8,["paginationInfo","endpoint"])):V("",!0)])])])]))}}),Yr=Q(gr,[["__scopeId","data-v-a1dd5ddd"]]);export{Yr as T};
