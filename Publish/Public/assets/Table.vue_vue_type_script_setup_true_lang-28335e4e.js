import{x as I,bO as H,o as a,g as d,d as t,t as $,F as x,z as L,a as k,bC as B,y as S,e as y,u as n,A as T,by as z,v as X,a3 as P,b as W,w as j,l as N,bx as A,i as K,k as Y,m as Z,bP as ee}from"./preset-449c2603.js";import{_ as M}from"./Input.vue_vue_type_script_setup_true_lang-99be28ca.js";import{_ as te}from"./Password-22b2b125.js";import{_ as le}from"./Select.vue_vue_type_script_setup_true_lang-65716c4d.js";import{_ as oe}from"./Image.vue_vue_type_script_setup_true_lang-df5e939a.js";import{_ as R}from"./TextMultipleSelector-3b148bd6.js";import{_ as q}from"./Toggle-85e27461.js";import{Q,V as G,N as J}from"./disclosure-59b71c01.js";const se=["for"],ne=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),ae=[ne],de=["id"],ie={class:"modal text-neutral-content"},re={class:"border border-primary shadow-primary shadow-lg modal-box w-11/12 max-w-5xl"},ce={class:"modal-header"},ue={class:"text-xl font-bold"},pe=["for"],me=t("div",{class:"rounded-lg text-center text-sm md:text-2xl"},[t("p",null,"Are you sure you want to delete this item?")],-1),_e={class:"flex justify-end gap-2 pt-3"},he=["for"],fe=["for"],ye=I({__name:"delete",props:{id:{type:Number,default:0},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onDelete"],setup(f,{emit:b}){const c=H(),i=f,s=b,u=async()=>{L.post(i.endpoint,{model:i.model,id:i.id,permission:i.permission}).then(function(p){c.success(p.data.message),s("onDelete")}).catch(function(p){for(const[h,v]of Object.entries(p.response.data.errors))c.error(v[0])})};return(p,h)=>(a(),d(x,null,[t("label",{for:"my-modal-delete-"+i.id,class:"btn btn-error modal-button"},ae,8,se),t("input",{type:"checkbox",id:"my-modal-delete-"+i.id,class:"modal-toggle"},null,8,de),t("div",ie,[t("div",re,[t("div",ce,[t("h2",ue,"Delete Item #"+$(i.id),1),t("label",{for:"my-modal-delete-"+i.id,class:"btn btn-sm btn-circle absolute right-2 top-2"},"✕",8,pe)]),me,t("div",_e,[t("label",{for:"my-modal-delete-"+i.id,class:"btn btn-primary font-bold text-lg text-white"},"Close!",8,he),t("label",{for:"my-modal-delete-"+i.id,onClick:u,class:"btn btn-secondary font-bold text-lg text-white"},"Delete",8,fe)])])])],64))}}),be=f=>{const b=f.split("/");return new Date(b[2]+"/"+b[1]+"/"+b[0]).toISOString().split("T")[0]},ve=f=>{const b=f.split("/");return new Date(b[2]+"/"+b[1]+"/"+b[0]).toISOString().substr(0,16)},ge=f=>f?f.toString():"",we={key:0},ke={key:1},xe={key:2},$e={key:3},Ve={key:4},Se={key:5},Ue={key:6},Ce={key:7},je={key:8},De={key:9},Oe={key:10},Fe={key:11},Me={key:12},Be={class:"form-control mt-1"},Te={class:"label"},Pe={class:"label-text"},Ke=["onKeyup","onUpdate:modelValue"],Ee={class:"flex justify-center bg-base-100 rounded mt-5"},He=["innerHTML"],Le={key:13},E={__name:"formbuilder",props:{columns:{type:Array,default:()=>[]},modelValue:{type:Object,default:()=>[]},editMode:{type:String,default:"false"}},emits:["onFormUpdate"],setup(f,{emit:b}){const c=f,i=b;let s=k([]);(()=>{s.value=[];for(const[v,l]of Object.entries(c.columns))if(c.editMode=="false"){if(l.canCreate){let e="";l.type=="Toggle"&&(e=!1),s.value.push({key:l.key,label:l.label,type:l.type,nullable:l==null?void 0:l.nullable,unique:l==null?void 0:l.unique,endpoint:l==null?void 0:l.endpoint,displayKey:l==null?void 0:l.displayKey,columns:l==null?void 0:l.columns,model:l==null?void 0:l.model,singleSearch:l==null?void 0:l.singleSearch,relation:l==null?void 0:l.relation,value:e,select_options:l==null?void 0:l.select_options})}}else if(l.canEdit){let e=null;switch(l.type){case"date":e=be(c.modelValue[l.key]);break;case"timestamp":e=ve(c.modelValue[l.key]);break;case"media":e=c.modelValue[l.key];break;case"model_search":e=c.modelValue[l.key];break;case"pivot_model":e=c.modelValue[l.key];break;case"boolean":e=c.modelValue[l.key];break;default:e=ge(c.modelValue[l.key]);break}s.value.push({key:l.key,label:l.label,type:l.type,nullable:l==null?void 0:l.nullable,displayKey:l==null?void 0:l.displayKey,unique:l==null?void 0:l.unique,value:e,endpoint:l==null?void 0:l.endpoint,columns:l==null?void 0:l.columns,model:l==null?void 0:l.model,singleSearch:l==null?void 0:l.singleSearch,relation:l==null?void 0:l.relation,select_options:l==null?void 0:l.select_options})}c.editMode=="true"&&i("onFormUpdate",s.value)})();let p=k(null);B(()=>s.value,()=>{clearTimeout(p.value),p.value=setTimeout(function(){i("onFormUpdate",s.value)},500)},{deep:!0});const h=async(v,l,e)=>{if(e=="name"||e=="title"){const r=s.value.findIndex(o=>o.key=="slug");s.value[r]&&(s.value[r].value=v.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))}};return(v,l)=>(a(!0),d(x,null,S(n(s),(e,r)=>(a(),d("div",{key:r},[e.type=="text"?(a(),d("div",we,[y(n(M),{type:"text",modelValue:n(s)[r].value,"onUpdate:modelValue":o=>n(s)[r].value=o,label:e.label,onKeyup:o=>h(o.target.value,e.type,e.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):e.type=="password"?(a(),d("div",ke,[y(n(te),{modelValue:n(s)[r].value,"onUpdate:modelValue":o=>n(s)[r].value=o,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="email"?(a(),d("div",xe,[y(n(M),{type:"email",modelValue:n(s)[r].value,"onUpdate:modelValue":o=>n(s)[r].value=o,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="date"?(a(),d("div",$e,[y(n(M),{type:"date",modelValue:n(s)[r].value,"onUpdate:modelValue":o=>n(s)[r].value=o,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="timestamp"?(a(),d("div",Ve,[y(n(M),{type:"datetime-local",modelValue:n(s)[r].value,"onUpdate:modelValue":o=>n(s)[r].value=o,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="slug"?(a(),d("div",Se,[y(n(M),{type:"text",modelValue:n(s)[r].value,"onUpdate:modelValue":o=>n(s)[r].value=o,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="media"?(a(),d("div",Ue,[y(n(oe),{label:"image",placeholder:"search",modelValue:n(s)[r].value,"onUpdate:modelValue":o=>n(s)[r].value=o,loadData:n(s)[r].value,endpoint:e.endpoint},null,8,["modelValue","onUpdate:modelValue","loadData","endpoint"])])):e.type=="number"?(a(),d("div",Ce,[y(n(M),{type:"number",modelValue:n(s)[r].value,"onUpdate:modelValue":o=>n(s)[r].value=o,label:e.label,onKeyup:o=>h(o.target.value,e.type,e.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):e.type=="model_search"?(a(),d("div",je,[y(n(R),{label:e.label,placeholder:"search",model:e.model,columns:e.columns,singleMode:e.singleSearch,modelValue:n(s)[r].value,"onUpdate:modelValue":o=>n(s)[r].value=o,loadData:n(s)[r].value,endpoint:e.endpoint,displayKey:e.displayKey},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey"])])):e.type=="pivot_model"?(a(),d("div",De,[y(n(R),{label:e.label,placeholder:"search",model:e.model,columns:e.columns,singleMode:e.singleSearch,modelValue:n(s)[r].value,"onUpdate:modelValue":o=>n(s)[r].value=o,loadData:n(s)[r].value,endpoint:e.endpoint,displayKey:e.displayKey},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey"])])):e.type=="Toggle"?(a(),d("div",Oe,[y(n(q),{modelValue:n(s)[r].value,"onUpdate:modelValue":o=>n(s)[r].value=o,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="boolean"?(a(),d("div",Fe,[y(n(q),{modelValue:n(s)[r].value,"onUpdate:modelValue":o=>n(s)[r].value=o,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="icon"?(a(),d("div",Me,[t("label",Be,[t("div",Te,[t("span",Pe,$(e.label),1)]),T(t("textarea",{class:"textarea textarea-primary h-24",onKeyup:o=>h(o.target.value,e.type,e.key),"onUpdate:modelValue":o=>n(s)[r].value=o,placeholder:"Bio"},null,40,Ke),[[z,n(s)[r].value]])]),t("div",Ee,[t("div",{class:"flex p-10 w-52",innerHTML:n(s)[r].value},null,8,He)])])):e.type=="select"?(a(),d("div",Le,[y(n(le),{modelValue:n(s)[r].value,"onUpdate:modelValue":o=>n(s)[r].value=o,label:e.label,options:e.select_options},null,8,["modelValue","onUpdate:modelValue","label","options"])])):X("",!0)]))),128))}},Ae=t("label",{for:"my-modal-5",class:"btn btn-primary modal-button"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})])],-1),Ie=t("input",{type:"checkbox",id:"my-modal-5",class:"modal-toggle"},null,-1),We={class:"modal text-left"},Ne={key:0,class:"modal-box w-11/12 max-w-5xl border border-primary shadow-primary shadow-2xl"},Re=t("div",{class:"modal-header"},[t("h3",{class:"font-bold text-lg"},"New"),t("label",{for:"my-modal-5",class:"btn btn-sm btn-circle absolute right-2 top-2"},"✕")],-1),qe={class:"w-full mt-2"},ze={class:"w-full rounded-lg p-2"},Qe={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Ge=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"},null,-1),Je=[Ge],Xe={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Ye=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"},null,-1),Ze=[Ye],et={class:"w-full bg-secondary rounded-lg text-neutral-content p-6"},tt=t("label",{for:"my-modal-5",class:"btn btn-secondary font-bold text-lg text-white"},"Close",-1),lt={key:1,class:"modal-box w-11/12 max-w-5xl"},ot=N('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title">The create method has been disable</h2><p>Try to contact the administrator </p></div></div>',1),st=[ot],nt={__name:"create",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onCreate"],setup(f,{emit:b}){const c=H(),i=f,s=P(()=>i.columns.filter(e=>e.canCreate).length>0),u=P(()=>{const e=i.columns.filter(w=>w.section),r=i.columns.filter(w=>!w.section),o=e.map(w=>w.section),_=[...new Set(o)],m=[];return _.forEach(w=>{const D=e.filter(O=>O.section==w);m.push({section:w,fields:D})}),{sections:_,fields:r,sectionsWithFields:m}});let p=k(i.columns.filter(e=>e.canCreate));const h=async e=>{if(p.value.length>0)for(const[r,o]of Object.entries(e))for(const[_,m]of Object.entries(p.value))o.key==m.key&&(p.value[_]=o);else p.value=e},v=b,l=async()=>{L.post(i.endpoint,{model:i.model,data:p.value,permission:i.permission}).then(function(e){c.success(e.data.message),v("onCreate")}).catch(function(e){for(const[r,o]of Object.entries(e.response.data.errors))c.error(o[0])})};return(e,r)=>(a(),d(x,null,[Ae,Ie,t("div",We,[s.value?(a(),d("div",Ne,[Re,t("div",qe,[t("div",ze,[(a(!0),d(x,null,S(u.value.sectionsWithFields,(o,_)=>(a(),W(n(J),{as:"div",class:"mt-2",key:_},{default:j(({open:m})=>[y(n(Q),{class:"btn btn-primary w-full"},{default:j(()=>[t("span",null,$(o.section),1),m?(a(),d("svg",Qe,Je)):(a(),d("svg",Xe,Ze))]),_:2},1024),y(n(G),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:j(()=>[y(E,{columns:o.fields,onOnFormUpdate:h},null,8,["columns"])]),_:2},1024)]),_:2},1024))),128))])]),t("div",et,[y(E,{columns:u.value.fields,onOnFormUpdate:h},null,8,["columns"])]),t("div",{class:"flex justify-end gap-2 pt-3"},[tt,t("label",{for:"my-modal-5",class:"btn btn-primary font-bold text-lg text-white",onClick:l},"Create")])])):(a(),d("div",lt,st))])],64))}},at=["for"],dt=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),it=[dt],rt=["id"],ct={class:"modal"},ut={key:0,class:"modal-box w-11/12 max-w-5xl border border-primary shadow-lg shadow-primary text-neutral-content"},pt={class:"modal-header"},mt=t("h3",{class:"font-bold text-lg"},"Edit",-1),_t=["for"],ht={class:"w-full mt-2"},ft={class:"w-full rounded-lg p-2"},yt={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},bt=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"},null,-1),vt=[bt],gt={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},wt=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"},null,-1),kt=[wt],xt={class:"w-full bg-secondary rounded-lg p-6 text-neutral-content"},$t={class:"flex justify-end gap-4 mt-5"},Vt=["for"],St=["for"],Ut={key:1,class:"modal-box w-11/12 max-w-5xl"},Ct=N('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title">The edit method has been disable</h2><p>Try to contact the administrator </p></div></div>',1),jt=[Ct],Dt=I({__name:"edit",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},id:{type:Number,default:0},modelValue:{type:Object,default:()=>[]},permission:{type:String,default:null}},emits:["onEdit"],setup(f,{emit:b}){const c=H(),i=f,s=P(()=>i.columns.filter(e=>e.canEdit).length>0),u=P(()=>{const e=i.columns.filter(w=>w.section),r=i.columns.filter(w=>!w.section),o=e.map(w=>w.section),_=[...new Set(o)],m=[];return _.forEach(w=>{const D=e.filter(O=>O.section==w);m.push({section:w,fields:D})}),{sections:_,fields:r,sectionsWithFields:m}});let p=k(i.columns.filter(e=>e.canEdit));const h=async e=>{if(p.value.length>0)for(const[r,o]of Object.entries(e))for(const[_,m]of Object.entries(p.value))o.key==m.key&&(p.value[_]=o);else p.value=e},v=b,l=async()=>{L.post(i.endpoint,{model:i.model,id:i.id,data:p.value,permission:i.permission}).then(function(e){c.success(e.data.message),v("onEdit")}).catch(function(e){for(const[r,o]of Object.entries(e.response.data.errors))c.error(o[0])})};return(e,r)=>(a(),d(x,null,[t("label",{for:"edit-data-"+i.id,class:"btn btn-info modal-button"},it,8,at),t("input",{type:"checkbox",id:"edit-data-"+i.id,class:"modal-toggle"},null,8,rt),t("div",ct,[s.value?(a(),d("div",ut,[t("div",pt,[mt,t("label",{for:"edit-data-"+i.id,class:"btn btn-sm btn-circle absolute right-2 top-2"},"✕",8,_t)]),t("div",ht,[t("div",ft,[(a(!0),d(x,null,S(u.value.sectionsWithFields,(o,_)=>(a(),W(n(J),{as:"div",class:"mt-2",key:_,defaultOpen:!0},{default:j(({open:m})=>[y(n(Q),{class:"btn btn-primary w-full"},{default:j(()=>[t("span",null,$(o.section),1),m?(a(),d("svg",yt,vt)):(a(),d("svg",gt,kt))]),_:2},1024),y(n(G),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:j(()=>[y(E,{columns:o.fields,onOnFormUpdate:h,editMode:"true",modelValue:i.modelValue},null,8,["columns","modelValue"])]),_:2},1024)]),_:2},1024))),128))])]),t("div",xt,[y(E,{columns:u.value.fields,onOnFormUpdate:h,editMode:"true",modelValue:i.modelValue},null,8,["columns","modelValue"])]),t("div",$t,[t("label",{for:"edit-data-"+i.id,class:"btn btn-primary font-bold text-lg text-white"},"Close",8,Vt),t("label",{for:"edit-data-"+i.id,class:"btn btn-secondary font-bold text-lg text-white",onClick:l},"Submit",8,St)])])):(a(),d("div",Ut,jt))])],64))}}),Ot={class:"flex flex-col gap-3"},Ft={class:"flex justify-end flex-col md:flex-row gap-3 p-3"},Mt={class:"relative"},Bt=N('<option disabled selected>Per page</option><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option>',5),Tt=[Bt],Pt={class:"relative"},Kt=t("option",{disabled:"",selected:""},"Row",-1),Et=["value"],Ht={class:"relative"},Lt=t("option",{disabled:"",selected:""},"Order by",-1),At=t("option",{value:"asc"},"Asc",-1),It=t("option",{value:"desc"},"Desc",-1),Wt=[Lt,At,It],Nt={class:"join"},Rt=t("button",{class:"btn btn-primary join-item rounded-r-full"},"Search",-1),qt={__name:"filter",props:{columns:{type:Array,default:()=>[]}},emits:["onPerPage","onOrderBy","onSearch","onFilter","onFilterReset"],setup(f,{emit:b}){const c=f,i=b;let s=k(10),u=k("id"),p=k("asc"),h=k(""),v=k([]);(async()=>{for(const[o,_]of Object.entries(c.columns))_.sortable&&(o==0&&(u.value=_.key),v.value.push({label:_.label,value:_.key}))})(),B(()=>s.value,o=>{i("onPerPage",o)}),B(()=>p.value,o=>{i("onOrderBy",o)}),B(()=>u.value,o=>{i("onFilter",o)});let e=k(null);B(()=>h.value,o=>{clearTimeout(e.value),e.value=setTimeout(function(){i("onSearch",o)},500)});const r=async()=>{s.value=10,u.value="id",p.value="asc",h.value=null,i("onFilterReset",[{perPage:s.value,filterBy:u.value,orderBy:p.value,search:h.value}])};return(o,_)=>(a(),d("div",Ot,[t("div",Ft,[t("div",Mt,[T(t("select",{class:"select select-primary w-full","onUpdate:modelValue":_[0]||(_[0]=m=>K(s)?s.value=m:s=m)},Tt,512),[[A,n(s)]])]),t("div",Pt,[T(t("select",{class:"select select-primary w-full","onUpdate:modelValue":_[1]||(_[1]=m=>K(u)?u.value=m:u=m),onChange:_[2]||(_[2]=(...m)=>o.filterChange&&o.filterChange(...m))},[Kt,(a(!0),d(x,null,S(n(v),(m,w)=>(a(),d("option",{key:w,value:m.value},$(m.label),9,Et))),128))],544),[[A,n(u)]])]),t("div",Ht,[T(t("select",{class:"select select-primary w-full","onUpdate:modelValue":_[3]||(_[3]=m=>K(p)?p.value=m:p=m)},Wt,512),[[A,n(p)]])]),t("div",Nt,[T(t("input",{class:"input input-bordered join-item","onUpdate:modelValue":_[4]||(_[4]=m=>K(h)?h.value=m:h=m),placeholder:"Email"},null,512),[[z,n(h)]]),Rt,t("button",{class:"btn btn-secondary join-item rounded-r-full",onClick:r},"Reset")])])]))}},zt={class:"px-5 py-5 bg-base-200 border-t flex flex-col xs:flex-row items-center xs:justify-between"},Qt={class:"xs:text-sm text-primary font-bold text-sm md:text-lg"},Gt={class:"inline-flex mt-2 xs:mt-0"},Jt={class:"btn-group"},Xt=["onClick"],Yt=["innerHTML"],Zt={__name:"pagination",props:{paginationInfo:{type:Object,default:()=>[]}},emits:["onPagiation"],setup(f,{emit:b}){const c=b,i=async u=>{c("onPagiation",u)},s=f;return(u,p)=>(a(),d("div",zt,[t("span",Qt," Showing "+$(s.paginationInfo.currentPage)+" to "+$(s.paginationInfo.perPage)+" of "+$(s.paginationInfo.total)+" Entries ",1),t("div",Gt,[t("div",Jt,[(a(!0),d(x,null,S(s.paginationInfo.links,(h,v)=>(a(),d("button",{class:Y(["btn btn-md",h.active?"btn-active":""]),key:v,onClick:l=>i(h.url)},[t("span",{innerHTML:h.label},null,8,Yt)],10,Xt))),128))])])]))}},el={key:0},tl={class:"carousel rounded-box w-96"},ll={class:"carousel-item w-1/2"},ol=["src"],sl={key:1},nl=["innerHTML"],al={key:1},dl={key:0,class:"badge badge-success mt-3"},il={key:1,class:"badge badge-error mt-3"},rl={key:2},cl={class:"flex flex-col"},ul=["innerHTML"],pl={__name:"tableDataDisplay",props:{tableData:{type:Object,default:()=>[]},columns:{type:Array,default:()=>[]}},setup(f){const b=f,c=P(()=>{let i=[];for(const[s,u]of Object.entries(b.columns))i.push({label:u.label,type:u.type,value:b.tableData[u.key]});return i});return(i,s)=>(a(!0),d(x,null,S(c.value,(u,p)=>(a(),d("th",{key:p},[u.type==="media"?(a(),d("div",el,[t("div",tl,[(a(!0),d(x,null,S(u.value,(h,v)=>(a(),d("div",ll,[t("img",{src:h.url.default,class:"w-full"},null,8,ol)]))),256))])])):(a(),d("div",sl,[u.type=="icon"?(a(),d("div",{key:0,innerHTML:u.value,class:"bg-base-100 rounded-lg flex justify-center"},null,8,nl)):u.type==="toogle"?(a(),d("div",al,[u.value==1?(a(),d("div",dl,"Enable")):(a(),d("div",il,"Disable"))])):u.type==="model_search"?(a(),d("div",rl,[t("div",cl,[(a(!0),d(x,null,S(u.value,(h,v)=>(a(),d("div",{class:"badge badge-primary mt-3",key:v},$(v)+" > "+$(h),1))),128))])])):(a(),d("div",{key:3,innerHTML:u.value},null,8,ul))]))]))),128))}},ml={class:"w-full"},_l={class:"relative flex flex-col min-w-0 break-words bg-base-300 w-full mb-6 shadow-lg rounded"},hl={class:"flex flex-wrap items-center mt-5"},fl={class:"relative w-full px-4 max-w-full flex-grow flex-1"},yl={class:"text-3xl font-extrabold text-base-content"},bl={class:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"},vl={class:"overflow-x-auto p-6"},gl={class:"overflow-x-auto bg-base-100"},wl={class:"table table-compact w-full"},kl={class:"font-bold bg-primary text-neutral"},xl=t("th",null,"Action",-1),$l={class:"flex justify-start overflow-x-hidden gap-2"},Vl={key:1},Sl=["for"],Ul=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),Cl=[Ul],jl={class:"font-bold bg-primary text-neutral"},Dl=t("th",null,"Action",-1),Hl=I({__name:"Table",props:{tableTitle:{type:String,default:"Table name"},columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},endpointDelete:{type:String,default:""},endpointCreate:{type:String,default:""},endpointEdit:{type:String,default:""},permission:{type:String,default:null},custom_edit_route:{type:String,default:null}},setup(f){const b=H(),c=f,i=async g=>{U(g)};let s=k(10);const u=async g=>{s.value=g,U()};let p=k("id");const h=async g=>{p.value=g,U()};let v=k(null);const l=async g=>{v.value=g,U()};let e=k(null);const r=async g=>{g&&g.length>3&&(e.value=g,U())},o=async()=>{U()},_=async()=>{U()},m=async()=>{U()},w=async g=>{s.value=g.perPage,p.value=g.filterBy,v.value=g.orderBy,e.value=g.search,U()};let D=k([]),O=k([]);const U=async(g=null)=>{g===null&&(g=c.endpoint),L.post(g,{model:c.model,columns:c.columns,perPage:s.value,search:e.value,sort:p.value,direction:v.value,permission:c.permission}).then(function(C){D.value=C.data.data,O.value={currentPage:C.data.current_page,lastPage:C.data.last_page,perPage:C.data.per_page,total:C.data.total,links:C.data.links}}).catch(function(C){for(const[V,F]of Object.entries(C.response.data.errors))b.error(F[0])})};return U(),(g,C)=>(a(),d("div",ml,[t("div",_l,[t("div",hl,[t("div",fl,[t("h1",yl,$(c.tableTitle),1)]),t("div",bl,[Z(g.$slots,"new",{},()=>[y(nt,{columns:c.columns,endpoint:c.endpointCreate,model:c.model,permission:c.permission,onOnCreate:_},null,8,["columns","endpoint","model","permission"])])])]),y(qt,{onOnPerPage:u,onOnOrderBy:l,onOnSearch:r,onOnFilter:h,onOnFilterReset:w,columns:c.columns},null,8,["columns"]),t("div",vl,[t("div",gl,[t("table",wl,[t("thead",kl,[t("tr",null,[(a(!0),d(x,null,S(f.columns,(V,F)=>(a(),d("th",{key:F},$(V.label),1))),128)),xl])]),t("tbody",null,[(a(!0),d(x,null,S(n(D),(V,F)=>(a(),d("tr",{key:V,class:"font-thin bg-base-300 hover:bg-secondary hover:text-neutral hover:font-bold"},[y(pl,{tableData:V,columns:f.columns},null,8,["tableData","columns"]),t("th",null,[t("div",$l,[f.custom_edit_route?(a(),d("div",Vl,[y(n(ee),{href:f.custom_edit_route+V.id},{default:j(()=>[t("label",{for:"edit-data-"+V.id,class:"btn btn-info modal-button"},Cl,8,Sl)]),_:2},1032,["href"])])):(a(),W(Dt,{key:0,columns:c.columns,endpoint:c.endpointEdit,model:c.model,modelValue:V,id:V.id,permission:c.permission,onOnEdit:m},null,8,["columns","endpoint","model","modelValue","id","permission"])),y(ye,{id:V.id,endpoint:c.endpointDelete,model:c.model,permission:c.permission,onOnDelete:o},null,8,["id","endpoint","model","permission"])])])]))),128))]),t("tfoot",jl,[t("tr",null,[(a(!0),d(x,null,S(f.columns,(V,F)=>(a(),d("th",{key:F},$(V.label),1))),128)),Dl])])])]),y(Zt,{onOnPagiation:i,paginationInfo:n(O)},null,8,["paginationInfo"])])])]))}});export{Hl as _};
