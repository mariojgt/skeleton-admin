import{q as I,a as p,L as D,g as r,o as n,e,p as g,t as v,y as j,z as $,u as d,i as B,F as b,A as w,G as S,B as L,k as A,l as V}from"./index-TEoLjiFV.js";import{Q as C}from"./Input.vue_vue_type_style_index_0_scoped_a29b7091_lang-CyeYYPsD.js";const K={class:"form-control"},z={class:"label"},H={class:"text-lg font-bold text-base-content"},N={class:"relative mb-4"},O=["name","id","placeholder"],T={key:0,class:"alert alert-error mb-4"},E={key:1,class:"card bg-base-100 shadow-xl mb-6"},F={class:"card-body p-6"},R={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},U=["onClick"],q={class:"relative pt-4 px-4"},G=["src","alt"],Q={class:"card-body p-4 text-center"},J={class:"font-bold text-lg mb-2 truncate"},P={key:2,class:"card bg-base-100 shadow-xl"},W={class:"card-body p-6"},X={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},Y={class:"relative pt-4 px-4"},Z=["src","alt"],ee={class:"card-body p-4 text-center"},te={class:"font-bold text-lg mb-2 truncate"},se=["onClick"],fe=I({__name:"Image",props:{label:{},name:{},id:{},placeholder:{},modelValue:{},endpoint:{},loadData:{}},emits:["update:modelValue"],setup(f,{emit:x}){const i=f;let c=p(""),u=p({data:[]}),a=p(i.modelValue||[]),o=p(null);D(()=>{a.value=i.loadData||[]});const m=x,k=()=>{S.post(i.endpoint,{search:c.value}).then(l=>{u.value=l.data}).catch(l=>{o.value=l.message})},y=l=>{a.value.find(t=>t.id===l.id)||(a.value.push(l),m("update:modelValue",a.value)),u.value={data:[]}},_=l=>{a.value.splice(l,1),m("update:modelValue",a.value)};return(l,t)=>(n(),r("div",K,[e("label",z,[e("span",H,v(i.label),1)]),e("div",N,[t[1]||(t[1]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),j(e("input",{class:"input input-primary input-bordered w-full pl-10",name:i.name,id:i.id,placeholder:i.placeholder,"onUpdate:modelValue":t[0]||(t[0]=s=>B(c)?c.value=s:c=s),autocomplete:"off",onKeyup:k},null,40,O),[[$,d(c)]])]),d(o)?(n(),r("div",T,[t[2]||(t[2]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,v(d(o)),1)])):g("",!0),d(u).data[0]?(n(),r("div",E,[t[5]||(t[5]=e("div",{class:"card-header px-6 py-4 bg-primary text-primary-content flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("strong",{class:"text-xl"},"Available Items")],-1)),e("div",F,[e("div",R,[(n(!0),r(b,null,w(d(u).data,(s,h)=>(n(),r("div",{key:s.id,class:"card bg-base-200 hover:bg-base-300 transition-all duration-300 cursor-pointer group",onClick:M=>y(s)},[e("figure",q,[e("img",{src:s.url.default,alt:s.name,class:"h-60 w-full object-cover rounded-xl"},null,8,G),t[3]||(t[3]=e("div",{class:"absolute inset-0 bg-success/0 group-hover:bg-success/10 transition-all duration-300 rounded-xl"},null,-1))]),e("div",Q,[e("h3",J,v(s.name),1),t[4]||(t[4]=e("button",{class:"btn btn-success btn-sm w-full gap-2 group-hover:btn-active"},[e("span",null,"Select"),e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1))])],8,U))),128))])])])):g("",!0),d(a).length>0?(n(),r("div",P,[t[8]||(t[8]=e("div",{class:"card-header px-6 py-4 bg-secondary text-secondary-content flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),e("strong",{class:"text-xl"},"Selected Items")],-1)),e("div",W,[e("div",X,[(n(!0),r(b,null,w(d(a),(s,h)=>(n(),r("div",{key:s.id,class:"card bg-base-200 group"},[e("figure",Y,[e("img",{src:s.url.default,alt:s.name,class:"h-60 w-full object-cover rounded-xl"},null,8,Z),t[6]||(t[6]=e("div",{class:"absolute inset-0 bg-error/0 group-hover:bg-error/10 transition-all duration-300 rounded-xl"},null,-1))]),e("div",ee,[e("h3",te,v(s.name),1),e("button",{onClick:M=>_(h),class:"btn btn-error btn-sm w-full gap-2 group-hover:btn-active"},t[7]||(t[7]=[e("span",null,"Remove",-1),e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,se)])]))),128))])])])):g("",!0)]))}}),le={class:"form-control"},oe={class:"label"},ae={class:"block text-lg font-bold mb-2"},re={class:"relative"},ne=["name","id","placeholder"],de={key:0,class:"invalid-feedback text-primary mt-1 block",role:"alert"},ie={key:1,class:"mt-3 rounded-lg overflow-hidden border border-base-300 bg-base-100 shadow-lg"},ce={class:"p-2 space-y-2"},ue=["onClick"],pe={class:"text-xl font-bold text-black"},ve={key:2,class:"mt-3 rounded-lg overflow-hidden border border-base-300 bg-base-100 shadow-lg"},ge={class:"p-2 space-y-2"},me={class:"text-xl font-bold"},he=["onClick"],xe={__name:"TextMultipleSelector",props:{label:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:String,default:""},model:{type:String,default:""},columns:{type:Object,default:null},endpoint:{type:String,default:""},loadData:{type:Object,default:null},singleMode:{type:Boolean,default:!1},displayKey:{type:String,default:"name"}},emits:["update:modelValue"],setup(f,{emit:x}){let i=p(null),c=p(""),u=p([]),a=p([]);L(()=>{var l;return(l=C().props)==null?void 0:l.errors},l=>{C().props.errors[o.name]&&(i.value=C().props.errors[o.name])});const o=f,m=x,k=async()=>{S.post(o.endpoint,{search:c.value,model:o.model,columns:o.columns}).then(function(l){u.value=l.data}).catch(function(l){for(const[t,s]of Object.entries(l.response.data.errors))message.error(s[0])})},y=l=>{o.singleMode&&(a.value=[]),Array.isArray(a.value)||(a.value=[]),a.value.findIndex(t=>t.id===l.id)===-1&&a.value.push({id:l.id,[o.displayKey]:l[o.displayKey]}),u.value=[],m("update:modelValue",a.value)},_=l=>{a.value.splice(l,1),m("update:modelValue",a.value)};return A(()=>{o.loadData&&(o.singleMode?a.value=[o.loadData]:a.value=o.loadData)}),(l,t)=>(n(),r("div",le,[e("label",oe,[e("span",ae,v(o.label),1)]),e("div",re,[j(e("input",{class:"input input-primary input-bordered w-full pl-10",name:o.name,id:o.id,placeholder:o.placeholder,autocomplete:"off","onUpdate:modelValue":t[0]||(t[0]=s=>B(c)?c.value=s:c=s),onKeyup:k},null,40,ne),[[$,d(c)]]),t[1]||(t[1]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-primary",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1))]),d(i)?(n(),r("span",de,[e("strong",null,v(d(i)),1)])):g("",!0),d(u).data?(n(),r("div",ie,[t[3]||(t[3]=e("div",{class:"px-4 py-3 text-xl font-bold bg-primary text-white"},[e("strong",{class:"flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})]),V(" Available Items ")])],-1)),e("div",ce,[(n(!0),r(b,null,w(d(u).data,(s,h)=>(n(),r("div",{key:s.id,onClick:M=>y(s),class:"flex justify-between items-center p-3 bg-white rounded-lg border border-base-200 hover:bg-secondary hover:border-secondary hover:text-white transition-all duration-200 cursor-pointer"},[e("p",pe,v(s[o.displayKey]),1),t[2]||(t[2]=e("div",{class:"btn btn-circle btn-success btn-sm"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])],-1))],8,ue))),128))])])):g("",!0),d(a).length>0?(n(),r("div",ve,[t[5]||(t[5]=e("div",{class:"px-4 py-3 text-xl font-bold bg-secondary text-white"},[e("strong",{class:"flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),V(" Selected Items ")])],-1)),e("div",ge,[(n(!0),r(b,null,w(d(a),(s,h)=>(n(),r("div",{key:s.id,class:"flex justify-between items-center p-3 bg-white rounded-lg border border-base-200 hover:bg-base-200 transition-all duration-200"},[e("p",me,v(s[o.displayKey]),1),e("div",{class:"btn btn-circle btn-error btn-sm",onClick:M=>_(h)},t[4]||(t[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,he)]))),128))])])):g("",!0)]))}};export{xe as _,fe as a};
