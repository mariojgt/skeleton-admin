import{bw as Ge,bx as Y,by as ue,bz as Qe,bA as Je,bB as $e,bC as ke,bD as de,bE as Ze,bF as He,v as Z,a as T,x as B,C as X,m as ye,D as Be,o as a,g as o,d as e,k as L,t as k,b as N,I as ee,u as p,F as P,j as et,A as H,f as ae,s as S,e as v,w as q,ad as J,E as le,bG as tt,bH as st,y as te,z as xe,q as R,H as Ce,ab as fe,J as me,ac as at,ai as ce,ak as lt,bI as ot,bJ as nt,l as De,P as rt}from"./preset-LGWNcOFh.js";import{T as Me}from"./trash-2-TY0kUnV8.js";import{X as Q}from"./x-_zhaXsge.js";import{T as _e}from"./triangle-alert-obg3SvLG.js";/* empty css                                                              */import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{I as oe}from"./Input-B4HrAv3f.js";import{Q as Ee,m as Se,T as it}from"./Input.vue_vue_type_style_index_0_scoped_245929fe_lang-C1MFSttp.js";import{_ as ct}from"./Password-DVmfNiKK.js";import{_ as dt}from"./Select.vue_vue_type_script_setup_true_lang-CUeyddkU.js";import{_ as ut}from"./Image.vue_vue_type_script_setup_true_lang-Dm57ZQ0-.js";import{_ as Ve}from"./TextMultipleSelector-ZOQ9RNnI.js";import{_ as Te}from"./Toggle-DFZo-k8v.js";import{_ as vt}from"./Chips.vue_vue_type_script_setup_true_lang-DHQgUdFY.js";import{p as ne}from"./purify.es-CocPUCx9.js";import{F as ft,H as mt,A as ge}from"./hash-CeDtpGja.js";import{b as pt,a as ze,I as Re}from"./trash-B8Q2P12_.js";import{B as be,I as Fe,U as bt,S as gt,L as Le,Q as Ie,a as ht,b as yt,A as xt,c as _t,d as wt,e as $t,C as kt,f as Ct,F as Dt,g as Mt,h as St,P as qe,N as Vt,i as Tt,j as Ft,k as Lt,l as he,R as Ne,m as It,M as Pt,n as jt,o as At,p as Ut,T as Ot,q as Ht,r as Bt,D as Et,s as zt}from"./underline-BapfpDRT.js";import{C as Pe}from"./code-DkSyjg8g.js";import{E as Rt}from"./eye-C9nWxUmz.js";import{C as we}from"./calendar-CA6Dwcg7.js";import{C as re}from"./chevron-down-cA4MmQau.js";import{C as qt}from"./chevron-right-MGfboE-p.js";import{S as Ye}from"./save-BZohOTAh.js";import{C as ie}from"./check-BKuJO_VS.js";import{S as je}from"./search-B6j93Bhj.js";import{D as Ae}from"./download-CPOOcl3h.js";import{Y as Nt,h as Ue,G as Yt,S as Wt}from"./transition-BdFjC3YM.js";function We(i){return Ge(i,Date.now())}function Kt(i,C){const n=Y(i),y=Y(C),l=n.getFullYear()-y.getFullYear(),m=n.getMonth()-y.getMonth();return l*12+m}function Xt(i,C){return+Y(i)-+Y(C)}function Gt(i){const C=Y(i);return C.setHours(23,59,59,999),C}function Ke(i){const C=Y(i),n=C.getMonth();return C.setFullYear(C.getFullYear(),n+1,0),C.setHours(23,59,59,999),C}function Qt(i){const C=Y(i);return+Gt(C)==+Ke(C)}function Jt(i,C){const n=Y(i),y=Y(C),l=ue(n,y),m=Math.abs(Kt(n,y));let g;if(m<1)g=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-l*m);let t=ue(n,y)===-l;Qt(Y(i))&&m===1&&ue(i,y)===1&&(t=!1),g=l*(m-Number(t))}return g===0?0:g}function Zt(i,C,n){const y=Xt(i,C)/1e3;return Qe(n==null?void 0:n.roundingMethod)(y)}function es(i,C){const n=Y(i.start),y=Y(i.end);let l=+n>+y;const m=l?+n:+y,g=l?y:n;g.setHours(0,0,0,0);let t=1;const d=[];for(;+g<=m;)d.push(Y(g)),g.setDate(g.getDate()+t),g.setHours(0,0,0,0);return l?d.reverse():d}function ts(i,C,n){const y=Ze(),l=(n==null?void 0:n.locale)??y.locale??Je,m=2520,g=ue(i,C);if(isNaN(g))throw new RangeError("Invalid time value");const t=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:g});let d,r;g>0?(d=Y(C),r=Y(i)):(d=Y(i),r=Y(C));const V=Zt(r,d),A=($e(r)-$e(d))/1e3,$=Math.round((V-A)/60);let b;if($<2)return n!=null&&n.includeSeconds?V<5?l.formatDistance("lessThanXSeconds",5,t):V<10?l.formatDistance("lessThanXSeconds",10,t):V<20?l.formatDistance("lessThanXSeconds",20,t):V<40?l.formatDistance("halfAMinute",0,t):V<60?l.formatDistance("lessThanXMinutes",1,t):l.formatDistance("xMinutes",1,t):$===0?l.formatDistance("lessThanXMinutes",1,t):l.formatDistance("xMinutes",$,t);if($<45)return l.formatDistance("xMinutes",$,t);if($<90)return l.formatDistance("aboutXHours",1,t);if($<ke){const s=Math.round($/60);return l.formatDistance("aboutXHours",s,t)}else{if($<m)return l.formatDistance("xDays",1,t);if($<de){const s=Math.round($/ke);return l.formatDistance("xDays",s,t)}else if($<de*2)return b=Math.round($/de),l.formatDistance("aboutXMonths",b,t)}if(b=Jt(r,d),b<12){const s=Math.round($/de);return l.formatDistance("xMonths",s,t)}else{const s=b%12,x=Math.trunc(b/12);return s<3?l.formatDistance("aboutXYears",x,t):s<9?l.formatDistance("overXYears",x,t):l.formatDistance("almostXYears",x+1,t)}}function ss(i,C){return ts(i,We(i),C)}function as(i){return He(i,We(i))}const ls={class:"form-control"},os=["for"],ns={class:"flex items-center justify-end mb-2"},rs={class:"flex flex-wrap items-center gap-2 p-3 bg-gray-50 border rounded-t-lg"},is={class:"flex-shrink-0"},cs={class:"flex gap-1"},ds=["onClick","title"],us={class:"flex gap-1"},vs=["onClick","title"],fs={class:"flex gap-1"},ms=["onClick","title"],ps={key:1,class:"flex gap-1"},bs=["onClick","title"],gs=["id","placeholder"],hs=["innerHTML"],ys={key:1,class:"mt-1 text-sm text-gray-500 text-right"},xs=Z({__name:"Input",props:{label:{},name:{},id:{},placeholder:{default:""},modelValue:{},messageClass:{default:"text-red-500 text-sm mt-1"},labelClass:{default:"block text-lg font-bold mb-2"},inputClass:{default:"border border-gray-300 rounded-b-lg"},required:{type:Boolean,default:!1},minLength:{},maxLength:{}},emits:["update:modelValue","blur"],setup(i,{emit:C}){const n=i,y=C,l=T(null),m=T(null),g=Ee(),t=T(!1),d=T(!1),r=T(!1),V=[{command:"bold",icon:be,title:"Bold"},{command:"italic",icon:Fe,title:"Italic"},{command:"underline",icon:bt,title:"Underline"},{command:"strikeThrough",icon:gt,title:"Strike Through"},{command:"createLink",icon:Le,title:"Insert Link"},{command:"code",icon:Pe,title:"Code"},{command:"blockquote",icon:Ie,title:"Quote"}],A=[{command:"insertUnorderedList",icon:ht,title:"Bullet List"},{command:"insertOrderedList",icon:yt,title:"Numbered List"}],$=[{command:"justifyLeft",icon:xt,title:"Align Left"},{command:"justifyCenter",icon:_t,title:"Align Center"},{command:"justifyRight",icon:wt,title:"Align Right"},{command:"justifyFull",icon:$t,title:"Justify"}],b=[{command:"bold",icon:be,title:"Bold",syntax:{prefix:"**",suffix:"**"}},{command:"italic",icon:Fe,title:"Italic",syntax:{prefix:"_",suffix:"_"}},{command:"heading",icon:be,title:"Heading",syntax:{prefix:"# ",suffix:""}},{command:"link",icon:Le,title:"Link",syntax:{prefix:"[",suffix:"](url)"}},{command:"code",icon:Pe,title:"Code",syntax:{prefix:"`",suffix:"`"}},{command:"quote",icon:Ie,title:"Quote",syntax:{prefix:"> ",suffix:""}},{command:"togglePreview",icon:Rt,title:"Toggle Preview"}],s=B(()=>{var h;return l.value&&((h=l.value.textContent)==null?void 0:h.length)||0}),x=B(()=>l.value?ne.sanitize(Se(l.value.textContent||"")):""),c=()=>{t.value||!l.value||(y("update:modelValue",l.value.innerHTML),F())},f=(h,D=null)=>{if(l.value){if(h==="toggleMode"){_();return}if(h==="togglePreview"){r.value=!r.value;return}l.value.focus();try{if(d.value)u(h);else if(h==="createLink"){const M=prompt("Enter URL:");M&&document.execCommand(h,!1,M)}else h==="formatBlock"?document.execCommand(h,!1,`<${D}>`):document.execCommand(h,!1,D);c()}catch(M){console.error("Format error:",M)}}},u=h=>{if(!l.value)return;const D=b.find(pe=>pe.command===h);if(!(D!=null&&D.syntax))return;const{prefix:M,suffix:z}=D.syntax,W=window.getSelection(),se=W==null?void 0:W.getRangeAt(0);if(!se)return;const I=se.toString(),O=M+I+z;document.execCommand("insertText",!1,O)},_=async()=>{if(!l.value)return;const h=l.value.innerHTML;if(d.value=!d.value,d.value){const M=new it().turndown(h);l.value.innerHTML=M}else{const D=Se(h);l.value.innerHTML=ne.sanitize(D)}c()},w=h=>document.queryCommandState(h),E=h=>{var z,W;h.preventDefault();const D=(z=h.clipboardData)==null?void 0:z.getData("text/html"),M=(W=h.clipboardData)==null?void 0:W.getData("text/plain");if(d.value)M&&document.execCommand("insertText",!1,M);else if(D){const se=ne.sanitize(D,{ALLOWED_TAGS:["p","b","i","em","strong","a","ul","ol","li","br","h1","h2","h3","h4","h5","h6"],ALLOWED_ATTR:["href"]});document.execCommand("insertHTML",!1,se)}else M&&document.execCommand("insertText",!1,M);c()},K=h=>{y("blur",h),F()},F=()=>{var D;m.value=null;const h=((D=l.value)==null?void 0:D.textContent)||"";if(n.required&&!h.trim()){m.value=`${n.label} is required`;return}if(n.minLength&&h.length<n.minLength){m.value=`Minimum length is ${n.minLength} characters`;return}if(n.maxLength&&h.length>n.maxLength){m.value=`Maximum length is ${n.maxLength} characters`;return}},U=()=>{if(!l.value)return;const h=()=>{t.value=!0},D=()=>{t.value=!1,c()};return l.value.addEventListener("compositionstart",h),l.value.addEventListener("compositionend",D),n.modelValue&&(l.value.innerHTML=ne.sanitize(n.modelValue)),!n.modelValue&&n.placeholder&&(l.value.innerHTML=`<p class="text-gray-400">${n.placeholder}</p>`),()=>{l.value&&(l.value.removeEventListener("compositionstart",h),l.value.removeEventListener("compositionend",D))}};return X(()=>n.modelValue,h=>{if(!l.value||t.value)return;const D=l.value.innerHTML;if(h!==D){const M=window.getSelection(),z=M==null?void 0:M.getRangeAt(0);l.value.innerHTML=ne.sanitize(h||""),z&&M&&(M.removeAllRanges(),M.addRange(z))}}),X(()=>g.props.errors,h=>{h&&h[n.name]?m.value=h[n.name]:m.value=null},{deep:!0}),ye(()=>{const h=U();Be(()=>h==null?void 0:h())}),(h,D)=>(a(),o("div",ls,[e("label",{for:h.id,class:"label"},[e("span",{class:L(h.labelClass)},k(h.label),3)],8,os),e("div",ns,[e("button",{onClick:D[0]||(D[0]=M=>f("toggleMode")),class:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary transition-colors"},[(a(),N(ee(d.value?p(ft):p(pt)),{class:"w-4 h-4"})),e("span",null,k(d.value?"Switch to HTML":"Switch to Markdown"),1)])]),e("div",rs,[d.value?(a(),o("div",ps,[(a(),o(P,null,H(b,(M,z)=>e("button",{key:z,onClick:ae(W=>f(M.command),["prevent"]),title:M.title,class:"p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary"},[(a(),N(ee(M.icon),{class:"w-4 h-4"}))],8,bs)),64))])):(a(),o(P,{key:0},[e("div",is,[e("select",{onChange:D[1]||(D[1]=M=>f("formatBlock",M.target.value)),class:"px-3 py-1.5 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary"},D[2]||(D[2]=[et('<option value="p" data-v-fd51d829>Paragraph</option><option value="h1" data-v-fd51d829>Heading 1</option><option value="h2" data-v-fd51d829>Heading 2</option><option value="h3" data-v-fd51d829>Heading 3</option><option value="h4" data-v-fd51d829>Heading 4</option><option value="h5" data-v-fd51d829>Heading 5</option><option value="h6" data-v-fd51d829>Heading 6</option>',7)]),32)]),D[3]||(D[3]=e("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e("div",cs,[(a(),o(P,null,H(V,(M,z)=>e("button",{key:z,onClick:ae(W=>f(M.command),["prevent"]),title:M.title,class:L(["p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary",{"bg-gray-100 text-primary border-primary":w(M.command)}])},[(a(),N(ee(M.icon),{class:"w-4 h-4"}))],10,ds)),64))]),D[4]||(D[4]=e("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e("div",us,[(a(),o(P,null,H(A,(M,z)=>e("button",{key:z,onClick:ae(W=>f(M.command),["prevent"]),title:M.title,class:L(["p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary",{"bg-gray-100 text-primary border-primary":w(M.command)}])},[(a(),N(ee(M.icon),{class:"w-4 h-4"}))],10,vs)),64))]),D[5]||(D[5]=e("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e("div",fs,[(a(),o(P,null,H($,(M,z)=>e("button",{key:z,onClick:ae(W=>f(M.command),["prevent"]),title:M.title,class:L(["p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary",{"bg-gray-100 text-primary border-primary":w(M.command)}])},[(a(),N(ee(M.icon),{class:"w-4 h-4"}))],10,ms)),64))])],64))]),e("div",{ref_key:"editorRef",ref:l,id:h.id,contenteditable:"true",spellcheck:"true",dir:"ltr",placeholder:h.placeholder,onInput:c,onPaste:E,onBlur:K,class:L([h.inputClass,"min-h-[200px] max-h-[600px] overflow-y-auto p-4 focus:outline-none",{error:m.value},{"font-mono":d.value}])},null,42,gs),d.value&&r.value?(a(),o("div",{key:0,class:"mt-4 p-4 border rounded-lg prose max-w-none",innerHTML:x.value},null,8,hs)):S("",!0),h.maxLength?(a(),o("div",ys,k(s.value)+" / "+k(h.maxLength)+" characters ",1)):S("",!0),v(J,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:q(()=>[m.value?(a(),o("span",{key:0,class:L(h.messageClass),role:"alert","aria-live":"polite"},[e("strong",null,k(m.value),1)],2)):S("",!0)]),_:1})]))}}),_s=G(xs,[["__scopeId","data-v-fd51d829"]]),ws={class:"form-control"},$s=["for"],ks=["id","name"],Cs={class:"relative"},Ds={class:"flex items-center gap-2"},Ms={class:"text-gray-700"},Ss={key:0,class:"absolute z-50 w-full mt-1 bg-white border rounded-lg shadow-lg"},Vs={class:"p-4 space-y-4"},Ts={class:"space-y-2"},Fs={class:"flex items-center justify-between mb-2"},Ls={class:"font-semibold"},Is={class:"grid grid-cols-7 mb-1"},Ps={class:"grid grid-cols-7 gap-1"},js=["onClick"],As={key:0,class:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-primary rounded-full"},Us={class:"flex items-center justify-center gap-4"},Os={class:"flex items-center gap-2"},Hs=["value"],Bs=["value"],Es={class:"flex flex-wrap gap-2 pt-2 border-t"},zs=["onClick"],Rs=Z({__name:"Input",props:{label:{},name:{},id:{},placeholder:{default:""},modelValue:{},messageClass:{default:"text-red-500 text-sm mt-1"},labelClass:{default:"block text-lg font-bold mb-2"},inputClass:{default:"input input-primary input-bordered w-full"},required:{type:Boolean,default:!1},min:{},max:{}},emits:["update:modelValue","blur"],setup(i,{emit:C}){const n=i,y=C,l=T(!1),m=T(new Date),g=T(null),t=T(0),d=T(0),r=T(null),V=Ee(),A=[{label:"Now",value:new Date},{label:"Start of Day",value:new Date().setHours(0,0,0,0)},{label:"End of Day",value:new Date().setHours(23,59,59,999)},{label:"Tomorrow",value:new Date().setDate(new Date().getDate()+1)}],$=["Su","Mo","Tu","We","Th","Fr","Sa"],b=Array.from({length:60},(I,O)=>O),s=B(()=>le(m.value,"MMMM")),x=B(()=>m.value.getFullYear()),c=B(()=>{const I=tt(m.value),O=Ke(m.value);return es({start:I,end:O})}),f=B({get:()=>n.modelValue,set:I=>y("update:modelValue",I)}),u=B(()=>g.value?le(g.value,"MMM d, yyyy HH:mm"):""),_=()=>{l.value=!l.value},w=()=>{l.value=!1},E=()=>{m.value=new Date(m.value.getFullYear(),m.value.getMonth()-1)},K=()=>{m.value=new Date(m.value.getFullYear(),m.value.getMonth()+1)},F=I=>{g.value=new Date(I),g.value.setHours(t.value),g.value.setMinutes(d.value),D()},U=()=>{g.value&&(g.value.setHours(t.value),g.value.setMinutes(d.value),D())},h=I=>{const O=new Date(I);g.value=O,t.value=O.getHours(),d.value=O.getMinutes(),D(),w()},D=()=>{g.value&&(f.value=le(g.value,"yyyy-MM-dd'T'HH:mm"),se())},M=I=>g.value&&He(I,g.value),z=I=>I.getMonth()===m.value.getMonth(),W=I=>as(I),se=()=>{if(r.value=null,n.required&&!f.value){r.value=`${n.label} is required`;return}if(n.min&&f.value<n.min){r.value=`Date must be after ${le(new Date(n.min),"MMM d, yyyy HH:mm")}`;return}if(n.max&&f.value>n.max){r.value=`Date must be before ${le(new Date(n.max),"MMM d, yyyy HH:mm")}`;return}};return X(()=>V.props.errors,I=>{I&&I[n.name]?r.value=I[n.name]:r.value=null},{deep:!0}),X(()=>n.modelValue,I=>{if(I){const O=new Date(I);g.value=O,t.value=O.getHours(),d.value=O.getMinutes(),m.value=O}},{immediate:!0}),(I,O)=>{const pe=st("click-outside");return a(),o("div",ws,[e("label",{for:I.id,class:"label"},[e("span",{class:L(I.labelClass)},k(I.label),3)],8,$s),te(e("input",{id:I.id,name:I.name,type:"datetime-local","onUpdate:modelValue":O[0]||(O[0]=j=>f.value=j),class:"hidden"},null,8,ks),[[xe,f.value]]),e("div",Cs,[e("button",{type:"button",onClick:_,class:L([I.inputClass,"flex items-center justify-between w-full px-4 py-2",{error:r.value}])},[e("span",Ds,[v(p(we),{class:"w-5 h-5 text-gray-500"}),e("span",Ms,k(u.value||I.placeholder||"Select date and time"),1)]),v(p(re),{class:L(["w-5 h-5 text-gray-500 transition-transform",{"rotate-180":l.value}])},null,8,["class"])],2),l.value?te((a(),o("div",Ss,[e("div",Vs,[e("div",Ts,[e("div",Fs,[e("button",{onClick:E,class:"p-1 hover:bg-gray-100 rounded-full"},[v(p(kt),{class:"w-5 h-5"})]),e("span",Ls,k(s.value)+" "+k(x.value),1),e("button",{onClick:K,class:"p-1 hover:bg-gray-100 rounded-full"},[v(p(qt),{class:"w-5 h-5"})])]),e("div",Is,[(a(),o(P,null,H($,j=>e("span",{key:j,class:"text-center text-sm text-gray-500 font-medium"},k(j),1)),64))]),e("div",Ps,[(a(!0),o(P,null,H(c.value,j=>(a(),o("button",{key:j.toISOString(),onClick:Xe=>F(j),class:L(["p-2 text-sm rounded-full hover:bg-gray-100 relative",{"bg-primary/10 text-primary font-semibold":M(j),"text-gray-400":!z(j),"text-gray-900":z(j)}])},[R(k(j.getDate())+" ",1),W(j)?(a(),o("div",As)):S("",!0)],10,js))),128))])]),e("div",Us,[e("div",Os,[te(e("select",{"onUpdate:modelValue":O[1]||(O[1]=j=>t.value=j),class:"w-16 p-1 border rounded",onChange:U},[(a(),o(P,null,H(24,j=>e("option",{key:j,value:j-1},k(String(j-1).padStart(2,"0")),9,Hs)),64))],544),[[Ce,t.value]]),O[3]||(O[3]=e("span",{class:"text-gray-500"},":",-1)),te(e("select",{"onUpdate:modelValue":O[2]||(O[2]=j=>d.value=j),class:"w-16 p-1 border rounded",onChange:U},[(a(!0),o(P,null,H(p(b),j=>(a(),o("option",{key:j,value:j},k(String(j).padStart(2,"0")),9,Bs))),128))],544),[[Ce,d.value]])])]),e("div",Es,[(a(),o(P,null,H(A,j=>e("button",{key:j.label,onClick:Xe=>h(j.value),class:"px-3 py-1 text-sm text-gray-600 bg-gray-100 rounded-full hover:bg-gray-200"},k(j.label),9,zs)),64))])])])),[[pe,w]]):S("",!0)]),v(J,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:q(()=>[r.value?(a(),o("span",{key:0,class:L(I.messageClass),role:"alert","aria-live":"polite"},[e("strong",null,k(r.value),1)],2)):S("",!0)]),_:1})])}}}),qs=G(Rs,[["__scopeId","data-v-245929fe"]]),Ns={key:0,class:"fixed inset-0 z-50 overflow-hidden"},Ys={class:"fixed inset-0 flex items-center justify-center p-4"},Ws={key:0,class:"relative bg-base-100 rounded-2xl shadow-2xl w-full max-w-md transform transition-all"},Ks={key:0,class:"absolute inset-0 bg-base-100/70 backdrop-blur-sm flex items-center justify-center z-50 rounded-2xl"},Xs={class:"p-6"},Gs={class:"flex justify-center mb-6"},Qs={class:"w-20 h-20 rounded-full bg-error/20 flex items-center justify-center animate-pulse"},Js={class:"text-center space-y-4"},Zs={class:"text-base-content/70"},ea={class:"mt-8 flex gap-4"},ta=["disabled"],sa=["disabled"],aa=Z({__name:"delete",props:{id:{type:Number,default:0},model:{type:String,default:""},endpoint:{type:String,default:""},permission:{type:String,default:null}},emits:["onDelete"],setup(i,{emit:C}){const n=fe(),y=T(!1),l=T(!1),m=i,g=C,t=async()=>{var d,r,V,A;if(!l.value)try{l.value=!0;const $=await me.post(m.endpoint,{model:m.model,id:m.id,permission:m.permission});n.success($.data.message),g("onDelete"),y.value=!1}catch($){const b=((r=(d=$.response)==null?void 0:d.data)==null?void 0:r.message)||"An error occurred while deleting the item";if((A=(V=$.response)==null?void 0:V.data)!=null&&A.errors){const s=$.response.data.errors;Object.values(s).forEach(x=>{Array.isArray(x)&&n.error(x[0])})}else n.error(b)}finally{l.value=!1}};return(d,r)=>(a(),o(P,null,[e("button",{onClick:r[0]||(r[0]=V=>y.value=!0),class:"btn btn-error btn-sm gap-2 group relative overflow-hidden hover:shadow-lg transition-all duration-300","aria-label":"Delete item"},[v(p(Me),{class:"w-4 h-4 transform transition-all duration-300 group-hover:scale-110"}),r[4]||(r[4]=e("div",{class:"absolute inset-0 bg-white/20 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"},null,-1))]),v(J,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:q(()=>[y.value?(a(),o("div",Ns,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:r[1]||(r[1]=V=>y.value=!1)}),e("div",Ys,[v(J,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:q(()=>[y.value?(a(),o("div",Ws,[l.value?(a(),o("div",Ks,r[5]||(r[5]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"loading loading-spinner loading-lg text-error"}),e("p",{class:"text-sm font-medium text-base-content/70"},"Deleting...")],-1)]))):S("",!0),e("div",Xs,[e("button",{onClick:r[2]||(r[2]=V=>y.value=!1),class:"btn btn-sm btn-circle btn-ghost absolute right-4 top-4 hover:rotate-90 transition-transform duration-200","aria-label":"Close modal"},[v(p(Q),{class:"w-4 h-4"})]),e("div",Gs,[e("div",Qs,[v(p(_e),{class:"w-10 h-10 text-error"})])]),e("div",Js,[r[6]||(r[6]=e("h3",{class:"text-2xl font-bold text-base-content"}," Confirm Deletion ",-1)),e("p",Zs," Are you sure you want to delete item #"+k(m.id)+"? ",1),r[7]||(r[7]=e("p",{class:"text-sm text-error font-medium"}," This action cannot be undone. ",-1))]),e("div",ea,[e("button",{onClick:r[3]||(r[3]=V=>y.value=!1),class:"btn btn-ghost flex-1 hover:bg-base-200",disabled:l.value}," Cancel ",8,ta),e("button",{onClick:t,class:"btn btn-error flex-1 gap-2",disabled:l.value},[v(p(Me),{class:L(["w-4 h-4",{"animate-spin":l.value}])},null,8,["class"]),R(" "+k(l.value?"Deleting...":"Delete"),1)],8,sa)])])])):S("",!0)]),_:1})])])):S("",!0)]),_:1})],64))}}),la=G(aa,[["__scopeId","data-v-3aa240d6"]]),oa=i=>{if(!i)return"";let C;if(i.includes("T"))C=new Date(i);else{const n=i.split("/");C=new Date(`${n[2]}-${n[1]}-${n[0]}`)}return C.toISOString().split("T")[0]},na=i=>{const C=i.split("/");return new Date(C[2]+"/"+C[1]+"/"+C[0]).toISOString().substr(0,16)},ra=i=>i?i.toString():"",ia={key:0},ca={key:1},da={key:2},ua={key:3},va={key:4},fa={key:5},ma={key:6},pa={key:7},ba={key:8},ga={key:9},ha={key:10},ya={key:11},xa={key:12},_a={key:13},wa={key:14},$a={class:"form-control mt-1"},ka={class:"label"},Ca={class:"label-text"},Da=["onKeyup","onUpdate:modelValue","error"],Ma={class:"flex justify-center bg-base-100 rounded mt-5"},Sa=["innerHTML"],Va={key:15},Ta={key:16,class:"text-error text-sm mt-1"},Fa={__name:"FormFields",props:{fields:{type:Array,required:!0}},emits:["update:fields"],setup(i,{emit:C}){const n=i,y=C;X(()=>n.fields,m=>{y("update:fields",m)},{deep:!0});const l=(m,g,t)=>{if(t==="name"||t==="title"){const d=n.fields.findIndex(r=>r.key==="slug");d!==-1&&(n.fields[d].value=m.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))}};return(m,g)=>(a(),o("div",null,[(a(!0),o(P,null,H(i.fields,(t,d)=>(a(),o("div",{key:d},[t.type=="text"?(a(),o("div",ia,[v(p(oe),{type:"text",modelValue:i.fields[d].value,"onUpdate:modelValue":r=>i.fields[d].value=r,label:t.label,error:t.error,onKeyup:r=>l(r.target.value,t.type,t.key)},null,8,["modelValue","onUpdate:modelValue","label","error","onKeyup"])])):t.type=="password"?(a(),o("div",ca,[v(p(ct),{modelValue:i.fields[d].value,"onUpdate:modelValue":r=>i.fields[d].value=r,label:t.label,error:t.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):t.type=="email"?(a(),o("div",da,[v(p(oe),{type:"email",modelValue:i.fields[d].value,"onUpdate:modelValue":r=>i.fields[d].value=r,label:t.label,error:t.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):t.type=="date"?(a(),o("div",ua,[v(p(oe),{type:"date",modelValue:i.fields[d].value,"onUpdate:modelValue":r=>i.fields[d].value=r,label:t.label,error:t.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):t.type=="timestamp"?(a(),o("div",va,[v(p(qs),{label:t.label,name:t.key,id:t.key,modelValue:i.fields[d].value,"onUpdate:modelValue":r=>i.fields[d].value=r,placeholder:"Select date and time",required:"",error:t.error,min:"2024-01-16T00:00",max:"2025-12-31T23:59"},null,8,["label","name","id","modelValue","onUpdate:modelValue","error"])])):t.type=="slug"?(a(),o("div",fa,[v(p(oe),{type:"text",modelValue:i.fields[d].value,"onUpdate:modelValue":r=>i.fields[d].value=r,label:t.label,error:t.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):t.type=="media"?(a(),o("div",ma,[v(p(ut),{label:"image",placeholder:"search",modelValue:i.fields[d].value,"onUpdate:modelValue":r=>i.fields[d].value=r,loadData:i.fields[d].value,endpoint:t.endpoint,error:t.error},null,8,["modelValue","onUpdate:modelValue","loadData","endpoint","error"])])):t.type=="number"?(a(),o("div",pa,[v(p(oe),{type:"number",modelValue:i.fields[d].value,"onUpdate:modelValue":r=>i.fields[d].value=r,label:t.label,onKeyup:r=>l(r.target.value,t.type,t.key),error:t.error},null,8,["modelValue","onUpdate:modelValue","label","onKeyup","error"])])):t.type=="model_search"?(a(),o("div",ba,[v(p(Ve),{label:t.label,placeholder:"search",model:t.model,columns:t.columns,singleMode:t.singleSearch,modelValue:i.fields[d].value,"onUpdate:modelValue":r=>i.fields[d].value=r,loadData:i.fields[d].value,endpoint:t.endpoint,displayKey:t.displayKey,error:t.error},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey","error"])])):t.type=="pivot_model"?(a(),o("div",ga,[v(p(Ve),{label:t.label,placeholder:"search",model:t.model,columns:t.columns,singleMode:t.singleSearch,modelValue:i.fields[d].value,"onUpdate:modelValue":r=>i.fields[d].value=r,loadData:i.fields[d].value,endpoint:t.endpoint,displayKey:t.displayKey,error:t.error},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey","error"])])):t.type=="editor"?(a(),o("div",ha,[v(p(_s),{label:t.label,name:t.key,id:t.key+"-editor",placeholder:"Start typing...",modelValue:i.fields[d].value,"onUpdate:modelValue":r=>i.fields[d].value=r,required:"",minLength:10,maxLength:1e3,error:t.error},null,8,["label","name","id","modelValue","onUpdate:modelValue","error"])])):t.type=="Toggle"?(a(),o("div",ya,[v(p(Te),{modelValue:i.fields[d].value,"onUpdate:modelValue":r=>i.fields[d].value=r,label:t.label,error:t.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):t.type=="boolean"?(a(),o("div",xa,[v(p(Te),{modelValue:i.fields[d].value,"onUpdate:modelValue":r=>i.fields[d].value=r,label:t.label,error:t.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):t.type=="chips"?(a(),o("div",_a,[v(p(vt),{modelValue:i.fields[d].value,"onUpdate:modelValue":r=>i.fields[d].value=r,label:t.label,error:t.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):t.type=="icon"?(a(),o("div",wa,[e("label",$a,[e("div",ka,[e("span",Ca,k(t.label),1)]),te(e("textarea",{class:"textarea textarea-primary h-24",onKeyup:r=>l(r.target.value,t.type,t.key),"onUpdate:modelValue":r=>i.fields[d].value=r,placeholder:"Bio",error:t.error},null,40,Da),[[xe,i.fields[d].value]])]),e("div",Ma,[e("div",{class:"flex p-10 w-52",innerHTML:i.fields[d].value},null,8,Sa)])])):t.type=="select"?(a(),o("div",Va,[v(p(dt),{modelValue:i.fields[d].value,"onUpdate:modelValue":r=>i.fields[d].value=r,label:t.label,options:t.select_options,error:t.error},null,8,["modelValue","onUpdate:modelValue","label","options","error"])])):S("",!0),t.error?(a(),o("div",Ta,k(t.error),1)):S("",!0)]))),128))]))}},Oe=G(Fa,[["__scopeId","data-v-4523b90d"]]),La={key:0,class:"mb-4"},Ia={class:"tabs tabs-boxed bg-base-300 p-1"},Pa=["onClick"],ja={class:"mt-4"},Aa={key:1},Ua={__name:"FormBuilder",props:{columns:{type:Array,default:()=>[]},modelValue:{type:Object,default:()=>({})},editMode:{type:String,default:"false"},errors:{type:Object,default:()=>({})}},emits:["onFormUpdate"],setup(i,{emit:C}){const n=i,y=C,l=T([]),m=T(""),g=B(()=>l.value.some($=>$.tab)),t=B(()=>{const $=[...new Set(l.value.filter(b=>b.tab).map(b=>b.tab))];return $.length>0&&!m.value&&(m.value=$[0]),$}),d=$=>l.value.filter(b=>b.tab===$),r=$=>{$.forEach(b=>{const s=l.value.findIndex(x=>x.key===b.key);s!==-1&&(l.value[s]=b)}),y("onFormUpdate",l.value)},V=()=>{const $=[];n.columns.forEach(b=>{var f;const s=n.editMode==="false",x=n.editMode==="true";if(s&&b.canCreate||x&&b.canEdit){let u="";s?(b.type==="Toggle"||b.type==="boolean")&&(u=!1):x&&(u=A(b,n.modelValue));const _={...b,value:u,select_options:((f=b==null?void 0:b.options)==null?void 0:f.options)||(b==null?void 0:b.options),error:n.errors[b.key.toLowerCase()]||null};$.push(_)}}),l.value=$,n.editMode==="true"&&y("onFormUpdate",l.value)};X(()=>n.errors,$=>{if(Object.keys($).length>0){const b=l.value.map(s=>({...s,error:$[s.key.toLowerCase()]||null}));l.value=b,y("onFormUpdate",l.value)}},{deep:!0,immediate:!0});const A=($,b)=>{switch($.type){case"date":return oa(b[$.key]);case"timestamp":return na(b[$.key]);case"media":case"model_search":case"pivot_model":case"boolean":case"chips":return b[$.key];default:return ra(b[$.key])}};return ye(V),($,b)=>(a(),o("div",null,[g.value?(a(),o("div",La,[e("div",Ia,[(a(!0),o(P,null,H(t.value,s=>(a(),o("button",{key:s,class:L(["tab flex-1 transition-all duration-200",{"tab-active":m.value===s}]),onClick:x=>m.value=s},k(s),11,Pa))),128))]),e("div",ja,[(a(!0),o(P,null,H(t.value,s=>te((a(),o("div",{key:s},[v(Oe,{fields:d(s),"onUpdate:fields":r},null,8,["fields"])])),[[at,m.value===s]])),128))])])):(a(),o("div",Aa,[v(Oe,{fields:l.value,"onUpdate:fields":r},null,8,["fields"])]))]))}},ve=G(Ua,[["__scopeId","data-v-e73373c2"]]),Oa={key:0,class:"fixed inset-0 z-50 overflow-hidden"},Ha={class:"relative min-h-screen flex items-center justify-center p-0 md:p-4"},Ba={key:0,class:"relative bg-base-100 rounded-none md:rounded-2xl shadow-2xl flex flex-col w-full min-h-screen md:min-h-[80vh] md:max-h-[90vh] md:w-11/12 max-w-7xl transform transition-all"},Ea={key:0,class:"absolute inset-0 bg-base-100/70 backdrop-blur-sm flex items-center justify-center z-50"},za={class:"sticky top-0 z-10 bg-base-200 px-6 py-4 border-b border-base-content/10"},Ra={class:"flex flex-col sm:flex-row justify-between gap-4"},qa={class:"text-lg font-semibold flex items-center gap-3 text-base-content"},Na={class:"flex items-center gap-2"},Ya={class:"flex items-center gap-3"},Wa=["disabled"],Ka={class:"mt-4 alert alert-error shadow-lg",key:"error-alert"},Xa={class:"flex-1 overflow-auto p-6 custom-scrollbar"},Ga={class:"container mx-auto max-w-5xl"},Qa={class:"grid gap-6 lg:grid-cols-12"},Ja={class:"lg:col-span-8 space-y-6"},Za={key:0,class:"w-full space-y-4"},el=["checked"],tl={class:"collapse-title text-lg font-medium flex items-center gap-3 pr-12"},sl={class:"collapse-content bg-base-100/50"},al={class:"pt-4"},ll={key:1,class:"card bg-base-200 shadow-lg border border-base-content/10 hover:shadow-xl transition-all duration-200"},ol={class:"card-body"},nl={class:"lg:col-span-4 space-y-4"},rl={class:"card bg-base-200 shadow-lg hover:shadow-xl transition-all duration-200"},il={class:"card-body"},cl={class:"text-sm font-medium text-base-content flex items-center gap-2"},dl={class:"card bg-base-200 shadow-lg hover:shadow-xl transition-all duration-200"},ul={class:"card-body"},vl={class:"text-sm font-medium text-base-content flex items-center gap-2"},fl={class:"text-sm text-base-content/70 mt-2 space-y-3"},ml={class:"flex items-start gap-2"},pl={class:"rounded-full bg-success/20 p-1 mt-0.5"},bl={class:"flex items-start gap-2"},gl={class:"rounded-full bg-success/20 p-1 mt-0.5"},hl={class:"flex items-start gap-2"},yl={class:"rounded-full bg-success/20 p-1 mt-0.5"},xl={key:1,class:"modal-box w-11/12 max-w-lg bg-base-100"},_l={class:"card shadow-xl"},wl={class:"card-body items-center text-center space-y-6"},$l={class:"w-20 h-20 rounded-full bg-warning/20 flex items-center justify-center animate-pulse"},kl=Z({__name:"create",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},permission:{type:String,default:null}},emits:["onCreate"],setup(i,{emit:C}){const n=fe(),y=T(!1),l=T(!1),m=T({}),g=i,t=C,d=B(()=>g.columns.some(b=>b.canCreate)),r=B(()=>{const b=g.columns.filter(c=>c.section),s=g.columns.filter(c=>!c.section),x=[...new Set(b.map(c=>c.section))];return{sections:x,fields:s,sectionsWithFields:x.map(c=>({section:c,fields:b.filter(f=>f.section===c)}))}}),V=T(g.columns.filter(b=>b.canCreate)),A=b=>{V.value.length>0?b.forEach(s=>{const x=V.value.findIndex(c=>c.key===s.key);x!==-1&&(V.value[x]=s)}):V.value=b},$=async()=>{var b,s;if(!l.value)try{l.value=!0,m.value={};const x=await me.post(g.endpoint,{model:g.model,data:V.value,permission:g.permission});n.success(x.data.message),t("onCreate"),y.value=!1}catch(x){if(m.value={},(s=(b=x.response)==null?void 0:b.data)!=null&&s.errors){const c=x.response.data.errors;Array.isArray(c)?c.forEach(f=>{if(Array.isArray(f)&&f.length>0){const u=f[0],_=u.match(/The (.*?) (field )?(is required|must be|invalid|already exists)/i);if(_){const w=_[1].toLowerCase().replace(" ","_");m.value[w]=u}}}):typeof c=="object"&&Object.entries(c).forEach(([f,u])=>{Array.isArray(u)&&u.length>0&&(m.value[f]=u[0])}),Object.values(m.value).forEach(f=>{n.error(f)})}else x.message&&n.error("An error occurred while creating the entry. Please try again.")}finally{l.value=!1}};return(b,s)=>(a(),o(P,null,[e("button",{onClick:s[0]||(s[0]=x=>y.value=!0),class:"btn btn-primary gap-2 group relative overflow-hidden hover:shadow-lg transition-all duration-300"},[v(p(Ct),{class:"w-5 h-5 transform transition-all duration-300 group-hover:rotate-90"}),s[5]||(s[5]=e("span",{class:"hidden md:inline"},"Create New",-1)),s[6]||(s[6]=e("div",{class:"absolute inset-0 bg-white/20 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"},null,-1))]),v(J,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:q(()=>[y.value?(a(),o("div",Oa,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:s[1]||(s[1]=x=>y.value=!1)}),e("div",Ha,[v(J,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:q(()=>[d.value?(a(),o("div",Ba,[l.value?(a(),o("div",Ea,s[7]||(s[7]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"loading loading-spinner loading-lg text-primary"}),e("p",{class:"text-sm font-medium text-base-content/70"},"Processing...")],-1)]))):S("",!0),e("div",za,[e("div",Ra,[e("h2",qa,[e("button",{onClick:s[2]||(s[2]=x=>y.value=!1),class:"btn btn-sm btn-circle btn-ghost hover:bg-base-300 hover:rotate-90 transition-all duration-200"},[v(p(Q),{class:"w-5 h-5"})]),e("div",Na,[v(p(Dt),{class:"w-5 h-5 text-primary"}),s[8]||(s[8]=e("span",null,"Create New Entry",-1))])]),e("div",Ya,[e("button",{onClick:s[3]||(s[3]=x=>y.value=!1),class:"btn btn-ghost btn-sm hover:bg-base-300"}," Cancel "),e("button",{onClick:$,disabled:l.value,class:"btn btn-primary btn-sm gap-2 min-w-[100px]"},[v(p(Ye),{class:L(["w-4 h-4",{"animate-spin":l.value}])},null,8,["class"]),R(" "+k(l.value?"Creating...":"Create"),1)],8,Wa)])]),v(ce,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 -translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-4"},{default:q(()=>[Object.keys(m.value).length>0?(a(),o("div",Ka,[v(p(_e),{class:"w-5 h-5 flex-shrink-0"}),s[9]||(s[9]=e("div",null,[e("h3",{class:"font-bold"},"Please correct the following errors"),e("div",{class:"text-xs opacity-75"},"Review the highlighted fields below")],-1))])):S("",!0)]),_:1})]),e("div",Xa,[e("div",Ga,[e("div",Qa,[e("div",Ja,[v(ce,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-4"},{default:q(()=>[r.value.sectionsWithFields.length>0?(a(),o("div",Za,[(a(!0),o(P,null,H(r.value.sectionsWithFields,(x,c)=>(a(),o("div",{key:x.section,class:"collapse collapse-plus bg-base-200 rounded-box border border-base-content/10 hover:border-primary/30 transition-all duration-200 shadow-sm hover:shadow-md"},[e("input",{type:"checkbox",checked:c===0},null,8,el),e("div",tl,[v(p(ze),{class:"w-5 h-5 text-primary"}),R(" "+k(x.section),1)]),e("div",sl,[e("div",al,[v(ve,{columns:x.fields,errors:m.value,onOnFormUpdate:A},null,8,["columns","errors"])])])]))),128))])):S("",!0),r.value.fields.length>0?(a(),o("div",ll,[e("div",ol,[v(ve,{columns:r.value.fields,errors:m.value,onOnFormUpdate:A},null,8,["columns","errors"])])])):S("",!0)]),_:1})]),e("div",nl,[e("div",rl,[e("div",il,[e("h3",cl,[v(p(Re),{class:"w-4 h-4 text-primary"}),s[10]||(s[10]=R(" Information "))]),s[11]||(s[11]=e("div",{class:"text-sm text-base-content/70 mt-2 space-y-2"},[e("p",null,"Fill in the required information to create a new entry."),e("p",null,[R("All fields marked with "),e("span",{class:"text-error"},"*"),R(" are required.")])],-1))])]),e("div",dl,[e("div",ul,[e("h3",vl,[v(p(Mt),{class:"w-4 h-4 text-primary"}),s[12]||(s[12]=R(" Quick Tips "))]),e("ul",fl,[e("li",ml,[e("div",pl,[v(p(ie),{class:"w-3 h-3 text-success"})]),s[13]||(s[13]=e("span",null,"Use sections to organize related fields",-1))]),e("li",bl,[e("div",gl,[v(p(ie),{class:"w-3 h-3 text-success"})]),s[14]||(s[14]=e("span",null,"Preview changes before submitting",-1))]),e("li",hl,[e("div",yl,[v(p(ie),{class:"w-3 h-3 text-success"})]),s[15]||(s[15]=e("span",null,"All changes are saved automatically",-1))])])])])])])])])])):(a(),o("div",xl,[e("div",_l,[e("div",wl,[e("div",$l,[v(p(St),{class:"w-10 h-10 text-warning"})]),s[16]||(s[16]=e("div",{class:"space-y-2"},[e("h2",{class:"text-2xl font-bold text-error"},"Access Denied"),e("p",{class:"text-base-content/80"},"You don't have permission to create new entries."),e("p",{class:"text-base-content/60 text-sm"},"Please contact your system administrator for access.")],-1)),e("button",{onClick:s[4]||(s[4]=x=>y.value=!1),class:"btn btn-ghost btn-sm hover:bg-base-200"}," Close ")])])]))]),_:1})])])):S("",!0)]),_:1})],64))}}),Cl=G(kl,[["__scopeId","data-v-280629a4"]]),Dl={key:0,class:"fixed inset-0 z-50 overflow-hidden"},Ml={class:"relative min-h-screen flex items-center justify-center p-0 md:p-4"},Sl={class:"relative bg-base-100 rounded-none md:rounded-2xl shadow-2xl flex flex-col w-full min-h-screen md:min-h-[80vh] md:max-h-[90vh] md:w-11/12 max-w-7xl transform transition-all"},Vl={key:0,class:"absolute inset-0 bg-base-100/70 backdrop-blur-sm flex items-center justify-center z-50"},Tl={class:"sticky top-0 z-10 bg-base-200 px-6 py-4 border-b border-base-content/10"},Fl={class:"flex flex-col sm:flex-row justify-between gap-4"},Ll={class:"text-lg font-semibold flex items-center gap-3 text-base-content"},Il={class:"flex items-center gap-2"},Pl={class:"flex items-center gap-3"},jl=["disabled"],Al={class:"mt-4 alert alert-error shadow-lg",key:"error-alert"},Ul={class:"flex-1 overflow-auto p-6 custom-scrollbar"},Ol={class:"container mx-auto max-w-5xl"},Hl={class:"grid gap-6 lg:grid-cols-12"},Bl={class:"lg:col-span-8 space-y-6"},El={key:0,class:"w-full space-y-4"},zl=["checked"],Rl={class:"collapse-title text-lg font-medium flex items-center gap-3 pr-12"},ql={class:"collapse-content bg-base-100/50"},Nl={class:"pt-4"},Yl={key:1,class:"card bg-base-200 shadow-lg border border-base-content/10 hover:shadow-xl transition-all duration-200"},Wl={class:"card-body"},Kl={class:"lg:col-span-4 space-y-4"},Xl={class:"card bg-base-200 shadow-lg hover:shadow-xl transition-all duration-200"},Gl={class:"card-body"},Ql={class:"text-sm font-medium text-base-content flex items-center gap-2"},Jl={class:"mt-3 space-y-3 divide-y divide-base-content/10"},Zl={class:"flex justify-between items-center py-2"},eo={class:"font-medium text-base-content"},to={class:"flex justify-between items-center py-2"},so={class:"font-medium text-base-content flex items-center gap-2"},ao={class:"card bg-base-200 shadow-lg hover:shadow-xl transition-all duration-200"},lo={class:"card-body"},oo={class:"text-sm font-medium text-base-content flex items-center gap-2"},no={class:"mt-3 space-y-1"},ro=["onClick"],io={class:"flex items-center gap-2"},co={key:0,class:"text-error"},uo=Z({__name:"edit",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},id:{type:Number,default:0},modelValue:{type:Object,default:()=>({})},permission:{type:String,default:null}},emits:["onEdit"],setup(i,{emit:C}){const n=fe(),y=T(!1),l=T(!1),m=T({}),g=i,t=C,d=T(g.columns.filter(b=>b.canEdit)),r=B(()=>{const b=g.columns.filter(c=>c.section),s=g.columns.filter(c=>!c.section),x=[...new Set(b.map(c=>c.section))];return{sections:x,fields:s,sectionsWithFields:x.map(c=>({section:c,fields:b.filter(f=>f.section===c)}))}}),V=b=>{d.value.length>0?b.forEach(s=>{const x=d.value.findIndex(c=>c.key===s.key);x!==-1&&(d.value[x]=s)}):d.value=b},A=async()=>{var b,s;if(!l.value)try{l.value=!0,m.value={};const x=await me.post(g.endpoint,{model:g.model,id:g.id,data:d.value,permission:g.permission});n.success(x.data.message),t("onEdit"),y.value=!1}catch(x){if((s=(b=x.response)==null?void 0:b.data)!=null&&s.errors){const c=x.response.data.errors;Array.isArray(c)?c.forEach(f=>{if(Array.isArray(f)&&f.length>0){const u=f[0],_=u.match(/The (.*?) (field )?(is required|must be|invalid|already exists)/i);if(_){const w=_[1].toLowerCase().replace(" ","_");m.value[w]=u}}}):Object.entries(c).forEach(([f,u])=>{Array.isArray(u)&&u.length>0&&(m.value[f.toLowerCase()]=u[0])}),Object.values(m.value).forEach(f=>{n.error(f)})}else n.error("An error occurred while saving changes. Please try again.")}finally{l.value=!1}},$=b=>{var x;const s=document.querySelector(`[data-field-key="${b}"]`);if(s){const c=s.closest(".collapse-content");if(c){const f=(x=c.parentElement)==null?void 0:x.querySelector('input[type="checkbox"]');f&&!f.checked&&(f.checked=!0)}setTimeout(()=>{s.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),s.classList.add("highlight-field"),setTimeout(()=>{s.classList.remove("highlight-field")},2e3)},300)}};return(b,s)=>(a(),o(P,null,[e("button",{onClick:s[0]||(s[0]=x=>y.value=!0),class:"btn btn-primary btn-sm gap-2 group relative overflow-hidden hover:shadow-lg transition-all duration-300"},[v(p(qe),{class:"w-4 h-4 transform transition-all duration-300 group-hover:rotate-12"}),s[4]||(s[4]=e("span",{class:"hidden md:inline"},"Edit",-1)),s[5]||(s[5]=e("div",{class:"absolute inset-0 bg-white/20 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"},null,-1))]),v(J,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:q(()=>[y.value?(a(),o("div",Dl,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:s[1]||(s[1]=x=>y.value=!1)}),e("div",Ml,[v(J,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:q(()=>{var x;return[e("div",Sl,[l.value?(a(),o("div",Vl,s[6]||(s[6]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"loading loading-spinner loading-lg text-primary"}),e("p",{class:"text-sm font-medium text-base-content/70"},"Saving changes...")],-1)]))):S("",!0),e("div",Tl,[e("div",Fl,[e("h2",Ll,[e("button",{onClick:s[2]||(s[2]=c=>y.value=!1),class:"btn btn-sm btn-circle btn-ghost hover:bg-base-300 hover:rotate-90 transition-all duration-200"},[v(p(Q),{class:"w-5 h-5"})]),e("div",Il,[v(p(mt),{class:"w-5 h-5 text-primary"}),e("span",null,"Edit Item "+k(g.id),1)])]),e("div",Pl,[e("button",{onClick:s[3]||(s[3]=c=>y.value=!1),class:"btn btn-ghost btn-sm hover:bg-base-300"}," Cancel "),e("button",{onClick:A,disabled:l.value,class:"btn btn-primary btn-sm gap-2 min-w-[120px]"},[v(p(Ye),{class:L(["w-4 h-4",{"animate-spin":l.value}])},null,8,["class"]),R(" "+k(l.value?"Saving...":"Save Changes"),1)],8,jl)])]),v(ce,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 -translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-4"},{default:q(()=>[Object.keys(m.value).length>0?(a(),o("div",Al,[v(p(_e),{class:"w-5 h-5 flex-shrink-0"}),s[7]||(s[7]=e("div",null,[e("h3",{class:"font-bold"},"Please correct the following errors"),e("div",{class:"text-xs opacity-75"},"Review the highlighted fields below")],-1))])):S("",!0)]),_:1})]),e("div",Ul,[e("div",Ol,[e("div",Hl,[e("div",Bl,[v(ce,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-4"},{default:q(()=>[r.value.sectionsWithFields.length>0?(a(),o("div",El,[(a(!0),o(P,null,H(r.value.sectionsWithFields,(c,f)=>(a(),o("div",{key:c.section,class:"collapse collapse-plus bg-base-200 rounded-box border border-base-content/10 hover:border-primary/30 transition-all duration-200 shadow-sm hover:shadow-md"},[e("input",{type:"checkbox",checked:f===0},null,8,zl),e("div",Rl,[v(p(ze),{class:"w-5 h-5 text-primary"}),R(" "+k(c.section),1)]),e("div",ql,[e("div",Nl,[v(ve,{columns:c.fields,errors:m.value,onOnFormUpdate:V,editMode:"true",modelValue:g.modelValue},null,8,["columns","errors","modelValue"])])])]))),128))])):S("",!0),r.value.fields.length>0?(a(),o("div",Yl,[e("div",Wl,[v(ve,{columns:r.value.fields,errors:m.value,onOnFormUpdate:V,editMode:"true",modelValue:g.modelValue},null,8,["columns","errors","modelValue"])])])):S("",!0)]),_:1})]),e("div",Kl,[e("div",Xl,[e("div",Gl,[e("h3",Ql,[v(p(Re),{class:"w-4 h-4 text-primary"}),s[8]||(s[8]=R(" Information "))]),e("div",Jl,[e("div",Zl,[s[9]||(s[9]=e("span",{class:"text-sm text-base-content/70"},"ID:",-1)),e("span",eo,k(g.id),1)]),e("div",to,[s[10]||(s[10]=e("span",{class:"text-sm text-base-content/70"},"Last Updated:",-1)),e("span",so,[v(p(we),{class:"w-4 h-4 text-primary"}),R(" "+k(new Date((x=g.modelValue)==null?void 0:x.updated_at).toLocaleDateString()),1)])])])])]),e("div",ao,[e("div",lo,[e("h3",oo,[v(p(Vt),{class:"w-4 h-4 text-primary"}),s[11]||(s[11]=R(" Quick Navigation "))]),e("div",no,[(a(!0),o(P,null,H(d.value,c=>(a(),o("button",{key:c.key,onClick:f=>$(c.key),class:L(["w-full text-left px-3 py-2 text-sm rounded-btn transition-all duration-200",[m.value[c.key]?"text-error bg-error/10 hover:bg-error/20":"text-base-content hover:bg-base-100"]])},[e("div",io,[m.value[c.key]?(a(),o("span",co,"●")):S("",!0),R(" "+k(c.label),1)])],10,ro))),128))])])])])])])])])]}),_:1})])])):S("",!0)]),_:1})],64))}}),vo=G(uo,[["__scopeId","data-v-ffc2ab16"]]),fo={class:"bg-base-100 rounded-xl shadow-lg transition-all duration-300 hover:shadow-xl"},mo={class:"p-4"},po={class:"md:hidden w-full mb-4"},bo={class:"flex items-center gap-2"},go={class:"grid gap-3 sm:grid-cols-3"},ho={class:"dropdown dropdown-hover"},yo={tabindex:"0",class:"btn btn-ghost w-full justify-between gap-2 normal-case"},xo={class:"flex items-center gap-2 text-base-content/70"},_o={tabindex:"0",class:"dropdown-content z-10 menu p-2 shadow-lg bg-base-200 rounded-box w-52"},wo=["onClick"],$o={class:"dropdown dropdown-hover"},ko={tabindex:"0",class:"btn btn-ghost w-full justify-between gap-2 normal-case"},Co={class:"flex items-center gap-2 text-base-content/70"},Do={class:"truncate"},Mo={tabindex:"0",class:"dropdown-content z-10 menu p-2 shadow-lg bg-base-200 rounded-box w-52"},So=["onClick"],Vo={class:"dropdown dropdown-hover"},To={tabindex:"0",class:"btn btn-ghost w-full justify-between gap-2 normal-case"},Fo={class:"flex items-center gap-2 text-base-content/70"},Lo={tabindex:"0",class:"dropdown-content z-10 menu p-2 shadow-lg bg-base-200 rounded-box w-52"},Io={class:"join w-full sm:w-auto"},Po={class:"relative flex-1"},jo=["disabled"],Ao={key:"search",class:"badge badge-primary gap-2 p-3"},Uo={key:"filter",class:"badge badge-secondary gap-2 p-3"},Oo={key:"perPage",class:"badge badge-accent gap-2 p-3"},Ho=Z({__name:"filter",props:{columns:{}},emits:["onPerPage","onOrderBy","onSearch","onFilter","onFilterReset"],setup(i,{emit:C}){const n=i,y=C,l=T(!1),m=T(10),g=T(""),t=T("asc"),d=T(""),r=T([]),V=B(()=>{const u=r.value.find(_=>_.value===g.value);return(u==null?void 0:u.label)||""}),A=B(()=>d.value||g.value||m.value!==10||t.value!=="asc"),$=(u,_)=>{let w;return(...E)=>{clearTimeout(w),w=setTimeout(()=>u(...E),_)}},b=()=>{const u=n.columns.filter(_=>_.sortable);r.value=u.map(_=>({label:_.label,value:_.key}))},s=()=>{d.value="",y("onSearch","")},x=()=>{d.value&&f(d.value)},c=()=>{m.value=10,g.value="",t.value="asc",d.value="",l.value=!1,y("onFilterReset",{perPage:10,filterBy:"",orderBy:"asc",search:null})},f=$(u=>{y("onSearch",u)},300);return X(m,u=>y("onPerPage",u)),X(t,u=>y("onOrderBy",u)),X(g,u=>y("onFilter",u)),X(d,u=>{u&&f(u)}),ye(b),(u,_)=>(a(),o("div",fo,[e("div",mo,[e("div",po,[e("button",{onClick:_[0]||(_[0]=w=>l.value=!l.value),class:"btn btn-ghost w-full justify-between group"},[e("span",bo,[v(p(Tt),{class:"w-4 h-4 text-primary"}),e("span",null,k(l.value?"Hide Filters":"Show Filters"),1)]),v(p(re),{class:L(["w-4 h-4 transition-transform duration-300",{"rotate-180":l.value}])},null,8,["class"])])]),e("div",{class:L(["grid gap-4 transition-all duration-300",["md:grid-cols-[1fr_auto]",l.value?"grid-cols-1":"hidden md:grid"]])},[e("div",go,[e("div",ho,[e("label",yo,[e("div",xo,[v(p(Ft),{class:"w-4 h-4"}),e("span",null,k(m.value)+" per page",1)]),v(p(re),{class:"w-4 h-4"})]),e("ul",_o,[(a(),o(P,null,H([10,25,50,100],w=>e("li",{key:w},[e("button",{onClick:E=>m.value=w,class:L([{active:m.value===w},"flex items-center gap-2"])},[m.value===w?(a(),N(p(ie),{key:0,class:"w-4 h-4"})):S("",!0),e("span",null,k(w)+" items",1)],10,wo)])),64))])]),e("div",$o,[e("label",ko,[e("div",Co,[v(p(Lt),{class:"w-4 h-4"}),e("span",Do,k(V.value||"Filter by"),1)]),v(p(re),{class:"w-4 h-4"})]),e("ul",Mo,[(a(!0),o(P,null,H(r.value,w=>(a(),o("li",{key:w.value},[e("button",{onClick:E=>g.value=w.value,class:L([{active:g.value===w.value},"flex items-center gap-2"])},[g.value===w.value?(a(),N(p(ie),{key:0,class:"w-4 h-4"})):S("",!0),e("span",null,k(w.label),1)],10,So)]))),128))])]),e("div",Vo,[e("label",To,[e("div",Fo,[(a(),N(ee(t.value==="asc"?p(he):p(ge)),{class:"w-4 h-4"})),e("span",null,k(t.value==="asc"?"Ascending":"Descending"),1)]),v(p(re),{class:"w-4 h-4"})]),e("ul",Lo,[e("li",null,[e("button",{onClick:_[1]||(_[1]=w=>t.value="asc"),class:L([{active:t.value==="asc"},"flex items-center gap-2"])},[v(p(he),{class:"w-4 h-4"}),_[6]||(_[6]=e("span",null,"Ascending",-1))],2)]),e("li",null,[e("button",{onClick:_[2]||(_[2]=w=>t.value="desc"),class:L([{active:t.value==="desc"},"flex items-center gap-2"])},[v(p(ge),{class:"w-4 h-4"}),_[7]||(_[7]=e("span",null,"Descending",-1))],2)])])])]),e("div",Io,[e("div",Po,[te(e("input",{"onUpdate:modelValue":_[3]||(_[3]=w=>d.value=w),type:"text",placeholder:"Search...",class:L(["input input-bordered join-item w-full pl-10",{"pr-9":d.value}]),onKeyup:lt(x,["enter"])},null,34),[[xe,d.value]]),v(p(je),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-base-content/40"}),d.value?(a(),o("button",{key:0,onClick:s,class:"absolute right-3 top-1/2 -translate-y-1/2 text-base-content/40 hover:text-base-content transition-colors"},[v(p(Q),{class:"w-4 h-4"})])):S("",!0)]),e("button",{class:"btn btn-primary join-item",onClick:x},[v(p(je),{class:"w-4 h-4"}),_[8]||(_[8]=e("span",{class:"hidden sm:inline"},"Search",-1))]),e("button",{class:"btn btn-secondary join-item group",onClick:c,disabled:!A.value},[v(p(Ne),{class:"w-4 h-4 group-hover:rotate-180 transition-transform duration-300"}),_[9]||(_[9]=e("span",{class:"hidden sm:inline"},"Reset",-1))],8,jo)])],2),v(ce,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2",class:"flex flex-wrap gap-2 mt-4"},{default:q(()=>[d.value?(a(),o("div",Ao,[_[10]||(_[10]=e("span",{class:"text-xs opacity-70"},"Search:",-1)),e("span",null,k(d.value),1),e("button",{onClick:s,class:"hover:text-error"},[v(p(Q),{class:"w-3 h-3"})])])):S("",!0),g.value?(a(),o("div",Uo,[_[11]||(_[11]=e("span",{class:"text-xs opacity-70"},"Filter:",-1)),e("span",null,k(V.value),1),e("button",{onClick:_[4]||(_[4]=w=>g.value=""),class:"hover:text-error"},[v(p(Q),{class:"w-3 h-3"})])])):S("",!0),m.value!==10?(a(),o("div",Oo,[_[12]||(_[12]=e("span",{class:"text-xs opacity-70"},"Show:",-1)),e("span",null,k(m.value)+" items",1),e("button",{onClick:_[5]||(_[5]=w=>m.value=10),class:"hover:text-error"},[v(p(Q),{class:"w-3 h-3"})])])):S("",!0)]),_:1})])]))}}),Bo=G(Ho,[["__scopeId","data-v-e2c29525"]]),Eo={class:"px-5 py-5 bg-base-200 border-t flex flex-col xs:flex-row items-center xs:justify-between"},zo={class:"xs:text-sm text-primary font-bold text-sm md:text-lg"},Ro={class:"inline-flex mt-2 xs:mt-0"},qo={class:"btn-group"},No=["disabled"],Yo=["onClick"],Wo={key:1,class:"btn btn-md btn-disabled"},Ko=["disabled"],Xo={__name:"pagination",props:{paginationInfo:{type:Object,default:()=>({currentPage:1,lastPage:1,perPage:10,total:0,links:[]})},endpoint:{type:String,default:""}},emits:["onPagiation"],setup(i,{emit:C}){const n=i,y=C,l=B(()=>n.paginationInfo.currentPage||1),m=B(()=>n.paginationInfo.lastPage||1),g=B(()=>n.paginationInfo.perPage||10),t=B(()=>n.paginationInfo.total||0),d=B(()=>{const $=l.value,b=m.value,s=2,x=$-s,c=$+s+1,f=[],u=[];let _;for(let w=1;w<=b;w++)(w===1||w===b||w>=x&&w<c)&&f.push(w);for(const w of f)_&&(w-_===2?u.push(_+1):w-_!==1&&u.push("...")),u.push(w),_=w;return u}),r=$=>{const b=n.endpoint+`?page=${$}`;y("onPagiation",b)},V=()=>{l.value<m.value&&r(l.value+1)},A=()=>{l.value>1&&r(l.value-1)};return($,b)=>(a(),o("div",Eo,[e("span",zo," Showing "+k(l.value)+" to "+k(Math.min(l.value*g.value,t.value))+" of "+k(t.value)+" Entries ",1),e("div",Ro,[e("div",qo,[e("button",{class:"btn btn-md",disabled:l.value===1,onClick:A}," Prev ",8,No),(a(!0),o(P,null,H(d.value,(s,x)=>(a(),o(P,{key:x},[typeof s=="number"?(a(),o("button",{key:0,class:L(["btn btn-md",{"btn-active":s===l.value}]),onClick:c=>r(s)},k(s),11,Yo)):s==="..."?(a(),o("span",Wo," ... ")):S("",!0)],64))),128)),e("button",{class:"btn btn-md",disabled:l.value===m.value,onClick:V}," Next ",8,Ko)])])]))}},Go={key:0,class:"relative"},Qo={key:0,class:"flex items-center justify-center h-20 w-full bg-base-200 rounded-lg"},Jo={key:1,class:"grid grid-cols-3 gap-2 w-fit"},Zo=["src","alt"],en={class:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/0 opacity-0 group-hover:opacity-100 transition-all duration-300"},tn={class:"absolute bottom-2 right-2 flex gap-1"},sn=["onClick"],an=["onClick"],ln={class:"absolute inset-0 flex items-center justify-center bg-base-300/50 group-hover:bg-base-300/70 transition-colors"},on={class:"flex flex-col items-center text-base-content/70"},nn={class:"text-xs"},rn={key:1,class:"flex items-center gap-2"},cn={key:2,class:"flex flex-wrap gap-1.5 max-w-xs"},dn={class:"opacity-60 text-[10px] uppercase"},un={class:"font-medium"},vn={class:"fixed z-50 bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 invisible group-hover/tag:opacity-100 group-hover/tag:visible transition-all duration-200 pointer-events-none"},fn={class:"bg-base-300 text-base-content px-2 py-1 rounded text-xs shadow-lg"},mn={key:3,class:"flex items-center justify-center"},pn={key:4,class:"w-full max-w-xs"},bn={class:"flex justify-between items-center mb-1"},gn={class:"text-sm"},hn={class:"w-full bg-base-200 rounded-full h-2"},yn={key:5,class:"flex items-center gap-2"},xn={class:"flex flex-col"},_n={class:"text-sm"},wn={class:"text-xs text-base-content/60"},$n={key:6,class:"font-mono text-base-content/90"},kn={key:7,class:"flex items-baseline gap-1"},Cn={class:"text-base font-semibold"},Dn=["innerHTML"],Mn={key:9,class:"group relative max-w-xs"},Sn={key:0,class:"fixed z-50 bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 pointer-events-none"},Vn={class:"bg-base-300 text-base-content px-3 py-2 rounded shadow-lg max-w-xs"},Tn={class:"fixed inset-0 overflow-y-auto"},Fn={class:"flex min-h-full items-center justify-center p-4"},Ln={class:"relative"},In=["src","alt"],Pn={class:"absolute top-4 right-4 flex gap-2"},jn={class:"p-4 border-t border-base-200"},An={class:"font-medium"},Un={class:"text-sm text-base-content/70 mt-1"},On=Z({__name:"tableDataDisplay",props:{tableData:{type:Object,default:()=>({})},columns:{type:Array,default:()=>[]}},setup(i){const C=i,n=T(null),y=T(!1),l=c=>{n.value=c},m=()=>{n.value=null},g=c=>{var u;const f=typeof c.url=="string"?c.url:(u=c.url)==null?void 0:u.download;f&&window.open(f,"_blank")},t=c=>c?ss(new Date(c),{addSuffix:!0}):"",d=c=>c?c.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"0.00",r=c=>{if(!c)return"";const f=["B","KB","MB","GB"];let u=c,_=0;for(;u>=1024&&_<f.length-1;)u/=1024,_++;return`${u.toFixed(1)} ${f[_]}`},V=c=>{if(!c||typeof c!="string")return"badge-neutral";const f={status:"badge-info",type:"badge-warning",category:"badge-success",priority:"badge-error",label:"badge-primary",default:"badge-neutral"};return f[c.toLowerCase()]||f.default},A=c=>c>=80?{text:"Completed",class:"bg-success/20 text-success",barClass:"bg-success"}:c>=50?{text:"In Progress",class:"bg-info/20 text-info",barClass:"bg-info"}:c>=25?{text:"Started",class:"bg-warning/20 text-warning",barClass:"bg-warning"}:{text:"Pending",class:"bg-error/20 text-error",barClass:"bg-error"},$=(c,f=2)=>{if(!c)return"0 Bytes";const u=1024,_=["Bytes","KB","MB","GB","TB"],w=Math.floor(Math.log(c)/Math.log(u));return`${parseFloat((c/Math.pow(u,w)).toFixed(f))} ${_[w]}`},b=c=>{if(!c)return"";try{return new Date(c).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}catch{return c}},s=c=>new Intl.NumberFormat().format(c),x=B(()=>C.columns.map(c=>({label:c.label,type:c.type||"default",value:(()=>{const f=C.tableData[c.key];try{switch(c.type){case"media":return Array.isArray(f)?f:f?[f]:[];case"model_search":return f?typeof f=="object"?f:{value:f}:{};case"number":return typeof f=="number"?s(f):f;case"timestamp":return typeof f=="string"?b(f):"";case"date":return typeof f=="string"?b(f):"";case"filesize":return typeof f=="number"?$(f):0;case"boolean":return typeof f=="boolean"?f:f===1||f==="1"?!0:f==="true";default:return f??""}}catch(u){return console.error(`Error processing column ${c.key}:`,u),""}})(),trend:typeof C.tableData[`${c.key}_trend`]=="number"?C.tableData[`${c.key}_trend`]:null})));return X(n,c=>{c?document.body.style.overflow="hidden":document.body.style.overflow=""}),Be(()=>{document.body.style.overflow=""}),(c,f)=>(a(),o(P,null,[(a(!0),o(P,null,H(x.value,(u,_)=>(a(),o("td",{key:_,class:"p-4 align-middle"},[u.type==="media"?(a(),o("div",Go,[!u.value||u.value.length===0?(a(),o("div",Qo,[v(p(It),{class:"w-5 h-5 text-base-content/30"})])):(a(),o("div",Jo,[(a(!0),o(P,null,H(u.value.slice(0,y.value?u.value.length:3),(w,E)=>{var K,F;return a(),o("div",{key:E,class:"relative group aspect-square w-20 overflow-hidden rounded-lg bg-base-200"},[e("img",{src:((K=w.url)==null?void 0:K.default)||w.url,alt:w.name||`Image ${E+1}`,class:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",loading:"lazy"},null,8,Zo),e("div",en,[e("div",tn,[e("button",{onClick:ae(U=>l(w),["stop"]),class:"btn btn-circle btn-ghost btn-xs bg-base-200/30 hover:bg-base-200/50 text-white",title:"View larger"},[v(p(Pt),{class:"w-3 h-3"})],8,sn),(F=w.url)!=null&&F.download?(a(),o("button",{key:0,onClick:ae(U=>g(w),["stop"]),class:"btn btn-circle btn-ghost btn-xs bg-base-200/30 hover:bg-base-200/50 text-white",title:"Download"},[v(p(Ae),{class:"w-3 h-3"})],8,an)):S("",!0)])])])}),128)),u.value.length>3&&!y.value?(a(),o("div",{key:0,onClick:f[0]||(f[0]=w=>y.value=!0),class:"relative aspect-square w-20 bg-base-200 rounded-lg cursor-pointer group overflow-hidden"},[e("div",ln,[e("div",on,[v(p(jt),{class:"w-5 h-5"}),e("span",nn,k(u.value.length-3)+" more",1)])])])):S("",!0)]))])):u.type==="toggle"?(a(),o("div",rn,[e("div",{class:L(["px-3 py-1 rounded-full text-xs font-medium inline-flex items-center gap-2 transition-all duration-300",u.value?"bg-success/10 text-success hover:bg-success/20":"bg-error/10 text-error hover:bg-error/20"])},[e("div",{class:L(["w-2 h-2 rounded-full",u.value?"bg-success animate-pulse":"bg-error"])},null,2),R(" "+k(u.value?"Active":"Inactive"),1)],2)])):u.type==="model_search"?(a(),o("div",cn,[(a(!0),o(P,null,H(u.value,(w,E)=>(a(),o("div",{key:E,class:"group/tag cursor-default"},[e("div",{class:L(["badge badge-sm gap-1.5 transition-all duration-300",V(String(E))])},[e("span",dn,k(E),1),e("span",un,k(w),1)],2),e("div",vn,[e("div",fn,k(E)+": "+k(w),1)])]))),128))])):u.type==="boolean"?(a(),o("div",mn,[e("div",{class:L(["w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300",u.value?"bg-success/10 text-success hover:bg-success/20":"bg-error/10 text-error hover:bg-error/20"])},[u.value?(a(),N(p(At),{key:0,class:"w-5 h-5"})):(a(),N(p(Ut),{key:1,class:"w-5 h-5"}))],2)])):u.type==="progress"?(a(),o("div",pn,[e("div",bn,[e("span",gn,k(u.value)+"%",1),e("span",{class:L(["text-xs px-1.5 py-0.5 rounded",A(u.value).class])},k(A(u.value).text),3)]),e("div",hn,[e("div",{class:L(["rounded-full h-2 transition-all duration-500",A(u.value).barClass]),style:ot({width:`${u.value}%`})},null,6)])])):u.type==="date"?(a(),o("div",yn,[v(p(we),{class:"w-4 h-4 text-primary/70"}),e("div",xn,[e("span",_n,k(b(u.value)),1),e("span",wn,k(t(u.value)),1)])])):u.type==="price"?(a(),o("div",$n,[f[2]||(f[2]=e("span",{class:"text-xs text-base-content/60"},"$",-1)),R(" "+k(d(u.value)),1)])):u.type==="number"?(a(),o("div",kn,[e("span",Cn,k(s(u.value)),1),u.trend?(a(),o("span",{key:0,class:L(["text-xs flex items-center gap-0.5",u.trend>0?"text-success":"text-error"])},[u.trend>0?(a(),N(p(Ot),{key:0,class:"w-3 h-3"})):(a(),N(p(Ht),{key:1,class:"w-3 h-3"})),R(" "+k(Math.abs(u.trend))+"% ",1)],2)):S("",!0)])):u.type==="icon"?(a(),o("div",{key:8,class:"w-10 h-10 rounded-lg flex items-center justify-center bg-base-200/50 hover:bg-base-200 transition-colors",innerHTML:u.value},null,8,Dn)):(a(),o("div",Mn,[e("div",{class:L(["truncate",{"text-base-content/50":!u.value}])},k(u.value||"—"),3),u.value&&u.value.length>30?(a(),o("div",Sn,[e("div",Vn,k(u.value),1)])):S("",!0)]))]))),128)),(a(),N(nt,{to:"body"},[v(p(Wt),{appear:"",show:!!n.value,as:"template"},{default:q(()=>[v(p(Nt),{as:"div",onClose:m,class:"relative z-50"},{default:q(()=>[v(p(Ue),{enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:q(()=>f[3]||(f[3]=[e("div",{class:"fixed inset-0 bg-black/80 backdrop-blur-sm"},null,-1)])),_:1}),e("div",Tn,[e("div",Fn,[v(p(Ue),{enter:"ease-out duration-300","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:q(()=>[v(p(Yt),{class:"relative bg-base-100 rounded-xl shadow-2xl"},{default:q(()=>{var u,_,w,E,K,F,U,h;return[e("div",Ln,[e("img",{src:((_=(u=n.value)==null?void 0:u.url)==null?void 0:_.default)||((w=n.value)==null?void 0:w.url),alt:((E=n.value)==null?void 0:E.name)||"Preview",class:"max-w-3xl max-h-[70vh] object-contain rounded-t-xl"},null,8,In),e("div",Pn,[(F=(K=n.value)==null?void 0:K.url)!=null&&F.download?(a(),o("button",{key:0,onClick:f[1]||(f[1]=D=>g(n.value)),class:"btn btn-circle btn-sm bg-base-200/30 hover:bg-base-200/50 text-white"},[v(p(Ae),{class:"w-4 h-4"})])):S("",!0),e("button",{onClick:m,class:"btn btn-circle btn-sm bg-base-200/30 hover:bg-base-200/50 text-white"},[v(p(Q),{class:"w-4 h-4"})])])]),e("div",jn,[e("h3",An,k(((U=n.value)==null?void 0:U.name)||"Image Preview"),1),e("p",Un,k(r((h=n.value)==null?void 0:h.size)),1)])]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])]))],64))}}),Hn=G(On,[["__scopeId","data-v-4a310a88"]]),Bn={class:"w-full"},En={class:"relative flex flex-col bg-base-300 rounded-3xl shadow-lg transition-all duration-300 hover:shadow-xl"},zn={class:"flex flex-col sm:flex-row items-center justify-between p-6 border-b border-base-content/10"},Rn={class:"mb-4 sm:mb-0"},qn={class:"text-2xl md:text-3xl font-extrabold text-base-content flex items-center gap-3"},Nn={key:0,class:"text-base-content/70 text-sm mt-1"},Yn={class:"flex items-center gap-3"},Wn={key:0,class:"absolute inset-0 bg-base-300/50 backdrop-blur-sm flex items-center justify-center z-50 rounded-3xl"},Kn={class:"p-6"},Xn={class:"bg-base-100 rounded-xl overflow-hidden border border-base-content/10"},Gn={key:0,class:"flex flex-col items-center justify-center p-12 text-center"},Qn={class:"text-base-content/70 mt-1"},Jn={key:1,class:"overflow-x-auto"},Zn={class:"table table-compact w-full"},er={class:"bg-base-200/50"},tr=["onClick"],sr={class:"flex items-center gap-2"},ar={key:0,class:"btn btn-ghost btn-xs btn-square opacity-50 hover:opacity-100"},lr={class:"text-right"},or={class:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200"},nr={class:"mt-6"},rr=Z({__name:"Table",props:{tableTitle:{type:String,default:"Table"},columns:{type:Array,default:()=>[]},model:{type:String,required:!0},endpoint:{type:String,required:!0},endpointDelete:{type:String,required:!0},endpointCreate:{type:String,required:!0},endpointEdit:{type:String,required:!0},permission:{type:String,default:null},custom_edit_route:{type:String,default:null}},setup(i){const C=fe(),n=T(!1),y=T([]),l=T({currentPage:1,lastPage:1,perPage:10,total:0,links:[]}),m=T(10),g=T("id"),t=T(null),d=T(null),r=i,V=B(()=>l.value.total),A=B(()=>d.value||g.value!=="id"||m.value!==10||t.value!==null),$=F=>g.value!==F?zt:t.value==="asc"?he:ge,b=F=>{g.value===F?t.value=t.value==="asc"?"desc":"asc":(g.value=F,t.value="asc"),s()},s=async(F=r.endpoint)=>{var U,h;try{n.value=!0;const D=await me.post(F,{model:r.model,columns:r.columns,perPage:m.value,search:d.value,sort:g.value,direction:t.value,permission:r.permission});y.value=D.data.data,l.value={currentPage:D.data.current_page,lastPage:D.data.last_page,perPage:D.data.per_page,total:D.data.total,links:D.data.links}}catch(D){(h=(U=D.response)==null?void 0:U.data)!=null&&h.errors?Object.values(D.response.data.errors).forEach(M=>{Array.isArray(M)&&M.forEach(z=>C.error(z))}):C.error("Failed to fetch data")}finally{n.value=!1}},x=()=>{m.value=10,g.value="id",t.value=null,d.value=null,s()},c=()=>s(),f=F=>s(F),u=F=>{m.value=F,s()},_=F=>{g.value=F,s()},w=F=>{t.value=F,s()},E=F=>{F&&F.length>2&&(d.value=F,s())},K=F=>{m.value=F.perPage,g.value=F.filterBy,t.value=F.orderBy,d.value=F.search,s()};return s(),(F,U)=>(a(),o("div",Bn,[e("div",En,[e("div",zn,[e("div",Rn,[e("h1",qn,[v(p(Bt),{class:"w-8 h-8 text-primary"}),R(" "+k(r.tableTitle),1)]),V.value?(a(),o("p",Nn," Showing "+k(V.value.toLocaleString())+" items ",1)):S("",!0)]),e("div",Yn,[De(F.$slots,"custom-actions",{},void 0,!0),De(F.$slots,"new",{},()=>[v(Cl,{columns:r.columns,endpoint:r.endpointCreate,model:r.model,permission:r.permission,onOnCreate:c},null,8,["columns","endpoint","model","permission"])],!0)])]),v(Bo,{onOnPerPage:u,onOnOrderBy:w,onOnSearch:E,onOnFilter:_,onOnFilterReset:K,columns:r.columns},null,8,["columns"]),n.value?(a(),o("div",Wn,U[0]||(U[0]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"loading loading-spinner loading-lg text-primary"}),e("p",{class:"text-base-content/70"},"Loading data...")],-1)]))):S("",!0),e("div",Kn,[e("div",Xn,[!y.value.length&&!n.value?(a(),o("div",Gn,[v(p(Et),{class:"w-16 h-16 text-base-content/20"}),U[2]||(U[2]=e("h3",{class:"text-lg font-semibold text-base-content mt-4"}," No Records Found ",-1)),e("p",Qn,k(d.value?"Try adjusting your search or filters":"No data available"),1),A.value?(a(),o("button",{key:0,onClick:x,class:"btn btn-ghost btn-sm gap-2 mt-4"},[v(p(Ne),{class:"w-4 h-4"}),U[1]||(U[1]=R(" Reset Filters "))])):S("",!0)])):(a(),o("div",Jn,[e("table",Zn,[e("thead",er,[e("tr",null,[(a(!0),o(P,null,H(i.columns,(h,D)=>(a(),o("th",{key:D,onClick:M=>h.sortable&&b(h.key),class:L(["text-base-content",{"cursor-pointer hover:bg-base-200":h.sortable}])},[e("div",sr,[R(k(h.label)+" ",1),h.sortable?(a(),o("button",ar,[(a(),N(ee($(h.key)),{class:"w-4 h-4"}))])):S("",!0)])],10,tr))),128)),U[3]||(U[3]=e("th",{class:"text-base-content text-right"},"Actions",-1))])]),e("tbody",null,[(a(!0),o(P,null,H(y.value,(h,D)=>(a(),o("tr",{key:h.id||D,class:"hover:bg-base-200/50 transition-colors duration-200 group"},[v(Hn,{tableData:h,columns:i.columns},null,8,["tableData","columns"]),e("td",lr,[e("div",or,[i.custom_edit_route?(a(),N(p(rt),{key:1,href:i.custom_edit_route+h.id,class:"btn btn-primary btn-sm gap-2"},{default:q(()=>[v(p(qe),{class:"w-4 h-4"}),U[4]||(U[4]=e("span",{class:"hidden sm:inline"},"Edit",-1))]),_:2},1032,["href"])):(a(),N(vo,{key:0,columns:i.columns,endpoint:i.endpointEdit,model:i.model,modelValue:h,id:h.id,permission:i.permission,onOnEdit:c},null,8,["columns","endpoint","model","modelValue","id","permission"])),v(la,{id:h.id,endpoint:i.endpointDelete,model:i.model,permission:i.permission,onOnDelete:c},null,8,["id","endpoint","model","permission"])])])]))),128))])])]))]),e("div",nr,[y.value.length?(a(),N(Xo,{key:0,onOnPagiation:f,paginationInfo:l.value,endpoint:i.endpoint},null,8,["paginationInfo","endpoint"])):S("",!0)])])])]))}}),Ar=G(rr,[["__scopeId","data-v-0648aefb"]]);export{Ar as T};
