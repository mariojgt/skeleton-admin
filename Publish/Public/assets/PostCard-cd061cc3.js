import{z as s,o as l,g,k as a,s as m,d as r,b as _,I as w,q as v,t as i,e as x,u as f,x as j,f as F,G as H}from"./preset-b90b9b08.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import{F as U}from"./flame-a7dcdbef.js";import{S as D,N as Z}from"./App.vue_vue_type_script_setup_true_lang-11e7867c.js";import{G as k}from"./gamepad-2-08d13ba1.js";import{E as K}from"./shield-check-ea999e19.js";import{a as O,Z as J}from"./SearchSidebar-3f65748b.js";import{P as Q}from"./pen-a0648bf7.js";import{c as C}from"./createLucideIcon-c54a04d6.js";/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=C("MedalIcon",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=C("SwordsIcon",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);const Y={key:1,class:"absolute -top-1 -right-1 z-10"},ee={class:"relative"},te={class:"relative flex gap-4 p-4"},re={class:"flex-shrink-0 w-14"},se={class:"relative"},oe=["src","alt"],ae={class:"flex-1 min-w-0"},ne={class:"flex items-start justify-between gap-4"},le={class:"text-lg font-bold text-white group-hover:text-blue-400 transition-colors line-clamp-1"},ie={class:"flex-shrink-0"},ce=["innerHTML"],ue={class:"mt-3 flex items-center gap-4 text-sm"},de={class:"flex items-center gap-2"},ge={class:"text-gray-500"},pe={class:"flex items-center gap-3"},me={__name:"PostCard",props:{record:{type:Object,required:!0}},setup(n){const t=n,c=s(()=>(t.record.comments_count||0)>=5),u=s(()=>(t.record.views_count||0)>=20),d=s(()=>(t.record.views_count||0)>=50),P=s(()=>{var e;return t.record.admin||((e=t.record.user)==null?void 0:e.has_subscription)}),S=s(()=>c.value||u.value||d.value?"hover:bg-dark-700/90":"hover:bg-dark-700/80"),B=s(()=>c.value?"border-red-500/30 animate-pulse":u.value?"border-blue-500/30":d.value?"border-purple-500/30":""),p=s(()=>c.value?{icon:U,text:"Hot",class:"bg-gradient-to-r from-orange-500 to-red-500"}:u.value?{icon:Trending,text:"Trending",class:"bg-gradient-to-r from-blue-500 to-cyan-500"}:d.value?{icon:D,text:"Popular",class:"bg-gradient-to-r from-purple-500 to-pink-500"}:null),M=s(()=>{var o;return`flex items-center gap-1 px-2 py-0.5 text-xs font-bold text-white rounded-full shadow-lg ${((o=p.value)==null?void 0:o.class)||""}`}),N=s(()=>{const e="absolute -inset-1 blur-sm rounded-full";return c.value?`${e} bg-red-500/30`:u.value?`${e} bg-blue-500/30`:d.value?`${e} bg-purple-500/30`:""}),A=s(()=>{var e;return t.record.admin?"bg-purple-500/50":(e=t.record.user)!=null&&e.has_subscription?"bg-yellow-500/50":""}),I=s(()=>{var e;return t.record.admin?"ring-purple-500/50":(e=t.record.user)!=null&&e.has_subscription?"ring-yellow-500/50":"ring-gray-700"}),T=s(()=>{var e;return t.record.admin?"text-purple-400":(e=t.record.user)!=null&&e.has_subscription?"text-yellow-400":"text-blue-400"}),q=s(()=>t.record.views_count>=50?"text-purple-400":t.record.views_count>=20?"text-blue-400":"text-gray-400"),z=s(()=>t.record.comments_count>=5?"text-red-400":t.record.comments_count>=3?"text-orange-400":"text-gray-400"),E=s(()=>{var o;return{News:Z,Updates:J,Tournaments:W,Reviews:k,Battles:X}[(o=t.record.category)==null?void 0:o.name]||k}),G=s(()=>{var o;return{News:"bg-purple-500/20 text-purple-400",Updates:"bg-blue-500/20 text-blue-400",Tournaments:"bg-yellow-500/20 text-yellow-400",Reviews:"bg-green-500/20 text-green-400",Battles:"bg-red-500/20 text-red-400"}[(o=t.record.category)==null?void 0:o.name]||"bg-blue-500/20 text-blue-400"}),L=s(()=>{var e,o;return((e=t.record.admin)==null?void 0:e.avatar)||((o=t.record.user)==null?void 0:o.avatar)}),y=s(()=>{var e,o;return((e=t.record.admin)==null?void 0:e.full_name)||((o=t.record.user)==null?void 0:o.full_name)}),h=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString(),V=()=>{H.visit(route("news.view",t.record.slug))},$=e=>{e.stopPropagation(),window.open(route("gamedev.blog.edit",t.record.id),"_blank")};return(e,o)=>{var b;return l(),g("article",{class:a(["group relative bg-dark-800/80 rounded-lg transition-all duration-300 cursor-pointer overflow-hidden",S.value]),onClick:V},[c.value||u.value||d.value?(l(),g("div",{key:0,class:a(["absolute inset-0 border rounded-lg transition-all duration-300",B.value])},null,2)):m("",!0),p.value?(l(),g("div",Y,[r("div",ee,[r("div",{class:a(N.value)},null,2),r("span",{class:a(M.value)},[(l(),_(w(p.value.icon),{class:"w-3 h-3"})),v(" "+i(p.value.text),1)],2)])])):m("",!0),r("div",te,[r("div",re,[r("div",se,[P.value?(l(),g("div",{key:0,class:a(["absolute -inset-1 rounded-lg blur-sm",A.value])},null,2)):m("",!0),r("img",{src:L.value,alt:y.value,class:a(["relative w-14 h-14 rounded-lg object-cover ring-2",I.value])},null,10,oe)])]),r("div",ae,[r("div",ne,[r("h2",le,i(n.record.title),1),r("div",ie,[r("span",{class:a(["inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium shadow-lg",G.value])},[(l(),_(w(E.value),{class:"w-4 h-4"})),v(" "+i((b=n.record.category)==null?void 0:b.name),1)],2)])]),r("p",{class:"mt-1 text-gray-300 text-sm line-clamp-2",innerHTML:n.record.short_description},null,8,ce),r("div",ue,[r("div",de,[r("span",{class:a(["font-medium",T.value])},i(y.value),3),r("span",ge,i(n.record.created_at_human),1)]),r("div",pe,[r("div",{class:a(["flex items-center gap-1.5",q.value])},[x(f(K),{class:"w-4 h-4"}),v(" "+i(h(n.record.views_count||0)),1)],2),r("div",{class:a(["flex items-center gap-1.5",z.value])},[x(f(O),{class:"w-4 h-4"}),v(" "+i(h(n.record.comments_count||0)),1)],2)])])]),f(j)().props.isAdminAuth?(l(),g("button",{key:0,onClick:F($,["stop"]),class:"flex items-center gap-1.5 px-3 py-1.5 text-blue-400 hover:text-blue-300 hover:bg-dark-600 rounded-lg text-sm transition-colors"},[x(f(Q),{class:"w-4 h-4"}),o[0]||(o[0]=r("span",{class:"hidden sm:inline"},"Edit",-1))])):m("",!0)])],2)}}},Ce=R(me,[["__scopeId","data-v-c8e6f9e4"]]);export{Ce as P};
