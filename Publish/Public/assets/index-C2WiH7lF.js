import{a as d,v as yt,k as gt,H as _,b as P,w as N,o as a,d as t,e as c,u as m,l as O,t as i,x as v,D as k,g as n,z as h,F as x,y as R,ah as ht,n as xt,p as w,f as H,I as W}from"./index-WItOpbdS.js";import{_ as wt}from"./App-YzpOsBfZ.js";import{_ as kt,a as z}from"./Modal-koSbuhPx.js";import{_ as Ct}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as X}from"./circle-plus-CDlRviFK.js";import{U as St}from"./users-G5pHmbt7.js";import{D as Ut,L as Et,S as $t}from"./settings-BMSynf3N.js";import{C as Vt}from"./clock-CtJexj6H.js";import{B as G,S as jt}from"./square-pen-DT6EUZg-.js";import{S as Dt}from"./search-Cw9ASmoG.js";import{E as Mt}from"./eye-C6yT-mMt.js";import{K as At}from"./key-uG_gkCpc.js";import{R as It}from"./refresh-cw-Baqh8J4k.js";import{X as Pt}from"./x-D_G4-85w.js";import{T as Nt}from"./trash-2-jAQMw3jY.js";import"./FlashMessage-CHM72Nyp.js";import"./index-Dv4gq3Lz.js";import"./bell-Btq0QMyD.js";import"./createLucideIcon-B_m21LnD.js";import"./bell-off-7yGDgxWn.js";import"./trash-DWR5SLDJ.js";import"./circle-check-big-D4oY-uLV.js";import"./info-pjT6XQSI.js";import"./triangle-alert-WvWLgC-B.js";import"./history-DE24IReM.js";import"./arrow-right-DR4DXPKm.js";const Rt={class:"container mx-auto p-4"},Tt={class:"flex justify-between items-center mb-6"},Lt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8"},Ot={class:"card bg-base-100 shadow-lg"},zt={class:"card-body p-4"},Bt={class:"flex justify-between items-center"},qt={class:"text-3xl font-bold mt-2"},Ft={class:"card bg-base-100 shadow-lg"},Kt={class:"card-body p-4"},Yt={class:"flex justify-between items-center"},Ht={class:"text-3xl font-bold mt-2"},Wt={class:"card bg-base-100 shadow-lg"},Xt={class:"card-body p-4"},Gt={class:"flex justify-between items-center"},Jt={class:"text-3xl font-bold mt-2"},Qt={class:"card bg-base-100 shadow-lg"},Zt={class:"card-body p-4"},te={class:"flex justify-between items-center"},ee={class:"text-3xl font-bold mt-2"},se={class:"card bg-base-100 shadow-lg mb-6"},le={class:"card-body p-4"},ae={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ie=["value"],ne=["value"],oe={class:"relative"},re={class:"card bg-base-100 shadow-lg overflow-hidden"},ue={class:"overflow-x-auto"},de={class:"table table-zebra w-full"},ce={class:"flex items-center space-x-2"},me={class:"avatar placeholder"},pe={class:"bg-primary text-primary-content rounded-full w-8"},be={class:"font-bold"},ve={class:"text-sm opacity-50"},fe={class:"text-right"},_e={class:"flex justify-end space-x-1"},ye=["href"],ge=["onClick"],he=["onClick"],xe=["onClick"],we={key:0},ke={class:"p-4 flex justify-between items-center"},Ce=["disabled"],Se={class:"text-sm text-base-content/70"},Ue={class:"p-4"},Ee={class:"mb-4"},$e={class:"relative user-search-container"},Ve={key:0,class:"absolute z-10 w-full mt-1 bg-base-200 rounded-md shadow-lg max-h-60 overflow-auto"},je=["onClick"],De={class:"font-semibold"},Me={class:"text-sm opacity-70"},Ae={key:0,class:"mt-2 p-2 bg-base-200 rounded-md"},Ie={class:"flex items-center justify-between"},Pe={class:"font-semibold"},Ne={class:"text-sm opacity-70"},Re={class:"mb-4"},Te=["value"],Le={class:"mb-4"},Oe=["min"],ze={class:"mb-6"},Be={class:"flex items-center cursor-pointer"},qe={class:"flex justify-end space-x-2"},Fe=["disabled"],Ke={class:"p-4"},Ye={class:"mb-4"},He=["value"],We={class:"flex justify-end space-x-2"},Xe={class:"p-4"},Ge={class:"mb-4"},Je={class:"flex justify-between items-center mb-2"},Qe={class:"text-lg font-semibold"},Ze={class:"badge badge-primary ml-1"},ts={key:0,class:"flex justify-center py-8"},es={key:1},ss={class:"overflow-x-auto"},ls={class:"table table-zebra w-full"},as={class:"font-medium"},is={class:"text-xs opacity-70"},ns={key:0},os={key:1},rs={key:0},us={key:1},ds={key:2},cs={key:0},ms={key:1},ps={class:"flex space-x-1"},bs=["onClick"],vs=["onClick"],fs={key:0},_s={class:"mt-4"},ys={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gs=["value"],hs={class:"block text-sm font-medium mb-2"},xs={key:0},ws={key:1},ks=["disabled"],Cs={class:"flex items-end"},Ss={class:"flex items-center cursor-pointer"},Us={class:"flex justify-end mt-4"},Es=["disabled"],$s={class:"flex justify-end mt-6"},Vs={__name:"index",props:{stats:{type:Object,required:!0},subscriptions:{type:Array,required:!0},statuses:{type:Object,required:!0},plans:{type:Array,required:!0}},setup(g){const J=g,y=d({status:"",plan_id:"",search:"",page:1}),f=d(J.subscriptions||[]),B=d(0),V=d(!0),C=d(!1),S=d(!1),j=d(!1),p=d(null),D=d(""),U=d(""),M=d([]),E=d(!1),u=d({user:null,user_id:null,plan_id:"",start_date:new Date().toISOString().split("T")[0],auto_renew:!1}),T=d(!1),A=d([]),q=d([]),r=d({capability_id:"",restriction_type:"",usage_limit:10,is_unlimited:!1}),Q=yt(()=>new Date().toISOString().split("T")[0]);gt(()=>{document.addEventListener("click",Z),$(),mt()});function Z(s){s.target.closest(".user-search-container")||(E.value=!1)}function L(s){return s?new Date(s).toLocaleDateString():"N/A"}function F(s){return s==null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s)}function tt(s){return!s||!s.name?"?":s.name.split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase()}function et(s){return route("admin.store.subscriptions.show",s)}async function $(){try{y.value.page=1;const s=await _.get(route("admin.store.subscriptions.list"),{params:y.value});f.value=s.data.data,B.value=s.data.total,V.value=s.data.current_page<s.data.last_page}catch(s){console.error("Error loading subscriptions:",s)}}async function st(){if(V.value)try{y.value.page+=1;const s=await _.get(route("admin.store.subscriptions.list"),{params:y.value});f.value=[...f.value,...s.data.data],V.value=s.data.current_page<s.data.last_page}catch(s){console.error("Error loading more subscriptions:",s)}}function lt(){C.value=!0,u.value={user:null,user_id:null,plan_id:"",start_date:new Date().toISOString().split("T")[0],auto_renew:!1}}function at(s){p.value=s,D.value=s.status,S.value=!0}function it(s){p.value=s,j.value=!0,I(s.id)}async function nt(){if(U.value.length<2){M.value=[];return}try{const s=await _.get(route("admin.store.subscriptions.search-users"),{params:{search:U.value}});M.value=s.data,E.value=!0}catch(s){console.error("Error searching users:",s)}}function ot(s){u.value.user=s,u.value.user_id=s.id,U.value=s.name,E.value=!1}async function rt(){if(!(!u.value.user_id||!u.value.plan_id))try{const s=await _.post(route("admin.store.subscriptions.store"),u.value);f.value.unshift(s.data.subscription),C.value=!1,alert("Subscription created successfully"),u.value={user:null,user_id:null,plan_id:"",start_date:new Date().toISOString().split("T")[0],auto_renew:!1}}catch(s){console.error("Error creating subscription:",s),alert("Error creating subscription. Please check form inputs and try again.")}}async function ut(){if(p.value)try{const s=await _.put(route("admin.store.subscriptions.update-status",p.value.id),{status:D.value}),e=f.value.findIndex(l=>l.id===p.value.id);e!==-1&&(f.value[e]=s.data.subscription),S.value=!1,alert("Subscription status updated successfully")}catch(s){console.error("Error updating status:",s),alert("Error updating subscription status. Please try again.")}}function dt(s){confirm(`Are you sure you want to cancel the subscription for ${s.user.name}?`)&&ct(s)}async function ct(s){try{const e=await _.put(route("admin.store.subscriptions.cancel",s.id)),l=f.value.findIndex(b=>b.id===s.id);l!==-1&&(f.value[l]=e.data.subscription),alert("Subscription cancelled successfully")}catch(e){console.error("Error cancelling subscription:",e),alert("Error cancelling subscription. Please try again.")}}async function mt(){try{const s=await _.get(route("admin.store.capabilities.list"));q.value=s.data}catch(s){console.error("Error loading capabilities:",s)}}async function I(s){T.value=!0;try{const e=await _.get(route("admin.store.capabilities.user",s));A.value=e.data}catch(e){console.error("Error loading user capabilities:",e),A.value=[]}finally{T.value=!1}}async function pt(){if(!(!p.value||!r.value.capability_id))try{const s={subscription_id:p.value.id,capability_id:r.value.capability_id,restriction_type:r.value.restriction_type,usage_limit:r.value.is_unlimited?0:r.value.usage_limit,is_unlimited:r.value.is_unlimited};await _.post(route("admin.store.capabilities.add"),s),await I(p.value.id),r.value={capability_id:"",restriction_type:"",usage_limit:10,is_unlimited:!1},alert("Capability added successfully")}catch(s){console.error("Error adding capability:",s),alert("Error adding capability. Please try again.")}}async function bt(s){if(p.value&&confirm(`Are you sure you want to remove the "${s.name}" capability?`))try{await _.delete(route("admin.store.capabilities.remove",s.id),{data:{subscription_id:p.value.id}}),await I(p.value.id),alert("Capability removed successfully")}catch(e){console.error("Error removing capability:",e),alert("Error removing capability. Please try again.")}}function vt(s){const e=prompt(`Adjust ${s.restriction_type==="credits"?"remaining credits":"usage count"} for ${s.name}:`,s.restriction_type==="credits"?s.remaining_credits:s.usage_count);if(e===null)return;const l=parseInt(e);if(isNaN(l)||l<0){alert("Please enter a valid non-negative number");return}ft(s,l)}async function ft(s,e){try{const l={subscription_id:p.value.id,usage_count:e,is_unlimited:s.is_unlimited};await _.put(route("admin.store.capabilities.update",s.id),l),await I(p.value.id),alert("Capability updated successfully")}catch(l){console.error("Error updating capability:",l),alert("Error updating capability. Please try again.")}}return(s,e)=>(a(),P(wt,null,{default:N(()=>[t("div",Rt,[t("div",Tt,[e[21]||(e[21]=t("h1",{class:"text-2xl font-bold"},"Subscription Management",-1)),t("button",{onClick:lt,class:"btn btn-primary"},[c(m(X),{class:"w-5 h-5 mr-2"}),e[20]||(e[20]=O(" Add Subscription "))])]),t("div",Lt,[t("div",Ot,[t("div",zt,[t("div",Bt,[e[22]||(e[22]=t("h3",{class:"text-base-content/70 font-semibold"},"Active Subscriptions",-1)),c(m(St),{class:"w-6 h-6 text-primary"})]),t("p",qt,i(g.stats.active_count),1)])]),t("div",Ft,[t("div",Kt,[t("div",Yt,[e[23]||(e[23]=t("h3",{class:"text-base-content/70 font-semibold"},"Total Revenue",-1)),c(m(Ut),{class:"w-6 h-6 text-success"})]),t("p",Ht,i(F(g.stats.total_revenue)),1)])]),t("div",Wt,[t("div",Xt,[t("div",Gt,[e[24]||(e[24]=t("h3",{class:"text-base-content/70 font-semibold"},"Expiring Soon",-1)),c(m(Vt),{class:"w-6 h-6 text-warning"})]),t("p",Jt,i(g.stats.expiring_soon),1)])]),t("div",Qt,[t("div",Zt,[t("div",te,[e[25]||(e[25]=t("h3",{class:"text-base-content/70 font-semibold"},"Cancelled",-1)),c(m(G),{class:"w-6 h-6 text-error"})]),t("p",ee,i(g.stats.by_status.cancelled||0),1)])])]),t("div",se,[t("div",le,[e[31]||(e[31]=t("h3",{class:"card-title mb-3"},"Filter Subscriptions",-1)),t("div",ae,[t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium mb-1"},"Status",-1)),v(t("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>y.value.status=l),class:"select select-bordered w-full",onChange:$},[e[26]||(e[26]=t("option",{value:""},"All Statuses",-1)),(a(!0),n(x,null,h(g.statuses,(l,b)=>(a(),n("option",{key:b,value:b},i(l),9,ie))),128))],544),[[k,y.value.status]])]),t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium mb-1"},"Plan",-1)),v(t("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>y.value.plan_id=l),class:"select select-bordered w-full",onChange:$},[e[28]||(e[28]=t("option",{value:""},"All Plans",-1)),(a(!0),n(x,null,h(g.plans,l=>(a(),n("option",{key:l.id,value:l.id},i(l.name),9,ne))),128))],544),[[k,y.value.plan_id]])]),t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium mb-1"},"Search",-1)),t("div",oe,[v(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>y.value.search=l),type:"text",class:"input input-bordered w-full pr-10",placeholder:"Search users...",onKeyup:ht($,["enter"])},null,544),[[R,y.value.search]]),t("button",{class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-base-content/50",onClick:$},[c(m(Dt),{class:"w-5 h-5"})])])])])])]),t("div",re,[t("div",ue,[t("table",de,[e[33]||(e[33]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"User"),t("th",null,"Plan"),t("th",null,"Start Date"),t("th",null,"End Date"),t("th",null,"Status"),t("th",null,"Auto Renew"),t("th",{class:"text-right"},"Actions")])],-1)),t("tbody",null,[(a(!0),n(x,null,h(f.value,l=>(a(),n("tr",{key:l.id},[t("td",null,i(l.id),1),t("td",null,[t("div",ce,[t("div",me,[t("div",pe,[t("span",null,i(tt(l.user)),1)])]),t("div",null,[t("div",be,i(l.user.name),1),t("div",ve,i(l.user.email),1)])])]),t("td",null,i(l.plan.name),1),t("td",null,i(L(l.start_date)),1),t("td",null,i(L(l.end_date)),1),t("td",null,[c(kt,{status:l.status},null,8,["status"])]),t("td",null,[t("div",{class:xt(["badge",l.auto_renew?"badge-success":"badge-error"])},i(l.auto_renew?"Yes":"No"),3)]),t("td",fe,[t("div",_e,[t("a",{href:et(l.id),class:"btn btn-sm btn-info"},[c(m(Mt),{class:"w-4 h-4"})],8,ye),t("button",{onClick:b=>it(l),class:"btn btn-sm btn-primary"},[c(m(At),{class:"w-4 h-4"})],8,ge),t("button",{onClick:b=>at(l),class:"btn btn-sm btn-warning"},[c(m(jt),{class:"w-4 h-4"})],8,he),l.status!=="cancelled"?(a(),n("button",{key:0,onClick:b=>dt(l),class:"btn btn-sm btn-error"},[c(m(G),{class:"w-4 h-4"})],8,xe)):w("",!0)])])]))),128)),f.value.length===0?(a(),n("tr",we,e[32]||(e[32]=[t("td",{colspan:"8",class:"text-center py-8"},"No subscriptions found",-1)]))):w("",!0)])])]),t("div",ke,[t("button",{onClick:st,class:"btn btn-ghost",disabled:!V.value},[c(m(It),{class:"w-5 h-5 mr-2"}),e[34]||(e[34]=O(" Load More "))],8,Ce),t("span",Se," Showing "+i(f.value.length)+" of "+i(B.value)+" subscriptions ",1)])])]),C.value?(a(),P(z,{key:0,onClose:e[10]||(e[10]=l=>C.value=!1),title:"Create New Subscription"},{default:N(()=>[t("div",Ue,[t("form",{onSubmit:H(rt,["prevent"])},[t("div",Ee,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium mb-2"},"User",-1)),t("div",$e,[v(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>U.value=l),type:"text",class:"input input-bordered w-full",placeholder:"Search for user...",onInput:nt,onFocus:e[4]||(e[4]=l=>E.value=!0)},null,544),[[R,U.value]]),E.value&&M.value.length>0?(a(),n("div",Ve,[(a(!0),n(x,null,h(M.value,l=>(a(),n("div",{key:l.id,class:"p-2 hover:bg-base-300 cursor-pointer",onClick:b=>ot(l)},[t("div",De,i(l.name),1),t("div",Me,i(l.email),1)],8,je))),128))])):w("",!0)]),u.value.user?(a(),n("div",Ae,[t("div",Ie,[t("div",null,[t("div",Pe,i(u.value.user.name),1),t("div",Ne,i(u.value.user.email),1)]),t("button",{type:"button",class:"text-error",onClick:e[5]||(e[5]=l=>u.value.user=null)},[c(m(Pt),{class:"w-4 h-4"})])])])):w("",!0)]),t("div",Re,[e[37]||(e[37]=t("label",{class:"block text-sm font-medium mb-2"},"Plan",-1)),v(t("select",{"onUpdate:modelValue":e[6]||(e[6]=l=>u.value.plan_id=l),class:"select select-bordered w-full"},[e[36]||(e[36]=t("option",{value:"",disabled:""},"Select a plan",-1)),(a(!0),n(x,null,h(g.plans,l=>(a(),n("option",{key:l.id,value:l.id},i(l.name)+" - "+i(F(l.price)),9,Te))),128))],512),[[k,u.value.plan_id]])]),t("div",Le,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium mb-2"},"Start Date",-1)),v(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>u.value.start_date=l),type:"date",class:"input input-bordered w-full",min:Q.value},null,8,Oe),[[R,u.value.start_date]])]),t("div",ze,[t("label",Be,[v(t("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>u.value.auto_renew=l),type:"checkbox",class:"checkbox checkbox-primary mr-2"},null,512),[[W,u.value.auto_renew]]),e[39]||(e[39]=t("span",{class:"label-text"},"Auto Renew",-1))])]),t("div",qe,[t("button",{type:"button",class:"btn btn-ghost",onClick:e[9]||(e[9]=l=>C.value=!1)}," Cancel "),t("button",{type:"submit",class:"btn btn-primary",disabled:!u.value.user||!u.value.plan_id}," Create Subscription ",8,Fe)])],32)])]),_:1})):w("",!0),S.value?(a(),P(z,{key:1,onClose:e[13]||(e[13]=l=>S.value=!1),title:"Update Subscription Status"},{default:N(()=>[t("div",Ke,[t("form",{onSubmit:H(ut,["prevent"])},[t("div",Ye,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium mb-2"},"Status",-1)),v(t("select",{"onUpdate:modelValue":e[11]||(e[11]=l=>D.value=l),class:"select select-bordered w-full"},[(a(!0),n(x,null,h(g.statuses,(l,b)=>(a(),n("option",{key:b,value:b},i(l),9,He))),128))],512),[[k,D.value]])]),t("div",We,[t("button",{type:"button",class:"btn btn-ghost",onClick:e[12]||(e[12]=l=>S.value=!1)}," Cancel "),e[41]||(e[41]=t("button",{type:"submit",class:"btn btn-primary"},"Update Status",-1))])],32)])]),_:1})):w("",!0),j.value?(a(),P(z,{key:2,onClose:e[19]||(e[19]=l=>j.value=!1),title:"Manage User Capabilities",size:"2xl"},{default:N(()=>{var l,b,K,Y;return[t("div",Xe,[t("div",Ge,[t("div",Je,[t("h4",Qe," Capabilities for "+i(((b=(l=p.value)==null?void 0:l.user)==null?void 0:b.name)||"User"),1),t("div",null,[e[42]||(e[42]=t("span",{class:"text-sm font-medium"},"Plan:",-1)),t("span",Ze,i((Y=(K=p.value)==null?void 0:K.plan)==null?void 0:Y.name),1)])]),e[43]||(e[43]=t("p",{class:"text-sm mb-4"}," Manage the capabilities available to this user based on their subscription plan. ",-1))]),T.value?(a(),n("div",ts,[c(m(Et),{class:"w-8 h-8 animate-spin text-primary"})])):(a(),n("div",es,[t("div",ss,[e[46]||(e[46]=t("h4",{class:"font-semibold mb-2"},"Current Capabilities",-1)),t("table",ls,[e[45]||(e[45]=t("thead",null,[t("tr",null,[t("th",null,"Capability"),t("th",null,"Usage Limit"),t("th",null,"Used"),t("th",null,"Remaining"),t("th",null,"Reset"),t("th",null,"Actions")])],-1)),t("tbody",null,[(a(!0),n(x,null,h(A.value,o=>(a(),n("tr",{key:o.id},[t("td",null,[t("div",as,i(o.name),1),t("div",is,i(o.description),1)]),t("td",null,[o.is_unlimited?(a(),n("span",ns,"Unlimited")):(a(),n("span",os,i(o.usage_limit),1))]),t("td",null,i(o.usage_count),1),t("td",null,[o.is_unlimited?(a(),n("span",rs,"∞")):o.restriction_type==="credits"?(a(),n("span",us,i(o.remaining_credits),1)):(a(),n("span",ds,i(o.usage_limit-o.usage_count),1))]),t("td",null,[o.next_reset?(a(),n("span",cs,i(L(o.next_reset)),1)):(a(),n("span",ms,"—"))]),t("td",null,[t("div",ps,[t("button",{onClick:_t=>vt(o),class:"btn btn-xs btn-primary"},[c(m($t),{class:"w-3 h-3"})],8,bs),t("button",{onClick:_t=>bt(o),class:"btn btn-xs btn-error"},[c(m(Nt),{class:"w-3 h-3"})],8,vs)])])]))),128)),A.value.length===0?(a(),n("tr",fs,e[44]||(e[44]=[t("td",{colspan:"6",class:"text-center py-4"}," No capabilities assigned to this user ",-1)]))):w("",!0)])])]),e[54]||(e[54]=t("div",{class:"divider"},null,-1)),t("div",_s,[e[53]||(e[53]=t("h4",{class:"font-semibold mb-2"},"Add Capability",-1)),t("div",ys,[t("div",null,[e[48]||(e[48]=t("label",{class:"block text-sm font-medium mb-2"},"Capability",-1)),v(t("select",{"onUpdate:modelValue":e[14]||(e[14]=o=>r.value.capability_id=o),class:"select select-bordered w-full"},[e[47]||(e[47]=t("option",{value:"",disabled:""},"Select a capability",-1)),(a(!0),n(x,null,h(q.value,o=>(a(),n("option",{key:o.id,value:o.id},i(o.name),9,gs))),128))],512),[[k,r.value.capability_id]])]),t("div",null,[e[50]||(e[50]=t("label",{class:"block text-sm font-medium mb-2"},"Restriction Type",-1)),v(t("select",{"onUpdate:modelValue":e[15]||(e[15]=o=>r.value.restriction_type=o),class:"select select-bordered w-full"},e[49]||(e[49]=[t("option",{value:"",disabled:""},"Select type",-1),t("option",{value:"daily"},"Daily",-1),t("option",{value:"weekly"},"Weekly",-1),t("option",{value:"monthly"},"Monthly",-1),t("option",{value:"yearly"},"Yearly",-1),t("option",{value:"lifetime"},"Lifetime",-1),t("option",{value:"credits"},"Credits",-1)]),512),[[k,r.value.restriction_type]])]),t("div",null,[t("label",hs,[r.value.restriction_type==="credits"?(a(),n("span",xs,"Initial Credits")):(a(),n("span",ws,"Usage Limit"))]),v(t("input",{"onUpdate:modelValue":e[16]||(e[16]=o=>r.value.usage_limit=o),type:"number",min:"1",class:"input input-bordered w-full",disabled:r.value.is_unlimited},null,8,ks),[[R,r.value.usage_limit,void 0,{number:!0}]])]),t("div",Cs,[t("label",Ss,[v(t("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>r.value.is_unlimited=o),type:"checkbox",class:"checkbox checkbox-primary mr-2"},null,512),[[W,r.value.is_unlimited]]),e[51]||(e[51]=t("span",{class:"label-text"},"Unlimited Usage",-1))])])]),t("div",Us,[t("button",{onClick:pt,class:"btn btn-primary",disabled:!r.value.capability_id||!r.value.is_unlimited&&!r.value.usage_limit},[c(m(X),{class:"w-4 h-4 mr-2"}),e[52]||(e[52]=O(" Add Capability "))],8,Es)])])])),t("div",$s,[t("button",{type:"button",class:"btn",onClick:e[18]||(e[18]=o=>j.value=!1)}," Close ")])])]}),_:1})):w("",!0)]),_:1}))}},sl=Ct(Vs,[["__scopeId","data-v-0a5eaf85"]]);export{sl as default};
