import{_ as z,T as A}from"./App.vue_vue_type_script_setup_true_lang-e7398c06.js";import{C as E,_ as O}from"./CommentBox-0d4f4da9.js";import{U as R}from"./UserProfile-50609df5.js";import{M as j}from"./CommentsSingle.vue_vue_type_style_index_0_scoped_d9c21e0c_lang-4be19a88.js";import{_ as q,L as H}from"./PostBox-b89fa790.js";import{z as G,o as i,b as g,w as h,d as t,e as n,u as v,q as p,t as d,x as J,s as f,g as r,y as k,F as x,I as K,k as Q}from"./preset-b90b9b08.js";import{C as W}from"./clock-83e0ad33.js";import{M as X}from"./SearchSidebar-10a1abc7.js";import{c as Y}from"./createLucideIcon-c54a04d6.js";import"./FlashMessage-65cf7e3b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./x-b0b4ae59.js";import"./triangle-alert-9a3c06c5.js";import"./shield-check-f2627ceb.js";import"./index.esm-b2918197.js";import"./ReusableModal-78d0db42.js";import"./transition-c810ac22.js";import"./focus-management-bfa3f621.js";import"./keyboard-8b566b5e.js";import"./hidden-a6a905be.js";import"./open-closed-def677aa.js";import"./user-5bde1ce3.js";import"./Frontend_js-86197d23.js";import"./mail-6312a372.js";import"./info-b159d59c.js";import"./gamepad-2-08d13ba1.js";import"./house-95b711b1.js";import"./book-open-45bfbf31.js";import"./crown-9f36e625.js";import"./lock-e84a1f43.js";import"./send-01c9abcb.js";import"./arrow-left-44d4d084.js";import"./shield-179861bc.js";import"./key-6e09cf1f.js";import"./axios-0c773085.js";import"./Money-0f722979.js";import"./check-dfbbe6ec.js";import"./download-4347e100.js";import"./message-circle-78d7a2a9.js";import"./SeoManager-c70493bc.js";import"./dark-7de1eebc.js";import"./globe-e589eb89.js";import"./CommentsSingle-ff6e845d.js";import"./pen-a0648bf7.js";import"./folder-open-c10cad14.js";import"./chevron-down-f54a1641.js";import"./database-27e0aefd.js";import"./code-0ce16765.js";import"./dynamicIcon.vue_vue_type_script_setup_true_lang-4bfb852c.js";/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=Y("FacebookIcon",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);const tt={class:"relative min-h-[40vh] flex items-center"},et={class:"relative container mx-auto px-4 py-16"},ot={class:"flex items-center gap-3 text-sm text-gray-400 mb-4"},st={class:"flex items-center gap-1.5"},at={class:"flex items-center gap-1.5"},it={class:"text-4xl md:text-5xl font-bold text-white max-w-4xl"},rt={class:"mt-8 flex items-center gap-4"},lt=["src","alt"],nt={class:"font-medium text-white"},dt={class:"bg-dark-200"},ct={class:"container mx-auto px-4 py-12"},mt={class:"grid grid-cols-1 lg:grid-cols-12 gap-8"},ut={class:"lg:col-span-8"},bt={class:"relative overflow-hidden"},pt={class:"relative p-8"},gt={class:"prose prose-invert max-w-none"},ht={class:"mt-8 pt-8 border-t border-dark-400/50"},vt={class:"flex flex-wrap gap-2"},ft={class:"mt-8 pt-8 border-t border-dark-400/50"},kt={class:"flex gap-2"},xt=["onClick","title"],wt={class:"mt-8"},yt={class:"lg:col-span-4 space-y-6"},_t={class:"relative overflow-hidden"},Pt={class:"relative p-6"},Ct={key:0},It={key:1},Lt={key:0,class:"relative overflow-hidden sticky top-4"},Dt={class:"relative p-6"},Ft={class:"space-y-2"},St=["href"],Ie={__name:"View",props:{blogPost:{type:Object,required:!0}},setup(o){const w=o,y=G(()=>{const s=[],e=w.blogPost.data.content,m=/<h([1-2])[^>]*>(.*?)<\/h[1-2]>/g;let l;for(;(l=m.exec(e))!==null;){const u=parseInt(l[1]),c=l[2].replace(/<[^>]+>/g,""),b=c.toLowerCase().replace(/[^a-z0-9]+/g,"-");s.push({level:u,text:c,id:b})}return s}),U=[{label:"Share on Twitter",icon:A,onClick:()=>$()},{label:"Share on Facebook",icon:Z,onClick:()=>B()},{label:"Copy Link",icon:H,onClick:()=>M()}],V=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),$=()=>{const s=encodeURIComponent(w.blogPost.data.title),e=encodeURIComponent(window.location.href);window.open(`https://twitter.com/intent/tweet?text=${s}&url=${e}`,"_blank")},B=()=>{const s=encodeURIComponent(window.location.href);window.open(`https://www.facebook.com/sharer/sharer.php?u=${s}`,"_blank")},M=async()=>{try{await navigator.clipboard.writeText(window.location.href)}catch{console.error("Failed to copy link")}};return(s,e)=>(i(),g(z,{backgroundFooterClass:"bg-dark-100",headerBackground:"bg-dark-100"},{default:h(()=>{var m,l,u,c,b,_,P,C,I,L,D,F,S,T;return[t("section",tt,[e[3]||(e[3]=t("div",{class:"absolute inset-0 bg-dark-200 overflow-hidden"},[t("div",{class:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-purple-500/5"}),t("div",{class:"absolute inset-0 bg-[url('/grid.svg')] opacity-5"}),t("div",{class:"absolute inset-0 bg-gradient-to-t from-dark-200 to-transparent"})],-1)),t("div",et,[t("div",ot,[t("time",st,[n(v(W),{class:"w-4 h-4"}),p(" "+d(V(o.blogPost.data.created_at)),1)]),e[1]||(e[1]=t("span",{class:"w-1 h-1 rounded-full bg-gray-700"},null,-1)),t("span",at,[n(v(X),{class:"w-4 h-4"}),p(" "+d(o.blogPost.data.comments_count||0)+" comments ",1)])]),t("h1",it,d(o.blogPost.data.title),1),t("div",rt,[t("img",{src:((m=o.blogPost.data.user)==null?void 0:m.avatar)||((l=o.blogPost.data.admin)==null?void 0:l.avatar),alt:((u=o.blogPost.data.user)==null?void 0:u.full_name)||((c=o.blogPost.data.admin)==null?void 0:c.full_name),class:"w-12 h-12 rounded-lg object-cover"},null,8,lt),t("div",null,[t("div",nt,d(((b=o.blogPost.data.user)==null?void 0:b.full_name)||((_=o.blogPost.data.admin)==null?void 0:_.full_name)),1),e[2]||(e[2]=t("div",{class:"text-sm text-gray-400"},"Author",-1))])])])]),t("section",dt,[t("div",ct,[t("div",mt,[t("div",ut,[t("article",bt,[e[6]||(e[6]=t("div",{class:"absolute inset-0 bg-dark-300/50 backdrop-blur-sm border border-dark-400/50 rounded-xl"},null,-1)),t("div",pt,[t("div",gt,[n(j,{content:o.blogPost.data.content,enableHtmlParsing:!!((P=o.blogPost.data.admin)!=null&&P.id)},null,8,["content","enableHtmlParsing"]),!((I=(C=o.blogPost.data)==null?void 0:C.admin)!=null&&I.id)&&((F=(D=(L=v(J)().props)==null?void 0:L.authUserInfo)==null?void 0:D.data)==null?void 0:F.id)===((T=(S=o.blogPost.data)==null?void 0:S.user)==null?void 0:T.id)?(i(),g(q,{key:0,categories:s.categories,"post-btn-class":"w-full btn btn-primary",onDisplayLogin:e[0]||(e[0]=a=>s.displayLogin=!0),topitEdit:o.blogPost.data},{default:h(()=>e[4]||(e[4]=[p(" Edit ")])),_:1},8,["categories","topitEdit"])):f("",!0)]),t("div",ht,[t("div",vt,[(i(),r(x,null,k(["Gaming","Tutorial","News"],a=>t("span",{key:a,class:"px-3 py-1 bg-dark-400/50 rounded-full text-sm text-gray-300"},d(a),1)),64))])]),t("div",ft,[e[5]||(e[5]=t("h3",{class:"text-lg font-medium text-white mb-4"},"Share this article",-1)),t("div",kt,[(i(),r(x,null,k(U,a=>t("button",{key:a.label,onClick:a.onClick,class:"p-2 bg-dark-400/50 hover:bg-dark-400 rounded-lg transition-colors",title:a.label},[(i(),g(K(a.icon),{class:"w-5 h-5 text-gray-400"}))],8,xt)),64))])])])]),t("div",wt,[n(E,{modelId:o.blogPost.data.id,modelClass:"blog"},{default:h(()=>e[7]||(e[7]=[p(" Discussion ")])),_:1},8,["modelId"])])]),t("aside",yt,[t("div",_t,[e[9]||(e[9]=t("div",{class:"absolute inset-0 bg-dark-300/50 backdrop-blur-sm border border-dark-400/50 rounded-xl"},null,-1)),t("div",Pt,[e[8]||(e[8]=t("h3",{class:"text-lg font-medium text-white mb-4"},"About the Author",-1)),o.blogPost.data.admin?(i(),r("div",Ct,[n(O,{admin:o.blogPost.data.admin},null,8,["admin"])])):o.blogPost.data.user?(i(),r("div",It,[n(R,{user:o.blogPost.data.user},null,8,["user"])])):f("",!0)])]),y.value.length?(i(),r("div",Lt,[e[11]||(e[11]=t("div",{class:"absolute inset-0 bg-dark-300/50 backdrop-blur-sm border border-dark-400/50 rounded-xl"},null,-1)),t("div",Dt,[e[10]||(e[10]=t("h3",{class:"text-lg font-medium text-white mb-4"},"Table of Contents",-1)),t("nav",Ft,[(i(!0),r(x,null,k(y.value,(a,N)=>(i(),r("a",{key:N,href:"#"+a.id,class:Q(["block text-gray-400 hover:text-blue-400 transition-colors",{"pl-4":a.level===2}])},d(a.text),11,St))),128))])])])):f("",!0)])])])])]}),_:1}))}};export{Ie as default};
