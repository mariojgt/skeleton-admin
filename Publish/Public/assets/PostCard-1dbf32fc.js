import{z as s,o as l,g,k as a,s as v,d as r,b as w,I as k,q as x,t as c,e as f,u as y,x as $,f as F,G as H}from"./preset-b90b9b08.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import{c as p}from"./createLucideIcon-c54a04d6.js";import{S as U,N as D}from"./App.vue_vue_type_script_setup_true_lang-981287be.js";import{G as C}from"./gamepad-2-08d13ba1.js";import{E as Z}from"./shield-check-f2627ceb.js";import{M as K}from"./SearchSidebar-1f02728d.js";/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=p("FlameIcon",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=p("MedalIcon",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=p("PenIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=p("SwordsIcon",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=p("ZapIcon",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);const Y={key:1,class:"absolute -top-1 -right-1 z-10"},ee={class:"relative"},te={class:"relative flex gap-4 p-4"},re={class:"flex-shrink-0 w-14"},se={class:"relative"},oe=["src","alt"],ae={class:"flex-1 min-w-0"},ne={class:"flex items-start justify-between gap-4"},le={class:"text-lg font-bold text-white group-hover:text-blue-400 transition-colors line-clamp-1"},ce={class:"flex-shrink-0"},ie=["innerHTML"],ue={class:"mt-3 flex items-center gap-4 text-sm"},de={class:"flex items-center gap-2"},ge={class:"text-gray-500"},pe={class:"flex items-center gap-3"},me={__name:"PostCard",props:{record:{type:Object,required:!0}},setup(n){const t=n,i=s(()=>(t.record.comments_count||0)>=5),u=s(()=>(t.record.views_count||0)>=20),d=s(()=>(t.record.views_count||0)>=50),M=s(()=>{var e;return t.record.admin||((e=t.record.user)==null?void 0:e.has_subscription)}),A=s(()=>i.value||u.value||d.value?"hover:bg-dark-700/90":"hover:bg-dark-700/80"),P=s(()=>i.value?"border-red-500/30 animate-pulse":u.value?"border-blue-500/30":d.value?"border-purple-500/30":""),m=s(()=>i.value?{icon:O,text:"Hot",class:"bg-gradient-to-r from-orange-500 to-red-500"}:u.value?{icon:Trending,text:"Trending",class:"bg-gradient-to-r from-blue-500 to-cyan-500"}:d.value?{icon:U,text:"Popular",class:"bg-gradient-to-r from-purple-500 to-pink-500"}:null),S=s(()=>{var o;return`flex items-center gap-1 px-2 py-0.5 text-xs font-bold text-white rounded-full shadow-lg ${((o=m.value)==null?void 0:o.class)||""}`}),B=s(()=>{const e="absolute -inset-1 blur-sm rounded-full";return i.value?`${e} bg-red-500/30`:u.value?`${e} bg-blue-500/30`:d.value?`${e} bg-purple-500/30`:""}),I=s(()=>{var e;return t.record.admin?"bg-purple-500/50":(e=t.record.user)!=null&&e.has_subscription?"bg-yellow-500/50":""}),N=s(()=>{var e;return t.record.admin?"ring-purple-500/50":(e=t.record.user)!=null&&e.has_subscription?"ring-yellow-500/50":"ring-gray-700"}),z=s(()=>{var e;return t.record.admin?"text-purple-400":(e=t.record.user)!=null&&e.has_subscription?"text-yellow-400":"text-blue-400"}),q=s(()=>t.record.views_count>=50?"text-purple-400":t.record.views_count>=20?"text-blue-400":"text-gray-400"),T=s(()=>t.record.comments_count>=5?"text-red-400":t.record.comments_count>=3?"text-orange-400":"text-gray-400"),E=s(()=>{var o;return{News:D,Updates:X,Tournaments:J,Reviews:C,Battles:W}[(o=t.record.category)==null?void 0:o.name]||C}),G=s(()=>{var o;return{News:"bg-purple-500/20 text-purple-400",Updates:"bg-blue-500/20 text-blue-400",Tournaments:"bg-yellow-500/20 text-yellow-400",Reviews:"bg-green-500/20 text-green-400",Battles:"bg-red-500/20 text-red-400"}[(o=t.record.category)==null?void 0:o.name]||"bg-blue-500/20 text-blue-400"}),L=s(()=>{var e,o;return((e=t.record.admin)==null?void 0:e.avatar)||((o=t.record.user)==null?void 0:o.avatar)}),h=s(()=>{var e,o;return((e=t.record.admin)==null?void 0:e.full_name)||((o=t.record.user)==null?void 0:o.full_name)}),b=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString(),j=()=>{H.visit(route("news.view",t.record.slug))},V=e=>{e.stopPropagation(),window.open(route("gamedev.blog.edit",t.record.id),"_blank")};return(e,o)=>{var _;return l(),g("article",{class:a(["group relative bg-dark-800/80 rounded-lg transition-all duration-300 cursor-pointer overflow-hidden",A.value]),onClick:j},[i.value||u.value||d.value?(l(),g("div",{key:0,class:a(["absolute inset-0 border rounded-lg transition-all duration-300",P.value])},null,2)):v("",!0),m.value?(l(),g("div",Y,[r("div",ee,[r("div",{class:a(B.value)},null,2),r("span",{class:a(S.value)},[(l(),w(k(m.value.icon),{class:"w-3 h-3"})),x(" "+c(m.value.text),1)],2)])])):v("",!0),r("div",te,[r("div",re,[r("div",se,[M.value?(l(),g("div",{key:0,class:a(["absolute -inset-1 rounded-lg blur-sm",I.value])},null,2)):v("",!0),r("img",{src:L.value,alt:h.value,class:a(["relative w-14 h-14 rounded-lg object-cover ring-2",N.value])},null,10,oe)])]),r("div",ae,[r("div",ne,[r("h2",le,c(n.record.title),1),r("div",ce,[r("span",{class:a(["inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium shadow-lg",G.value])},[(l(),w(k(E.value),{class:"w-4 h-4"})),x(" "+c((_=n.record.category)==null?void 0:_.name),1)],2)])]),r("p",{class:"mt-1 text-gray-300 text-sm line-clamp-2",innerHTML:n.record.short_description},null,8,ie),r("div",ue,[r("div",de,[r("span",{class:a(["font-medium",z.value])},c(h.value),3),r("span",ge,c(n.record.created_at_human),1)]),r("div",pe,[r("div",{class:a(["flex items-center gap-1.5",q.value])},[f(y(Z),{class:"w-4 h-4"}),x(" "+c(b(n.record.views_count||0)),1)],2),r("div",{class:a(["flex items-center gap-1.5",T.value])},[f(y(K),{class:"w-4 h-4"}),x(" "+c(b(n.record.comments_count||0)),1)],2)])])]),y($)().props.isAdminAuth?(l(),g("button",{key:0,onClick:F(V,["stop"]),class:"flex items-center gap-1.5 px-3 py-1.5 text-blue-400 hover:text-blue-300 hover:bg-dark-600 rounded-lg text-sm transition-colors"},[f(y(Q),{class:"w-4 h-4"}),o[0]||(o[0]=r("span",{class:"hidden sm:inline"},"Edit",-1))])):v("",!0)])],2)}}},we=R(me,[["__scopeId","data-v-c8e6f9e4"]]);export{we as P};
