import{d7 as Le,d8 as ae,d9 as _e,v as J,a as L,z as F,A as K,m as ce,B as Te,o,g as n,d as e,k as I,t as M,b as R,I as Y,u as d,F as T,j as Q,y as j,f as ee,s as O,e as _,w as W,$ as xe,C as G,da as He,be as Ue,D as q,E as pe,q as ke,H as te,bZ as re,J as ie,bT as je,X as Be,l as Fe,c0 as Pe}from"./preset-7017bb8f.js";/* empty css                                                                         */import{_ as le}from"./_plugin-vue_export-helper-c27b6911.js";import{I as X}from"./Input-c2e1c77a.js";import{Q as $e,m as me,T as Ie}from"./Input.vue_vue_type_style_index_0_scoped_245929fe_lang-4c922919.js";import{_ as Oe}from"./Password-362819b7.js";import{_ as Ae}from"./Select.vue_vue_type_script_setup_true_lang-eb3fe0a9.js";import{_ as Ee}from"./Image.vue_vue_type_script_setup_true_lang-49b96424.js";import{_ as fe}from"./TextMultipleSelector-bfbbc4dc.js";import{_ as ve}from"./Toggle-34de7bcd.js";import{_ as ze}from"./Chips.vue_vue_type_script_setup_true_lang-96b3c604.js";import{p as Z}from"./purify.es-851ec8c9.js";import{F as Re,A as Ke}from"./file-code-d9b467a7.js";import{b as qe}from"./trash-0b85e424.js";import{B as ue,I as ge,U as We,S as Ne,L as he,Q as ye,a as Ce,b as Ye,A as Qe,c as Je,d as Ge,e as Xe,C as Ze,F as et,f as tt,R as lt}from"./underline-82abe2d4.js";import{C as be}from"./code-e1b05dc8.js";import{E as ot}from"./eye-9d0667e3.js";import{C as st}from"./calendar-6a5e51dd.js";import{C as at}from"./chevron-down-d5e92fbd.js";import{C as nt}from"./chevron-right-e1740d8d.js";import{Q as Ve,V as Me,N as De}from"./disclosure-7fe5c5a1.js";import{S as we}from"./search-f7e29ec3.js";function rt(y){return Le(y,Date.now())}function it(y){const w=ae(y),p=w.getMonth();return w.setFullYear(w.getFullYear(),p+1,0),w.setHours(23,59,59,999),w}function dt(y,w){const p=ae(y.start),m=ae(y.end);let t=+p>+m;const h=t?+p:+m,f=t?m:p;f.setHours(0,0,0,0);let i=(w==null?void 0:w.step)??1;if(!i)return[];i<0&&(i=-i,t=!t);const u=[];for(;+f<=h;)u.push(ae(f)),f.setDate(f.getDate()+i),f.setHours(0,0,0,0);return t?u.reverse():u}function ut(y){return _e(y,rt(y))}const ct={class:"form-control"},pt=["for"],mt={class:"flex items-center justify-end mb-2"},ft={class:"flex flex-wrap items-center gap-2 p-3 bg-gray-50 border rounded-t-lg"},vt={class:"flex-shrink-0"},gt={class:"flex gap-1"},ht=["onClick","title"],yt={class:"flex gap-1"},bt=["onClick","title"],wt={class:"flex gap-1"},_t=["onClick","title"],xt={key:1,class:"flex gap-1"},kt=["onClick","title"],$t=["id","placeholder"],Ct=["innerHTML"],Vt={key:1,class:"mt-1 text-sm text-gray-500 text-right"},Mt=J({__name:"Input",props:{label:{},name:{},id:{},placeholder:{default:""},modelValue:{},messageClass:{default:"text-red-500 text-sm mt-1"},labelClass:{default:"block text-lg font-bold mb-2"},inputClass:{default:"border border-gray-300 rounded-b-lg"},required:{type:Boolean,default:!1},minLength:{},maxLength:{}},emits:["update:modelValue","blur"],setup(y,{emit:w}){const p=y,m=w,t=L(null),h=L(null),f=$e(),i=L(!1),u=L(!1),s=L(!1),v=[{command:"bold",icon:ue,title:"Bold"},{command:"italic",icon:ge,title:"Italic"},{command:"underline",icon:We,title:"Underline"},{command:"strikeThrough",icon:Ne,title:"Strike Through"},{command:"createLink",icon:he,title:"Insert Link"},{command:"code",icon:be,title:"Code"},{command:"blockquote",icon:ye,title:"Quote"}],l=[{command:"insertUnorderedList",icon:Ce,title:"Bullet List"},{command:"insertOrderedList",icon:Ye,title:"Numbered List"}],a=[{command:"justifyLeft",icon:Qe,title:"Align Left"},{command:"justifyCenter",icon:Je,title:"Align Center"},{command:"justifyRight",icon:Ge,title:"Align Right"},{command:"justifyFull",icon:Xe,title:"Justify"}],r=[{command:"bold",icon:ue,title:"Bold",syntax:{prefix:"**",suffix:"**"}},{command:"italic",icon:ge,title:"Italic",syntax:{prefix:"_",suffix:"_"}},{command:"heading",icon:ue,title:"Heading",syntax:{prefix:"# ",suffix:""}},{command:"link",icon:he,title:"Link",syntax:{prefix:"[",suffix:"](url)"}},{command:"code",icon:be,title:"Code",syntax:{prefix:"`",suffix:"`"}},{command:"quote",icon:ye,title:"Quote",syntax:{prefix:"> ",suffix:""}},{command:"togglePreview",icon:ot,title:"Toggle Preview"}],c=F(()=>{var g;return t.value&&((g=t.value.textContent)==null?void 0:g.length)||0}),k=F(()=>t.value?Z.sanitize(me(t.value.textContent||"")):""),D=()=>{i.value||!t.value||(m("update:modelValue",t.value.innerHTML),oe())},U=(g,x=null)=>{if(t.value){if(g==="toggleMode"){C();return}if(g==="togglePreview"){s.value=!s.value;return}t.value.focus();try{if(u.value)z(g);else if(g==="createLink"){const b=prompt("Enter URL:");b&&document.execCommand(g,!1,b)}else g==="formatBlock"?document.execCommand(g,!1,`<${x}>`):document.execCommand(g,!1,x);D()}catch(b){console.error("Format error:",b)}}},z=g=>{if(!t.value)return;const x=r.find(de=>de.command===g);if(!(x!=null&&x.syntax))return;const{prefix:b,suffix:B}=x.syntax,A=window.getSelection(),N=A==null?void 0:A.getRangeAt(0);if(!N)return;const V=N.toString(),H=b+V+B;document.execCommand("insertText",!1,H)},C=async()=>{if(!t.value)return;const g=t.value.innerHTML;if(u.value=!u.value,u.value){const b=new Ie().turndown(g);t.value.innerHTML=b}else{const x=me(g);t.value.innerHTML=Z.sanitize(x)}D()},$=g=>document.queryCommandState(g),P=g=>{var B,A;g.preventDefault();const x=(B=g.clipboardData)==null?void 0:B.getData("text/html"),b=(A=g.clipboardData)==null?void 0:A.getData("text/plain");if(u.value)b&&document.execCommand("insertText",!1,b);else if(x){const N=Z.sanitize(x,{ALLOWED_TAGS:["p","b","i","em","strong","a","ul","ol","li","br","h1","h2","h3","h4","h5","h6"],ALLOWED_ATTR:["href"]});document.execCommand("insertHTML",!1,N)}else b&&document.execCommand("insertText",!1,b);D()},E=g=>{m("blur",g),oe()},oe=()=>{var x;h.value=null;const g=((x=t.value)==null?void 0:x.textContent)||"";if(p.required&&!g.trim()){h.value=`${p.label} is required`;return}if(p.minLength&&g.length<p.minLength){h.value=`Minimum length is ${p.minLength} characters`;return}if(p.maxLength&&g.length>p.maxLength){h.value=`Maximum length is ${p.maxLength} characters`;return}},se=()=>{if(!t.value)return;const g=()=>{i.value=!0},x=()=>{i.value=!1,D()};return t.value.addEventListener("compositionstart",g),t.value.addEventListener("compositionend",x),p.modelValue&&(t.value.innerHTML=Z.sanitize(p.modelValue)),!p.modelValue&&p.placeholder&&(t.value.innerHTML=`<p class="text-gray-400">${p.placeholder}</p>`),()=>{t.value&&(t.value.removeEventListener("compositionstart",g),t.value.removeEventListener("compositionend",x))}};return K(()=>p.modelValue,g=>{if(!t.value||i.value)return;const x=t.value.innerHTML;if(g!==x){const b=window.getSelection(),B=b==null?void 0:b.getRangeAt(0);t.value.innerHTML=Z.sanitize(g||""),B&&b&&(b.removeAllRanges(),b.addRange(B))}}),K(()=>f.props.errors,g=>{g&&g[p.name]?h.value=g[p.name]:h.value=null},{deep:!0}),ce(()=>{const g=se();Te(()=>g==null?void 0:g())}),(g,x)=>(o(),n("div",ct,[e("label",{for:g.id,class:"label"},[e("span",{class:I(g.labelClass)},M(g.label),3)],8,pt),e("div",mt,[e("button",{onClick:x[0]||(x[0]=b=>U("toggleMode")),class:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary transition-colors"},[(o(),R(Y(u.value?d(Re):d(qe)),{class:"w-4 h-4"})),e("span",null,M(u.value?"Switch to HTML":"Switch to Markdown"),1)])]),e("div",ft,[u.value?(o(),n("div",xt,[(o(),n(T,null,j(r,(b,B)=>e("button",{key:B,onClick:ee(A=>U(b.command),["prevent"]),title:b.title,class:"p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary"},[(o(),R(Y(b.icon),{class:"w-4 h-4"}))],8,kt)),64))])):(o(),n(T,{key:0},[e("div",vt,[e("select",{onChange:x[1]||(x[1]=b=>U("formatBlock",b.target.value)),class:"px-3 py-1.5 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary"},x[2]||(x[2]=[Q('<option value="p" data-v-fd51d829>Paragraph</option><option value="h1" data-v-fd51d829>Heading 1</option><option value="h2" data-v-fd51d829>Heading 2</option><option value="h3" data-v-fd51d829>Heading 3</option><option value="h4" data-v-fd51d829>Heading 4</option><option value="h5" data-v-fd51d829>Heading 5</option><option value="h6" data-v-fd51d829>Heading 6</option>',7)]),32)]),x[3]||(x[3]=e("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e("div",gt,[(o(),n(T,null,j(v,(b,B)=>e("button",{key:B,onClick:ee(A=>U(b.command),["prevent"]),title:b.title,class:I(["p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary",{"bg-gray-100 text-primary border-primary":$(b.command)}])},[(o(),R(Y(b.icon),{class:"w-4 h-4"}))],10,ht)),64))]),x[4]||(x[4]=e("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e("div",yt,[(o(),n(T,null,j(l,(b,B)=>e("button",{key:B,onClick:ee(A=>U(b.command),["prevent"]),title:b.title,class:I(["p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary",{"bg-gray-100 text-primary border-primary":$(b.command)}])},[(o(),R(Y(b.icon),{class:"w-4 h-4"}))],10,bt)),64))]),x[5]||(x[5]=e("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e("div",wt,[(o(),n(T,null,j(a,(b,B)=>e("button",{key:B,onClick:ee(A=>U(b.command),["prevent"]),title:b.title,class:I(["p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary",{"bg-gray-100 text-primary border-primary":$(b.command)}])},[(o(),R(Y(b.icon),{class:"w-4 h-4"}))],10,_t)),64))])],64))]),e("div",{ref_key:"editorRef",ref:t,id:g.id,contenteditable:"true",spellcheck:"true",dir:"ltr",placeholder:g.placeholder,onInput:D,onPaste:P,onBlur:E,class:I([g.inputClass,"min-h-[200px] max-h-[600px] overflow-y-auto p-4 focus:outline-none",{error:h.value},{"font-mono":u.value}])},null,42,$t),u.value&&s.value?(o(),n("div",{key:0,class:"mt-4 p-4 border rounded-lg prose max-w-none",innerHTML:k.value},null,8,Ct)):O("",!0),g.maxLength?(o(),n("div",Vt,M(c.value)+" / "+M(g.maxLength)+" characters ",1)):O("",!0),_(xe,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:W(()=>[h.value?(o(),n("span",{key:0,class:I(g.messageClass),role:"alert","aria-live":"polite"},[e("strong",null,M(h.value),1)],2)):O("",!0)]),_:1})]))}}),Dt=le(Mt,[["__scopeId","data-v-fd51d829"]]),St={class:"form-control"},Lt=["for"],Tt=["id","name"],Ht={class:"relative"},Ut={class:"flex items-center gap-2"},jt={class:"text-gray-700"},Bt={key:0,class:"absolute z-50 w-full mt-1 bg-white border rounded-lg shadow-lg"},Ft={class:"p-4 space-y-4"},Pt={class:"space-y-2"},It={class:"flex items-center justify-between mb-2"},Ot={class:"font-semibold"},At={class:"grid grid-cols-7 mb-1"},Et={class:"grid grid-cols-7 gap-1"},zt=["onClick"],Rt={key:0,class:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-primary rounded-full"},Kt={class:"flex items-center justify-center gap-4"},qt={class:"flex items-center gap-2"},Wt=["value"],Nt=["value"],Yt={class:"flex flex-wrap gap-2 pt-2 border-t"},Qt=["onClick"],Jt=J({__name:"Input",props:{label:{},name:{},id:{},placeholder:{default:""},modelValue:{},messageClass:{default:"text-red-500 text-sm mt-1"},labelClass:{default:"block text-lg font-bold mb-2"},inputClass:{default:"input input-primary input-bordered w-full"},required:{type:Boolean,default:!1},min:{},max:{}},emits:["update:modelValue","blur"],setup(y,{emit:w}){const p=y,m=w,t=L(!1),h=L(new Date),f=L(null),i=L(0),u=L(0),s=L(null),v=$e(),l=[{label:"Now",value:new Date},{label:"Start of Day",value:new Date().setHours(0,0,0,0)},{label:"End of Day",value:new Date().setHours(23,59,59,999)},{label:"Tomorrow",value:new Date().setDate(new Date().getDate()+1)}],a=["Su","Mo","Tu","We","Th","Fr","Sa"],r=Array.from({length:60},(V,H)=>H),c=F(()=>G(h.value,"MMMM")),k=F(()=>h.value.getFullYear()),D=F(()=>{const V=He(h.value),H=it(h.value);return dt({start:V,end:H})}),U=F({get:()=>p.modelValue,set:V=>m("update:modelValue",V)}),z=F(()=>f.value?G(f.value,"MMM d, yyyy HH:mm"):""),C=()=>{t.value=!t.value},$=()=>{t.value=!1},P=()=>{h.value=new Date(h.value.getFullYear(),h.value.getMonth()-1)},E=()=>{h.value=new Date(h.value.getFullYear(),h.value.getMonth()+1)},oe=V=>{f.value=new Date(V),f.value.setHours(i.value),f.value.setMinutes(u.value),x()},se=()=>{f.value&&(f.value.setHours(i.value),f.value.setMinutes(u.value),x())},g=V=>{const H=new Date(V);f.value=H,i.value=H.getHours(),u.value=H.getMinutes(),x(),$()},x=()=>{f.value&&(U.value=G(f.value,"yyyy-MM-dd'T'HH:mm"),N())},b=V=>f.value&&_e(V,f.value),B=V=>V.getMonth()===h.value.getMonth(),A=V=>ut(V),N=()=>{if(s.value=null,p.required&&!U.value){s.value=`${p.label} is required`;return}if(p.min&&U.value<p.min){s.value=`Date must be after ${G(new Date(p.min),"MMM d, yyyy HH:mm")}`;return}if(p.max&&U.value>p.max){s.value=`Date must be before ${G(new Date(p.max),"MMM d, yyyy HH:mm")}`;return}};return K(()=>v.props.errors,V=>{V&&V[p.name]?s.value=V[p.name]:s.value=null},{deep:!0}),K(()=>p.modelValue,V=>{if(V){const H=new Date(V);f.value=H,i.value=H.getHours(),u.value=H.getMinutes(),h.value=H}},{immediate:!0}),(V,H)=>{const de=Ue("click-outside");return o(),n("div",St,[e("label",{for:V.id,class:"label"},[e("span",{class:I(V.labelClass)},M(V.label),3)],8,Lt),q(e("input",{id:V.id,name:V.name,type:"datetime-local","onUpdate:modelValue":H[0]||(H[0]=S=>U.value=S),class:"hidden"},null,8,Tt),[[pe,U.value]]),e("div",Ht,[e("button",{type:"button",onClick:C,class:I([V.inputClass,"flex items-center justify-between w-full px-4 py-2",{error:s.value}])},[e("span",Ut,[_(d(st),{class:"w-5 h-5 text-gray-500"}),e("span",jt,M(z.value||V.placeholder||"Select date and time"),1)]),_(d(at),{class:I(["w-5 h-5 text-gray-500 transition-transform",{"rotate-180":t.value}])},null,8,["class"])],2),t.value?q((o(),n("div",Bt,[e("div",Ft,[e("div",Pt,[e("div",It,[e("button",{onClick:P,class:"p-1 hover:bg-gray-100 rounded-full"},[_(d(Ze),{class:"w-5 h-5"})]),e("span",Ot,M(c.value)+" "+M(k.value),1),e("button",{onClick:E,class:"p-1 hover:bg-gray-100 rounded-full"},[_(d(nt),{class:"w-5 h-5"})])]),e("div",At,[(o(),n(T,null,j(a,S=>e("span",{key:S,class:"text-center text-sm text-gray-500 font-medium"},M(S),1)),64))]),e("div",Et,[(o(!0),n(T,null,j(D.value,S=>(o(),n("button",{key:S.toISOString(),onClick:Se=>oe(S),class:I(["p-2 text-sm rounded-full hover:bg-gray-100 relative",{"bg-primary/10 text-primary font-semibold":b(S),"text-gray-400":!B(S),"text-gray-900":B(S)}])},[ke(M(S.getDate())+" ",1),A(S)?(o(),n("div",Rt)):O("",!0)],10,zt))),128))])]),e("div",Kt,[e("div",qt,[q(e("select",{"onUpdate:modelValue":H[1]||(H[1]=S=>i.value=S),class:"w-16 p-1 border rounded",onChange:se},[(o(),n(T,null,j(24,S=>e("option",{key:S,value:S-1},M(String(S-1).padStart(2,"0")),9,Wt)),64))],544),[[te,i.value]]),H[3]||(H[3]=e("span",{class:"text-gray-500"},":",-1)),q(e("select",{"onUpdate:modelValue":H[2]||(H[2]=S=>u.value=S),class:"w-16 p-1 border rounded",onChange:se},[(o(!0),n(T,null,j(d(r),S=>(o(),n("option",{key:S,value:S},M(String(S).padStart(2,"0")),9,Nt))),128))],544),[[te,u.value]])])]),e("div",Yt,[(o(),n(T,null,j(l,S=>e("button",{key:S.label,onClick:Se=>g(S.value),class:"px-3 py-1 text-sm text-gray-600 bg-gray-100 rounded-full hover:bg-gray-200"},M(S.label),9,Qt)),64))])])])),[[de,$]]):O("",!0)]),_(xe,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:W(()=>[s.value?(o(),n("span",{key:0,class:I(V.messageClass),role:"alert","aria-live":"polite"},[e("strong",null,M(s.value),1)],2)):O("",!0)]),_:1})])}}}),Gt=le(Jt,[["__scopeId","data-v-245929fe"]]),Xt=["for"],Zt=["id"],el={class:"modal text-neutral-content"},tl={class:"modal-box relative flex flex-col items-center justify-center w-11/12 max-w-md bg-white dark:bg-gray-800 border-2 border-red-500 rounded-2xl shadow-2xl text-center p-8 space-y-6"},ll=["for"],ol={class:"space-y-4"},sl={class:"text-gray-600 dark:text-gray-400 text-sm md:text-base"},al={class:"flex w-full justify-between space-x-4"},nl=["for"],rl=J({__name:"delete",props:{id:{type:Number,default:0},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onDelete"],setup(y,{emit:w}){const p=re(),m=y,t=w,h=async()=>{var f,i;try{const u=await ie.post(m.endpoint,{model:m.model,id:m.id,permission:m.permission});p.success(u.data.message),t("onDelete");const s=document.getElementById(`my-modal-delete-${m.id}`);s&&(s.checked=!1)}catch(u){const s=((i=(f=u.response)==null?void 0:f.data)==null?void 0:i.errors)||{};Object.values(s).forEach(v=>{p.error(v[0])})}};return(f,i)=>(o(),n(T,null,[e("label",{for:"my-modal-delete-"+m.id,class:"btn btn-error modal-button group transition-all duration-300 hover:scale-105"},i[0]||(i[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 group-hover:animate-pulse",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Xt),e("input",{type:"checkbox",id:"my-modal-delete-"+m.id,class:"modal-toggle"},null,8,Zt),e("div",el,[e("div",tl,[e("button",{for:"my-modal-delete-"+m.id,class:"btn btn-sm btn-circle btn-ghost absolute right-3 top-3 hover:bg-red-50 dark:hover:bg-red-900"},i[1]||(i[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-500 hover:text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,ll),e("div",ol,[i[2]||(i[2]=Q('<div class="flex justify-center mb-4" data-v-54f81a0a><div class="bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-full p-4 inline-flex items-center justify-center animate-bounce" data-v-54f81a0a><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-54f81a0a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" data-v-54f81a0a></path></svg></div></div><h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200" data-v-54f81a0a> Confirm Deletion </h2>',2)),e("p",sl," Are you sure you want to delete item #"+M(m.id)+"? This action cannot be undone. ",1)]),e("div",al,[e("label",{for:"my-modal-delete-"+m.id,class:"btn btn-outline btn-primary flex-1"}," Cancel ",8,nl),e("button",{onClick:h,class:"btn btn-error flex-1 hover:bg-red-700 transition-colors duration-300 group"},i[3]||(i[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 group-hover:animate-pulse",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),ke(" Delete ")]))])])])],64))}}),il=le(rl,[["__scopeId","data-v-54f81a0a"]]),dl=y=>{if(!y)return"";let w;if(y.includes("T"))w=new Date(y);else{const p=y.split("/");w=new Date(`${p[2]}-${p[1]}-${p[0]}`)}return w.toISOString().split("T")[0]},ul=y=>{const w=y.split("/");return new Date(w[2]+"/"+w[1]+"/"+w[0]).toISOString().substr(0,16)},cl=y=>y?y.toString():"",pl={key:0},ml={key:1},fl={key:2},vl={key:3},gl={key:4},hl={key:5},yl={key:6},bl={key:7},wl={key:8},_l={key:9},xl={key:10},kl={key:11},$l={key:12},Cl={key:13},Vl={key:14},Ml={class:"form-control mt-1"},Dl={class:"label"},Sl={class:"label-text"},Ll=["onKeyup","onUpdate:modelValue"],Tl={class:"flex justify-center bg-base-100 rounded mt-5"},Hl=["innerHTML"],Ul={key:15},ne={__name:"formbuilder",props:{columns:{type:Array,default:()=>[]},modelValue:{type:Object,default:()=>({})},editMode:{type:String,default:"false"}},emits:["onFormUpdate"],setup(y,{emit:w}){const p=y,m=w;let t=L([]);const h=()=>{t.value=[],p.columns.forEach(s=>{var r;const v=p.editMode==="false",l=p.editMode==="true";if(v&&s.canCreate||l&&s.canEdit){let c="";v?(s.type==="Toggle"||s.type==="boolean")&&(c=!1):l&&(c=f(s,p.modelValue));const k=((r=s==null?void 0:s.options)==null?void 0:r.options)||(s==null?void 0:s.options),D={key:s.key,label:s.label,type:s.type,nullable:s==null?void 0:s.nullable,unique:s==null?void 0:s.unique,endpoint:s==null?void 0:s.endpoint,displayKey:s==null?void 0:s.displayKey,columns:s==null?void 0:s.columns,model:s==null?void 0:s.model,singleSearch:s==null?void 0:s.singleSearch,relation:s==null?void 0:s.relation,value:c,select_options:k};t.value.push(D)}}),p.editMode==="true"&&m("onFormUpdate",t.value)},f=(s,v)=>{switch(s.type){case"date":return dl(v[s.key]);case"timestamp":return ul(v[s.key]);case"media":case"model_search":case"pivot_model":case"boolean":case"chips":return v[s.key];default:return cl(v[s.key])}};let i=L(null);K(()=>t.value,()=>{clearTimeout(i.value),i.value=setTimeout(()=>{m("onFormUpdate",t.value)},500)},{deep:!0});const u=(s,v,l)=>{if(l==="name"||l==="title"){const a=t.value.findIndex(r=>r.key==="slug");a!==-1&&(t.value[a].value=s.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))}};return ce(h),(s,v)=>(o(),n("div",null,[(o(!0),n(T,null,j(d(t),(l,a)=>(o(),n("div",{key:a},[l.type=="text"?(o(),n("div",pl,[_(d(X),{type:"text",modelValue:d(t)[a].value,"onUpdate:modelValue":r=>d(t)[a].value=r,label:l.label,onKeyup:r=>u(r.target.value,l.type,l.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):l.type=="password"?(o(),n("div",ml,[_(d(Oe),{modelValue:d(t)[a].value,"onUpdate:modelValue":r=>d(t)[a].value=r,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="email"?(o(),n("div",fl,[_(d(X),{type:"email",modelValue:d(t)[a].value,"onUpdate:modelValue":r=>d(t)[a].value=r,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="date"?(o(),n("div",vl,[_(d(X),{type:"date",modelValue:d(t)[a].value,"onUpdate:modelValue":r=>d(t)[a].value=r,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="timestamp"?(o(),n("div",gl,[_(d(Gt),{label:l.label,name:l.key,id:"scheduled_at",modelValue:d(t)[a].value,"onUpdate:modelValue":r=>d(t)[a].value=r,placeholder:"Select date and time",required:"",min:"2024-01-16T00:00",max:"2025-12-31T23:59"},null,8,["label","name","modelValue","onUpdate:modelValue"])])):l.type=="slug"?(o(),n("div",hl,[_(d(X),{type:"text",modelValue:d(t)[a].value,"onUpdate:modelValue":r=>d(t)[a].value=r,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="media"?(o(),n("div",yl,[_(d(Ee),{label:"image",placeholder:"search",modelValue:d(t)[a].value,"onUpdate:modelValue":r=>d(t)[a].value=r,loadData:d(t)[a].value,endpoint:l.endpoint},null,8,["modelValue","onUpdate:modelValue","loadData","endpoint"])])):l.type=="number"?(o(),n("div",bl,[_(d(X),{type:"number",modelValue:d(t)[a].value,"onUpdate:modelValue":r=>d(t)[a].value=r,label:l.label,onKeyup:r=>u(r.target.value,l.type,l.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):l.type=="model_search"?(o(),n("div",wl,[_(d(fe),{label:l.label,placeholder:"search",model:l.model,columns:l.columns,singleMode:l.singleSearch,modelValue:d(t)[a].value,"onUpdate:modelValue":r=>d(t)[a].value=r,loadData:d(t)[a].value,endpoint:l.endpoint,displayKey:l.displayKey},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey"])])):l.type=="pivot_model"?(o(),n("div",_l,[_(d(fe),{label:l.label,placeholder:"search",model:l.model,columns:l.columns,singleMode:l.singleSearch,modelValue:d(t)[a].value,"onUpdate:modelValue":r=>d(t)[a].value=r,loadData:d(t)[a].value,endpoint:l.endpoint,displayKey:l.displayKey},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey"])])):l.type=="editor"?(o(),n("div",xl,[_(d(Dt),{label:"Content",name:"content",id:"content-editor",placeholder:"Start typing...",modelValue:d(t)[a].value,"onUpdate:modelValue":r=>d(t)[a].value=r,required:"",minLength:10,maxLength:1e3},null,8,["modelValue","onUpdate:modelValue"])])):l.type=="Toggle"?(o(),n("div",kl,[_(d(ve),{modelValue:d(t)[a].value,"onUpdate:modelValue":r=>d(t)[a].value=r,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="boolean"?(o(),n("div",$l,[_(d(ve),{modelValue:d(t)[a].value,"onUpdate:modelValue":r=>d(t)[a].value=r,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="chips"?(o(),n("div",Cl,[_(d(ze),{modelValue:d(t)[a].value,"onUpdate:modelValue":r=>d(t)[a].value=r,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="icon"?(o(),n("div",Vl,[e("label",Ml,[e("div",Dl,[e("span",Sl,M(l.label),1)]),q(e("textarea",{class:"textarea textarea-primary h-24",onKeyup:r=>u(r.target.value,l.type,l.key),"onUpdate:modelValue":r=>d(t)[a].value=r,placeholder:"Bio"},null,40,Ll),[[pe,d(t)[a].value]])]),e("div",Tl,[e("div",{class:"flex p-10 w-52",innerHTML:d(t)[a].value},null,8,Hl)])])):l.type=="select"?(o(),n("div",Ul,[_(d(Ae),{modelValue:d(t)[a].value,"onUpdate:modelValue":r=>d(t)[a].value=r,label:l.label,options:l.select_options},null,8,["modelValue","onUpdate:modelValue","label","options"])])):O("",!0)]))),128))]))}},jl={class:"modal text-left"},Bl={key:0,class:"modal-box w-11/12 max-w-5xl border border-primary shadow-primary shadow-2xl relative"},Fl={class:"w-full space-y-4"},Pl={key:0,class:"w-full rounded-lg"},Il={class:"text-left"},Ol={key:1,class:"w-full bg-base-300 border border-secondary rounded-3xl text-neutral-content p-6"},Al={key:1,class:"modal-box w-11/12 max-w-5xl"},El={__name:"create",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onCreate"],setup(y,{emit:w}){const p=re(),m=y,t=w,h=F(()=>m.columns.some(v=>v.canCreate)),f=F(()=>{const v=m.columns.filter(c=>c.section),l=m.columns.filter(c=>!c.section),a=[...new Set(v.map(c=>c.section))],r=a.map(c=>({section:c,fields:v.filter(k=>k.section===c)}));return{sections:a,fields:l,sectionsWithFields:r}});let i=L(m.columns.filter(v=>v.canCreate));const u=v=>{i.value.length>0?v.forEach(l=>{const a=i.value.findIndex(r=>r.key===l.key);a!==-1&&(i.value[a]=l)}):i.value=v},s=async()=>{var v,l;try{const a=await ie.post(m.endpoint,{model:m.model,data:i.value,permission:m.permission});p.success(a.data.message),t("onCreate"),document.getElementById("my-modal-5").checked=!1}catch(a){const r=((l=(v=a.response)==null?void 0:v.data)==null?void 0:l.errors)||{};Object.values(r).forEach(c=>{p.error(c[0])})}};return(v,l)=>(o(),n(T,null,[l[5]||(l[5]=Q('<label for="my-modal-5" class="btn btn-primary modal-button flex items-center space-x-2 group"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 transition-transform group-hover:rotate-45" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"></path></svg><span class="hidden md:inline">Create New</span></label><input type="checkbox" id="my-modal-5" class="modal-toggle">',2)),e("div",jl,[h.value?(o(),n("div",Bl,[l[3]||(l[3]=e("div",{class:"modal-header flex justify-between items-center mb-4"},[e("h3",{class:"font-bold text-lg text-base-content"},"Create New Entry"),e("label",{for:"my-modal-5",class:"btn btn-sm btn-circle absolute right-2 top-2 hover:bg-base-200"}," ✕ ")],-1)),e("div",Fl,[f.value.sectionsWithFields.length>0?(o(),n("div",Pl,[(o(!0),n(T,null,j(f.value.sectionsWithFields,(a,r)=>(o(),R(d(De),{key:r,as:"div",class:"mb-2"},{default:W(({open:c})=>[_(d(Ve),{class:"btn btn-ghost w-full justify-between hover:bg-base-200"},{default:W(()=>[e("span",Il,M(a.section),1),(o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:I(["h-6 w-6 transition-transform",{"rotate-180":c}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},l[0]||(l[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),_:2},1024),_(d(Me),{class:"p-2 bg-base-100 rounded-b-lg"},{default:W(()=>[_(ne,{columns:a.fields,onOnFormUpdate:u},null,8,["columns"])]),_:2},1024)]),_:2},1024))),128))])):O("",!0),f.value.fields.length>0?(o(),n("div",Ol,[_(ne,{columns:f.value.fields,onOnFormUpdate:u},null,8,["columns"])])):O("",!0)]),e("div",{class:"modal-action flex justify-end gap-2 pt-3"},[l[2]||(l[2]=e("label",{for:"my-modal-5",class:"btn btn-secondary text-white"}," Close ",-1)),e("button",{onClick:s,class:"btn btn-primary text-white flex items-center space-x-2"},l[1]||(l[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z","clip-rule":"evenodd"})],-1),e("span",null,"Create",-1)]))])])):(o(),n("div",Al,l[4]||(l[4]=[Q('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-warning" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title text-error">Creation Disabled</h2><p class="text-base-content">You do not have permission to create entries.</p><p class="text-base-content">Please contact your administrator.</p></div></div>',1)])))])],64))}},zl=["for"],Rl=["id"],Kl={class:"modal"},ql={key:0,class:"modal-box w-11/12 max-w-5xl border border-primary shadow-lg shadow-primary text-neutral-content relative"},Wl={class:"modal-header flex justify-between items-center mb-4"},Nl={class:"font-bold text-lg flex items-center space-x-2"},Yl=["for"],Ql={class:"w-full mt-2"},Jl={key:0,class:"w-full rounded-lg p-2 space-y-2"},Gl={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 transition-transform"},Xl={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 transition-transform"},Zl={key:1,class:"w-full bg-base-300 border border-secondary rounded-3xl text-neutral-content p-6 mt-4"},eo={class:"flex justify-end gap-4 mt-5"},to=["for"],lo=["for"],oo={key:1,class:"modal-box w-11/12 max-w-5xl"},so=J({__name:"edit",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},id:{type:Number,default:0},modelValue:{type:Object,default:()=>({})},permission:{type:String,default:null}},emits:["onEdit"],setup(y,{emit:w}){const p=re(),m=y,t=w,h=F(()=>m.columns.some(v=>v.canEdit)),f=F(()=>{const v=m.columns.filter(c=>c.section),l=m.columns.filter(c=>!c.section),a=[...new Set(v.map(c=>c.section))],r=a.map(c=>({section:c,fields:v.filter(k=>k.section===c)}));return{sections:a,fields:l,sectionsWithFields:r}});let i=L(m.columns.filter(v=>v.canEdit));const u=v=>{i.value.length>0?v.forEach(l=>{const a=i.value.findIndex(r=>r.key===l.key);a!==-1&&(i.value[a]=l)}):i.value=v},s=async()=>{var v,l;try{const a=await ie.post(m.endpoint,{model:m.model,id:m.id,data:i.value,permission:m.permission});p.success(a.data.message),t("onEdit");const r=document.getElementById(`edit-data-${m.id}`);r&&(r.checked=!1)}catch(a){const r=((l=(v=a.response)==null?void 0:v.data)==null?void 0:l.errors)||{};Object.values(r).forEach(c=>{p.error(c[0])})}};return(v,l)=>(o(),n(T,null,[e("label",{for:"edit-data-"+m.id,class:"btn btn-info modal-button group transition-all duration-300 hover:scale-105"},l[0]||(l[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 group-hover:rotate-6 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,zl),e("input",{type:"checkbox",id:"edit-data-"+m.id,class:"modal-toggle"},null,8,Rl),e("div",Kl,[h.value?(o(),n("div",ql,[e("div",Wl,[e("h3",Nl,[e("span",null,"Edit Item #"+M(m.id),1)]),e("label",{for:"edit-data-"+m.id,class:"btn btn-sm btn-circle absolute right-2 top-2 hover:bg-base-200"}," ✕ ",8,Yl)]),e("div",Ql,[f.value.sectionsWithFields.length>0?(o(),n("div",Jl,[(o(!0),n(T,null,j(f.value.sectionsWithFields,(a,r)=>(o(),R(d(De),{key:r,as:"div",class:"mt-2",defaultOpen:!0},{default:W(({open:c})=>[_(d(Ve),{class:"btn btn-primary w-full flex justify-between items-center"},{default:W(()=>[e("span",null,M(a.section),1),c?(o(),n("svg",Gl,l[1]||(l[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"},null,-1)]))):(o(),n("svg",Xl,l[2]||(l[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"},null,-1)])))]),_:2},1024),_(d(Me),{class:"px-4 pt-4 pb-2 text-sm text-gray-500 transition-all duration-300"},{default:W(()=>[_(ne,{columns:a.fields,onOnFormUpdate:u,editMode:"true",modelValue:m.modelValue},null,8,["columns","modelValue"])]),_:2},1024)]),_:2},1024))),128))])):O("",!0),f.value.fields.length>0?(o(),n("div",Zl,[_(ne,{columns:f.value.fields,onOnFormUpdate:u,editMode:"true",modelValue:m.modelValue},null,8,["columns","modelValue"])])):O("",!0)]),e("div",eo,[e("label",{for:"edit-data-"+m.id,class:"btn btn-primary font-bold text-lg text-white hover:bg-primary-focus transition-colors"}," Close ",8,to),e("label",{for:"edit-data-"+m.id,class:"btn btn-secondary font-bold text-lg text-white hover:bg-secondary-focus transition-colors",onClick:s}," Submit ",8,lo)])])):(o(),n("div",oo,l[3]||(l[3]=[Q('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10 animate-pulse"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-warning rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title text-error">Edit Method Disabled</h2><p class="text-base-content">You do not have permission to edit this item.</p><p class="text-base-content">Please contact your administrator for access.</p></div></div>',1)])))])],64))}}),ao={class:"bg-base-100 shadow-sm rounded-lg p-4 mb-4"},no={class:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4"},ro={class:"flex flex-wrap gap-3 items-center w-full md:w-auto"},io={class:"relative w-full md:w-44"},uo={class:"relative w-full md:w-44"},co=["value"],po={class:"relative w-full md:w-44"},mo={class:"flex w-full md:w-auto"},fo={class:"join w-full"},vo={class:"relative w-full"},go=J({__name:"filter",props:{columns:{}},emits:["onPerPage","onOrderBy","onSearch","onFilter","onFilterReset"],setup(y,{emit:w}){const p=y,m=w,t=L(10),h=L(""),f=L(""),i=L(""),u=L([]),s=(c,k)=>{let D;return(...U)=>{D&&clearTimeout(D),D=setTimeout(()=>{c(...U)},k)}},v=()=>{const c=p.columns.filter(k=>k.sortable);c.length>0&&(h.value=c[0].key),u.value=c.map(k=>({label:k.label,value:k.key}))},l=s(c=>{m("onSearch",c)},500);K(t,c=>{m("onPerPage",c)}),K(f,c=>{m("onOrderBy",c)}),K(h,c=>{m("onFilter",c)}),K(i,c=>{c&&c.length>0&&l(c)});const a=()=>{i.value&&i.value.length>0&&m("onSearch",i.value)},r=()=>{var c;t.value=10,h.value=((c=u.value[0])==null?void 0:c.value)||"id",f.value="asc",i.value="",m("onFilterReset",{perPage:t.value,filterBy:h.value,orderBy:f.value,search:null})};return ce(v),(c,k)=>(o(),n("div",ao,[e("div",no,[e("div",ro,[e("div",io,[q(e("select",{class:"select select-primary w-full","onUpdate:modelValue":k[0]||(k[0]=D=>t.value=D),"aria-label":"Items per page"},k[4]||(k[4]=[Q('<option disabled value="" data-v-eecb2531>Per page</option><option value="10" data-v-eecb2531>10 Items</option><option value="25" data-v-eecb2531>25 Items</option><option value="50" data-v-eecb2531>50 Items</option><option value="100" data-v-eecb2531>100 Items</option>',5)]),512),[[te,t.value]]),_(d(Ce),{class:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 pointer-events-none text-primary"})]),e("div",uo,[q(e("select",{class:"select select-primary w-full","onUpdate:modelValue":k[1]||(k[1]=D=>h.value=D),"aria-label":"Filter by column"},[k[5]||(k[5]=e("option",{disabled:"",value:""},"Filter By",-1)),(o(!0),n(T,null,j(u.value,(D,U)=>(o(),n("option",{key:U,value:D.value},M(D.label),9,co))),128))],512),[[te,h.value]]),_(d(et),{class:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 pointer-events-none text-primary"})]),e("div",po,[q(e("select",{class:"select select-primary w-full","onUpdate:modelValue":k[2]||(k[2]=D=>f.value=D),"aria-label":"Sort order"},k[6]||(k[6]=[e("option",{disabled:"",value:""},"Sort Order",-1),e("option",{value:"asc"},"Ascending",-1),e("option",{value:"desc"},"Descending",-1)]),512),[[te,f.value]]),(o(),R(Y(f.value==="asc"?d(tt):d(Ke)),{class:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 pointer-events-none text-primary"}))])]),e("div",mo,[e("div",fo,[e("div",vo,[q(e("input",{class:"input input-bordered join-item w-full pr-10","onUpdate:modelValue":k[3]||(k[3]=D=>i.value=D),placeholder:"Search...",onKeyup:je(a,["enter"]),"aria-label":"Search input"},null,544),[[pe,i.value]]),_(d(we),{class:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-base-content/40 pointer-events-none"})]),e("button",{class:"btn btn-primary join-item",onClick:a,"aria-label":"Search"},[_(d(we),{class:"w-5 h-5"})]),e("button",{class:"btn btn-secondary join-item",onClick:r,"aria-label":"Reset filters"},[_(d(lt),{class:"w-5 h-5"})])])])])]))}}),ho=le(go,[["__scopeId","data-v-eecb2531"]]),yo={class:"px-5 py-5 bg-base-200 border-t flex flex-col xs:flex-row items-center xs:justify-between"},bo={class:"xs:text-sm text-primary font-bold text-sm md:text-lg"},wo={class:"inline-flex mt-2 xs:mt-0"},_o={class:"btn-group"},xo=["disabled"],ko=["onClick"],$o={key:1,class:"btn btn-md btn-disabled"},Co=["disabled"],Vo={__name:"pagination",props:{paginationInfo:{type:Object,default:()=>({currentPage:1,lastPage:1,perPage:10,total:0,links:[]})},endpoint:{type:String,default:""}},emits:["onPagiation"],setup(y,{emit:w}){const p=y,m=w,t=F(()=>p.paginationInfo.currentPage||1),h=F(()=>p.paginationInfo.lastPage||1),f=F(()=>p.paginationInfo.perPage||10),i=F(()=>p.paginationInfo.total||0),u=F(()=>{const a=t.value,r=h.value,c=2,k=a-c,D=a+c+1,U=[],z=[];let C;for(let $=1;$<=r;$++)($===1||$===r||$>=k&&$<D)&&U.push($);for(const $ of U)C&&($-C===2?z.push(C+1):$-C!==1&&z.push("...")),z.push($),C=$;return z}),s=a=>{const r=p.endpoint+`?page=${a}`;m("onPagiation",r)},v=()=>{t.value<h.value&&s(t.value+1)},l=()=>{t.value>1&&s(t.value-1)};return(a,r)=>(o(),n("div",yo,[e("span",bo," Showing "+M(t.value)+" to "+M(Math.min(t.value*f.value,i.value))+" of "+M(i.value)+" Entries ",1),e("div",wo,[e("div",_o,[e("button",{class:"btn btn-md",disabled:t.value===1,onClick:l}," Prev ",8,xo),(o(!0),n(T,null,j(u.value,(c,k)=>(o(),n(T,{key:k},[typeof c=="number"?(o(),n("button",{key:0,class:I(["btn btn-md",{"btn-active":c===t.value}]),onClick:D=>s(c)},M(c),11,ko)):c==="..."?(o(),n("span",$o," ... ")):O("",!0)],64))),128)),e("button",{class:"btn btn-md",disabled:t.value===h.value,onClick:v}," Next ",8,Co)])])]))}},Mo={key:0,class:"flex items-center space-x-2"},Do={class:"carousel rounded-box w-96 max-h-24 overflow-x-auto"},So=["src","alt","onClick"],Lo=["onClick"],To=["innerHTML"],Ho={key:2},Uo={key:3,class:"flex flex-col space-y-1"},jo=["title","innerHTML"],Bo=["src"],Fo=J({__name:"tableDataDisplay",props:{tableData:{type:Object,default:()=>({})},columns:{type:Array,default:()=>[]}},setup(y){const w=L(null),p=f=>{w.value=f},m=()=>{w.value=null},t=y,h=F(()=>t.columns.map(f=>({label:f.label,type:f.type||"default",value:(()=>{const i=t.tableData[f.key];switch(f.type){case"media":return Array.isArray(i)?i:i?[i]:[];case"model_search":return Array.isArray(i)?i:i?[i]:[];default:return i}})()})));return(f,i)=>(o(),n(T,null,[(o(!0),n(T,null,j(h.value,(u,s)=>(o(),n("th",{key:s,class:"px-4 py-2"},[u.type==="media"?(o(),n("div",Mo,[e("div",Do,[(o(!0),n(T,null,j(u.value,(v,l)=>{var a;return o(),n("div",{key:l,class:"carousel-item w-1/2 mr-2 relative group"},[e("img",{src:((a=v.url)==null?void 0:a.default)||v.url,alt:`Media ${l+1}`,class:"w-full h-20 object-cover rounded-md cursor-pointer transition-transform group-hover:scale-105",onClick:r=>{var c;return p(((c=v.url)==null?void 0:c.default)||v.url)}},null,8,So),e("div",{class:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-black/50 rounded-full p-1",onClick:r=>{var c;return p(((c=v.url)==null?void 0:c.default)||v.url)}},i[1]||(i[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-white cursor-pointer",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.414-1.414A1 1 0 0011.586 3H8.414a1 1 0 00-.707.293L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})],-1)]),8,Lo)])}),128))])])):u.type==="icon"?(o(),n("div",{key:1,class:"bg-base-100 rounded-lg flex justify-center items-center p-2",innerHTML:u.value},null,8,To)):u.type==="toggle"?(o(),n("div",Ho,[e("span",{class:I(["badge mt-3",u.value==1?"badge-success":"badge-error"])},M(u.value==1?"Enable":"Disable"),3)])):u.type==="model_search"?(o(),n("div",Uo,[(o(!0),n(T,null,j(u.value,(v,l)=>(o(),n("span",{key:l,class:"badge badge-primary mt-1"},M(l)+" > "+M(v),1))),128))])):(o(),n("div",{key:4,class:"truncate max-w-xs",title:u.value,innerHTML:u.value},null,8,jo))]))),128)),(o(),R(Be,{to:"body"},[w.value?(o(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onClick:m},[e("div",{class:"max-w-full max-h-full flex items-center justify-center relative",onClick:i[0]||(i[0]=ee(()=>{},["stop"]))},[e("img",{src:w.value,alt:"Expanded Image",class:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl"},null,8,Bo),e("button",{onClick:m,class:"absolute top-4 right-4 bg-white/20 hover:bg-white/40 rounded-full p-2 transition-colors"},i[2]||(i[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):O("",!0)]))],64))}}),Po=le(Fo,[["__scopeId","data-v-1e037550"]]),Io={class:"w-full"},Oo={class:"relative flex flex-col min-w-0 break-words bg-base-300 w-full mb-6 rounded-3xl"},Ao={class:"flex flex-wrap items-center mt-5"},Eo={class:"relative w-full px-4 max-w-full flex-grow flex-1"},zo={class:"text-3xl font-extrabold text-base-content"},Ro={class:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"},Ko={class:"overflow-x-auto p-6"},qo={class:"overflow-x-auto bg-base-100"},Wo={class:"table table-compact w-full"},No={class:"font-bold bg-primary text-neutral"},Yo={class:"flex justify-start overflow-x-hidden gap-2"},Qo={key:1},Jo=["for"],Go={class:"font-bold bg-primary text-neutral"},ws={__name:"Table",props:{tableTitle:{type:String,default:"Table name"},columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},endpointDelete:{type:String,default:""},endpointCreate:{type:String,default:""},endpointEdit:{type:String,default:""},permission:{type:String,default:null},custom_edit_route:{type:String,default:null}},setup(y){const w=re();let p=L([]),m=L([]),t=L(10),h=L("id"),f=L(null),i=L(null);const u=y,s=async(C=null)=>{C===null&&(C=u.endpoint),ie.post(C,{model:u.model,columns:u.columns,perPage:t.value,search:i.value,sort:h.value,direction:f.value,permission:u.permission}).then(function($){p.value=$.data.data,m.value={currentPage:$.data.current_page,lastPage:$.data.last_page,perPage:$.data.per_page,total:$.data.total,links:$.data.links}}).catch(function($){for(const[P,E]of Object.entries($.response.data.errors))w.error(E[0])})},v=async C=>{s(C)},l=async C=>{t.value=C,s()},a=async C=>{h.value=C,s()},r=async C=>{f.value=C,s()},c=async C=>{C&&C.length>3&&(i.value=C,s())},k=async()=>{s()},D=async()=>{s()},U=async()=>{s()},z=async C=>{t.value=C.perPage,h.value=C.filterBy,f.value=C.orderBy,i.value=C.search,s()};return s(),(C,$)=>(o(),n("div",Io,[e("div",Oo,[e("div",Ao,[e("div",Eo,[e("h1",zo,M(u.tableTitle),1)]),e("div",Ro,[Fe(C.$slots,"new",{},()=>[_(El,{columns:u.columns,endpoint:u.endpointCreate,model:u.model,permission:u.permission,onOnCreate:D},null,8,["columns","endpoint","model","permission"])])])]),_(ho,{onOnPerPage:l,onOnOrderBy:r,onOnSearch:c,onOnFilter:a,onOnFilterReset:z,columns:u.columns},null,8,["columns"]),e("div",Ko,[e("div",qo,[e("table",Wo,[e("thead",No,[e("tr",null,[(o(!0),n(T,null,j(y.columns,(P,E)=>(o(),n("th",{key:E},M(P.label),1))),128)),$[0]||($[0]=e("th",null,"Action",-1))])]),e("tbody",null,[(o(!0),n(T,null,j(d(p),(P,E)=>(o(),n("tr",{key:E,class:"font-thin bg-base-300 hover:bg-secondary hover:text-neutral hover:font-bold"},[_(Po,{tableData:P,columns:y.columns},null,8,["tableData","columns"]),e("th",null,[e("div",Yo,[y.custom_edit_route?(o(),n("div",Qo,[_(d(Pe),{href:y.custom_edit_route+P.id},{default:W(()=>[e("label",{for:"edit-data-"+P.id,class:"btn btn-info modal-button"},$[1]||($[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,Jo)]),_:2},1032,["href"])])):(o(),R(so,{key:0,columns:u.columns,endpoint:u.endpointEdit,model:u.model,modelValue:P,id:P.id,permission:u.permission,onOnEdit:U},null,8,["columns","endpoint","model","modelValue","id","permission"])),_(il,{id:P.id,endpoint:u.endpointDelete,model:u.model,permission:u.permission,onOnDelete:k},null,8,["id","endpoint","model","permission"])])])]))),128))]),e("tfoot",Go,[e("tr",null,[(o(!0),n(T,null,j(y.columns,(P,E)=>(o(),n("th",{key:E},M(P.label),1))),128)),$[2]||($[2]=e("th",null,"Action",-1))])])])]),_(Vo,{onOnPagiation:v,paginationInfo:d(m),endpoint:u.endpoint},null,8,["paginationInfo","endpoint"])])])]))}};export{ws as _};
