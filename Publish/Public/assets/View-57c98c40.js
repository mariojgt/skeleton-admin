import{a as J}from"./axios-de37f3a4.js";import{_ as Ae,m as we}from"./App.vue_vue_type_script_setup_true_lang-d7136bd1.js";import{_ as Me,a as Ve}from"./CommentBox-bb50497b.js";import{_ as D}from"./dynamicIcon.vue_vue_type_script_setup_true_lang-62fe115a.js";import{x as Ne,o as T,g as A,d as s,e as w,v as Z,k as me,t as R,a as H,z as ke,b as ie,w as le,u as I,i as K,Q as B,F as Ue,s as Ce,O as Ie}from"./preset-dc82439c.js";import{_ as We,a as De}from"./YouTube-88e146e5.js";import ze from"./Sidebar-fd7941fa.js";import qe from"./SidebarControl-5196765a.js";import He from"./EpisodeGuide-3af73e78.js";import{Q as Ze,V as Qe,N as Ge}from"./disclosure-88a3a549.js";import"./FlashMessage-75b2dd90.js";import"./ReusableModal-0b98130e.js";import"./micro-task-156b89d3.js";import"./keyboard-cadf9299.js";import"./hidden-23c9d7a1.js";import"./open-closed-5f0ce8df.js";import"./SearchSidebar-e5fe78d0.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Input.vue_vue_type_script_setup_true_lang-96442f99.js";import"./Password-794077e2.js";import"./dark-5cd1184e.js";import"./CommentsSingle.vue_vue_type_script_setup_true_lang-e1d0cbe8.js";import"./DifficultLevel.vue_vue_type_script_setup_true_lang-f894b9c8.js";import"./use-resolve-button-type-4cee6aff.js";const Je={class:"bg-dark-blue-100 rounded-lg"},Ke={class:"panel relative transition-colors duration-300 dark px-8 rounded-xl flex w-full flex-wrap py-0 lg:flex-nowrap"},Xe={class:"relative mx-auto basis-full items-center justify-between py-6 font-bold text-white md:flex md:justify-center lg:flex-1 lg:basis-0 max-w-screen-2xl"},Ye=s("div",{class:"pointer-events-none absolute bottom-0 left-1/2 right-0 top-0 hidden -translate-x-1/2 transform opacity-10 mix-blend-luminosity md:block"},null,-1),et={class:"flex-1 md:flex md:space-x-6 2xl:mx-[2.5rem]"},tt={class:"px-4 md:flex-1 md:px-0 flex flex-col justify-between"},st={class:"mb-8"},rt={class:"flex items-center"},nt={class:"text-2xl font-bold leading-tight widescreen:text-[30px]"},at={class:"flex divide-x divide-solid divide-grey-600/15 md:ml-1"},ot={class:"px-5"},it=s("dt",{class:"mb-2 font-grotesk text-2xs font-medium text-grey-600/60"}," Run Time ",-1),lt={class:"text-sm font-semibold text-white"},ct={class:"px-5 md:hidden xl:block"},dt=s("dt",{class:"mb-2 font-grotesk text-2xs font-medium text-grey-600/60"}," Published ",-1),ut={class:"text-sm font-semibold text-white"},ht={class:"mx-auto mt-8 flex flex-wrap items-center gap-2 self-center md:mt-0 md:max-w-2xs lg:mx-0 xl:max-w-[200px]"},ft={class:"flex-1",style:{"flex-basis":"180px"}},mt=s("span",{class:"inline-block flex-shrink-0 text-wrap"}," Mark as Complete ",-1),pt={class:"flex-1",style:{"flex-basis":"180px"}},vt=s("span",{class:"inline-block flex-shrink-0 text-wrap"}," Add to Watchlist ",-1),gt=Ne({__name:"Lesson",props:{lesson:{type:Object,default:()=>({})}},emits:["video-like","next-episode","previous-episode","complete-lesson","watch-later"],setup(Q,{emit:r}){const f=Q,y=r,k=()=>{y("video-like",f.lesson.id)},O=()=>{y("next-episode",f.lesson.next_lesson_id)},C=()=>{y("previous-episode",f.lesson.previous_lesson_id)},V=()=>{y("complete-lesson",f.lesson.id)},z=()=>{y("watch-later",f.lesson.id)};return(q,N)=>(T(),A("section",Je,[s("div",Ke,[s("div",Xe,[Ye,f.lesson.previous_lesson_id?(T(),A("a",{key:0,class:"hidden h-12 w-12 flex-1 flex-shrink-0 items-center justify-center rounded-full bg-card-600 transition-all hover:bg-master-900 2xl:flex 2xl:flex-none cursor-pointer",title:"Previous Episode","data-js":"previous-episode-button",disabled:"false",onClick:C},[w(D,{componentId:"chevronLeft"})])):Z("",!0),s("div",et,[s("div",tt,[s("header",st,[s("div",rt,[s("button",{title:"Want to favorite this lesson for future reference?",class:me(["btn btn-circle mr-3",f.lesson.is_mark_as_liked?"btn-error hover:btn-primary":"btn-primary hover:btn-error"]),onClick:k},[w(D,{componentId:"heart"})],2),s("div",null,[s("h1",nt,R(f.lesson.name),1)])])]),s("div",null,[s("dl",at,[s("div",ot,[it,s("dd",lt,R(f.lesson.lesson_duration),1)]),s("div",ct,[dt,s("dd",ut,R(f.lesson.created_diff),1)])])])]),s("div",ht,[s("div",ft,[s("a",{onClick:V,class:me(["btn flex-center btn-primary py-4",f.lesson.is_completed?"btn-success":"btn-primary"])},[w(D,{componentId:"check"}),mt],2)]),s("div",pt,[s("a",{onClick:z,class:me(["btn flex-center py-4",f.lesson.watch_later?"btn-error":"btn-primary"])},[w(D,{componentId:"clock"}),vt],2)])])]),f.lesson.next_lesson_id?(T(),A("a",{key:1,class:"hidden h-12 w-12 flex-1 flex-shrink-0 items-center justify-center rounded-full bg-card-600 transition-all 2xl:flex 2xl:flex-none hover:bg-master-900 cursor-pointer",title:"Next Episode","data-js":"next-episode-button",disabled:"false",onClick:O},[w(D,{componentId:"chevronRight"})])):Z("",!0)])])]))}});var ve={};(function Q(r,f,y,k){var O=!!(r.Worker&&r.Blob&&r.Promise&&r.OffscreenCanvas&&r.OffscreenCanvasRenderingContext2D&&r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype.transferControlToOffscreen&&r.URL&&r.URL.createObjectURL),C=typeof Path2D=="function"&&typeof DOMMatrix=="function",V=function(){if(!r.OffscreenCanvas)return!1;var t=new OffscreenCanvas(1,1),e=t.getContext("2d");e.fillRect(0,0,1,1);var n=t.transferToImageBitmap();try{e.createPattern(n,"no-repeat")}catch{return!1}return!0}();function z(){}function q(t){var e=f.exports.Promise,n=e!==void 0?e:r.Promise;return typeof n=="function"?new n(t):(t(z,z),null)}var N=function(t,e){return{transform:function(n){if(t)return n;if(e.has(n))return e.get(n);var o=new OffscreenCanvas(n.width,n.height),i=o.getContext("2d");return i.drawImage(n,0,0),e.set(n,o),o},clear:function(){e.clear()}}}(V,new Map),$=function(){var t=Math.floor(16.666666666666668),e,n,o={},i=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(l){var c=Math.random();return o[c]=requestAnimationFrame(function a(d){i===d||i+t-1<d?(i=d,delete o[c],l()):o[c]=requestAnimationFrame(a)}),c},n=function(l){o[l]&&cancelAnimationFrame(o[l])}):(e=function(l){return setTimeout(l,t)},n=function(l){return clearTimeout(l)}),{frame:e,cancel:n}}(),X=function(){var t,e,n={};function o(i){function l(c,a){i.postMessage({options:c||{},callback:a})}i.init=function(a){var d=a.transferControlToOffscreen();i.postMessage({canvas:d},[d])},i.fire=function(a,d,m){if(e)return l(a,null),e;var b=Math.random().toString(36).slice(2);return e=q(function(v){function _(x){x.data.callback===b&&(delete n[b],i.removeEventListener("message",_),e=null,N.clear(),m(),v())}i.addEventListener("message",_),l(a,b),n[b]=_.bind(null,{data:{callback:b}})}),e},i.reset=function(){i.postMessage({reset:!0});for(var a in n)n[a](),delete n[a]}}return function(){if(t)return t;if(!y&&O){var i=["var CONFETTI, SIZE = {}, module = {};","("+Q.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{t=new Worker(URL.createObjectURL(new Blob([i])))}catch(l){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",l),null}o(t)}return t}}(),ce={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function G(t,e){return e?e(t):t}function U(t){return t!=null}function g(t,e,n){return G(t&&U(t[e])?t[e]:ce[e],n)}function de(t){return t<0?0:Math.floor(t)}function ue(t,e){return Math.floor(Math.random()*(e-t))+t}function p(t){return parseInt(t,16)}function h(t){return t.map(E)}function E(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:p(e.substring(0,2)),g:p(e.substring(2,4)),b:p(e.substring(4,6))}}function Y(t){var e=g(t,"origin",Object);return e.x=g(e,"x",Number),e.y=g(e,"y",Number),e}function ee(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function te(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function se(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}function re(t,e,n,o,i,l,c,a,d){t.save(),t.translate(e,n),t.rotate(l),t.scale(o,i),t.arc(0,0,1,c,a,d),t.restore()}function ne(t){var e=t.angle*(Math.PI/180),n=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:t.startVelocity*.5+Math.random()*t.startVelocity,angle2D:-e+(.5*n-Math.random()*n),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:t.color,shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,drift:t.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:t.gravity*3,ovalScalar:.6,scalar:t.scalar,flat:t.flat}}function ae(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var n=e.tick++/e.totalTicks,o=e.x+e.random*e.tiltCos,i=e.y+e.random*e.tiltSin,l=e.wobbleX+e.random*e.tiltCos,c=e.wobbleY+e.random*e.tiltSin;if(t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-n)+")",t.beginPath(),C&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))t.fill(Te(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(l-o)*.1,Math.abs(c-i)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var a=Math.PI/10*e.wobble,d=Math.abs(l-o)*.1,m=Math.abs(c-i)*.1,b=e.shape.bitmap.width*e.scalar,v=e.shape.bitmap.height*e.scalar,_=new DOMMatrix([Math.cos(a)*d,Math.sin(a)*d,-Math.sin(a)*m,Math.cos(a)*m,e.x,e.y]);_.multiplySelf(new DOMMatrix(e.shape.matrix));var x=t.createPattern(N.transform(e.shape.bitmap),"no-repeat");x.setTransform(_),t.globalAlpha=1-n,t.fillStyle=x,t.fillRect(e.x-b/2,e.y-v/2,b,v),t.globalAlpha=1}else if(e.shape==="circle")t.ellipse?t.ellipse(e.x,e.y,Math.abs(l-o)*e.ovalScalar,Math.abs(c-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):re(t,e.x,e.y,Math.abs(l-o)*e.ovalScalar,Math.abs(c-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var u=Math.PI/2*3,M=4*e.scalar,L=8*e.scalar,S=e.x,j=e.y,W=5,F=Math.PI/W;W--;)S=e.x+Math.cos(u)*L,j=e.y+Math.sin(u)*L,t.lineTo(S,j),u+=F,S=e.x+Math.cos(u)*M,j=e.y+Math.sin(u)*M,t.lineTo(S,j),u+=F;else t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(i)),t.lineTo(Math.floor(l),Math.floor(c)),t.lineTo(Math.floor(o),Math.floor(e.wobbleY));return t.closePath(),t.fill(),e.tick<e.totalTicks}function oe(t,e,n,o,i){var l=e.slice(),c=t.getContext("2d"),a,d,m=q(function(b){function v(){a=d=null,c.clearRect(0,0,o.width,o.height),N.clear(),i(),b()}function _(){y&&!(o.width===k.width&&o.height===k.height)&&(o.width=t.width=k.width,o.height=t.height=k.height),!o.width&&!o.height&&(n(t),o.width=t.width,o.height=t.height),c.clearRect(0,0,o.width,o.height),l=l.filter(function(x){return ae(c,x)}),l.length?a=$.frame(_):v()}a=$.frame(_),d=v});return{addFettis:function(b){return l=l.concat(b),m},canvas:t,promise:m,reset:function(){a&&$.cancel(a),d&&d()}}}function P(t,e){var n=!t,o=!!g(e||{},"resize"),i=!1,l=g(e,"disableForReducedMotion",Boolean),c=O&&!!g(e||{},"useWorker"),a=c?X():null,d=n?ee:te,m=t&&a?!!t.__confetti_initialized:!1,b=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,v;function _(u,M,L){for(var S=g(u,"particleCount",de),j=g(u,"angle",Number),W=g(u,"spread",Number),F=g(u,"startVelocity",Number),Se=g(u,"decay",Number),Ee=g(u,"gravity",Number),Fe=g(u,"drift",Number),be=g(u,"colors",h),Oe=g(u,"ticks",Number),_e=g(u,"shapes"),$e=g(u,"scalar"),je=!!g(u,"flat"),ye=Y(u),xe=S,fe=[],Re=t.width*ye.x,Be=t.height*ye.y;xe--;)fe.push(ne({x:Re,y:Be,angle:j,spread:W,startVelocity:F,color:be[xe%be.length],shape:_e[ue(0,_e.length)],ticks:Oe,decay:Se,gravity:Ee,drift:Fe,scalar:$e,flat:je}));return v?v.addFettis(fe):(v=oe(t,fe,d,M,L),v.promise)}function x(u){var M=l||g(u,"disableForReducedMotion",Boolean),L=g(u,"zIndex",Number);if(M&&b)return q(function(F){F()});n&&v?t=v.canvas:n&&!t&&(t=se(L),document.body.appendChild(t)),o&&!m&&d(t);var S={width:t.width,height:t.height};a&&!m&&a.init(t),m=!0,a&&(t.__confetti_initialized=!0);function j(){if(a){var F={getBoundingClientRect:function(){if(!n)return t.getBoundingClientRect()}};d(F),a.postMessage({resize:{width:F.width,height:F.height}});return}S.width=S.height=null}function W(){v=null,o&&(i=!1,r.removeEventListener("resize",j)),n&&t&&(document.body.removeChild(t),t=null,m=!1)}return o&&!i&&(i=!0,r.addEventListener("resize",j,!1)),a?a.fire(u,S,W):_(u,S,W)}return x.reset=function(){a&&a.reset(),v&&v.reset()},x}var he;function ge(){return he||(he=P(null,{useWorker:!0,resize:!0})),he}function Te(t,e,n,o,i,l,c){var a=new Path2D(t),d=new Path2D;d.addPath(a,new DOMMatrix(e));var m=new Path2D;return m.addPath(d,new DOMMatrix([Math.cos(c)*i,Math.sin(c)*i,-Math.sin(c)*l,Math.cos(c)*l,n,o])),m}function Pe(t){if(!C)throw new Error("path confetti are not supported in this browser");var e,n;typeof t=="string"?e=t:(e=t.path,n=t.matrix);var o=new Path2D(e),i=document.createElement("canvas"),l=i.getContext("2d");if(!n){for(var c=1e3,a=c,d=c,m=0,b=0,v,_,x=0;x<c;x+=2)for(var u=0;u<c;u+=2)l.isPointInPath(o,x,u,"nonzero")&&(a=Math.min(a,x),d=Math.min(d,u),m=Math.max(m,x),b=Math.max(b,u));v=m-a,_=b-d;var M=10,L=Math.min(M/v,M/_);n=[L,0,0,L,-Math.round(v/2+a)*L,-Math.round(_/2+d)*L]}return{type:"path",path:e,matrix:n}}function Le(t){var e,n=1,o="#000000",i='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof t=="string"?e=t:(e=t.text,n="scalar"in t?t.scalar:n,i="fontFamily"in t?t.fontFamily:i,o="color"in t?t.color:o);var l=10*n,c=""+l+"px "+i,a=new OffscreenCanvas(l,l),d=a.getContext("2d");d.font=c;var m=d.measureText(e),b=Math.ceil(m.actualBoundingBoxRight+m.actualBoundingBoxLeft),v=Math.ceil(m.actualBoundingBoxAscent+m.actualBoundingBoxDescent),_=2,x=m.actualBoundingBoxLeft+_,u=m.actualBoundingBoxAscent+_;b+=_+_,v+=_+_,a=new OffscreenCanvas(b,v),d=a.getContext("2d"),d.font=c,d.fillStyle=o,d.fillText(e,x,u);var M=1/n;return{type:"bitmap",bitmap:a.transferToImageBitmap(),matrix:[M,0,0,M,-b*M/2,-v*M/2]}}f.exports=function(){return ge().apply(this,arguments)},f.exports.reset=function(){ge().reset()},f.exports.create=P,f.exports.shapeFromPath=Pe,f.exports.shapeFromText=Le})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ve,!1);const pe=ve.exports;ve.exports.create;const bt={key:0,class:"bg-dark-100"},_t={class:"py-8 px-4 mx-auto max-w-screen-2xl lg:py-16"},yt={key:1,class:"flex items-center justify-center bg-gradient-to-tl from-dark-100 to-dark-300 border border-gray-800 shadow-lg rounded-lg mb-4 p-8"},xt={class:"flex flex-col items-center space-y-6"},wt=s("figure",{class:"mb-4 transform transition-transform hover:scale-105"},[s("img",{class:"w-52 h-52 mx-auto rounded-md shadow-lg opacity-90 hover:opacity-100 transition-opacity duration-300",src:"/vendor/Image/illustration/subscribe.png",alt:"Subscribe to access premium content"})],-1),Mt={class:"text-center text-2xl lg:text-4xl font-extrabold leading-tight text-white drop-shadow-lg"},kt={class:"font-bold not-italic text-master-500 block"},Ct=s("span",{class:"font-bold mt-2 block"},[Ce(" is for "),s("span",{class:"text-green-500"},"Premium"),Ce(" members only. ")],-1),It={class:"mt-5 text-lg text-center text-gray-300"},Tt=s("p",{class:"text-balance leading-relaxed"}," For the price of a game skin, you'll gain access to exclusive content and hundreds of hours of game development tutorials from TheDevRealm. Whether you're just starting out or looking to hone your skills, join us to learn from top creators and take your game development journey to the next level! ",-1),Pt={class:"flex justify-center gap-2 mt-10"},Lt={key:2,class:"my-5 border bg-base-100 border-accent rounded"},St={class:"max-w-7xl px-10 py-6 mx-auto rounded-lg shadow-md"},Et={class:"flex items-center justify-between"},Ft={class:"flex justify-between gap-1"},Ot=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-white"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),$t={class:"text-lg font-bold text-neutral"},jt=s("a",{class:"px-2 py-1 font-bold text-gray-100 bg-gray-600 rounded hover:bg-gray-500",target:"_blank"},"Close",-1),Rt={class:"mt-2"},Bt={class:"text-2xl font-bold text-neutral hover:underline",target:"_blank"},At=["innerHTML"],Vt={class:"mt-3"},Nt=s("span",null,"About This Episode",-1),Ut=["innerHTML"],Wt={key:1,class:"bg-dark-100"},Dt={class:"py-8 px-4 mx-auto max-w-screen-xl lg:py-16"},zt={class:"card bg-dark-blue-100 w-full"},qt=["alt","src"],Ht={class:"card-body"},Zt={class:"card-title font-bold text-5xl mb-5"},Qt=["innerHTML"],Gt={class:"card-actions justify-start mt-3"},Jt={class:"flex justify-between"},Kt={class:"mt-1"},ws={__name:"View",props:{course:{type:Object,required:!0},course_instructor:{type:Object,required:!0},sections:{type:Array,required:!0},current_lesson:{type:Object,required:!0},editor_key:{type:String,required:!0}},setup(Q){const r=Q;let f=H(!1),y=H(!1),k=H(!1);const O=async p=>{p&&await Ie.get(route("course.view",{slug:r.course.slug,lesson:p}),{preserveState:!0,preserveScroll:!0,only:["current_lesson"]})},C=async p=>{B().props.isUserAuth&&await Ie.post(route("track.lesson.progress",{lesson:r.current_lesson.data.id}),{progress:p},{preserveState:!0,preserveScroll:!0,only:["current_lesson"]})},V=async p=>{B().props.isUserAuth?(await J.post(route("track.lesson.complete",r.current_lesson.data.id)).then(function(h){r.current_lesson.data.is_completed=h.data.status}),pe({particleCount:100,spread:100,origin:{y:.6}})):y.value=!0},z=async p=>{B().props.isUserAuth?(await J.post(route("track.lesson.like",p)).then(function(h){r.current_lesson.data.is_mark_as_liked=h.data.status}),pe({particleCount:100,spread:100,origin:{y:.6}})):y.value=!0},q=async p=>{B().props.isUserAuth?(await J.post(route("track.lesson.watch.later",p)).then(function(h){r.current_lesson.data.watch_later=h.data.status}),pe({particleCount:100,spread:100,origin:{y:.6}})):y.value=!0};let N=H(null),$=H(null);const X=async p=>{B().props.isUserAuth&&(N.value=p,await J.post(route("track.lesson.points.progress",r.current_lesson.data.id),{seconds:N.value}).then(function(h){h.data.status&&($.value=h.data.lessonPoint)}))},ce=async()=>{var p,h,E;(E=(h=(p=r.sections)==null?void 0:p.data[0])==null?void 0:h.children[0])!=null&&E.id&&O(r.sections.data[0].children[0].id)},G=ke(()=>({src:r.course.media[0].url.default,alt:r.course.media[0].url.alt}));let U=H(!1);const g=async()=>{B().props.isUserAuth?U.value=!0:y.value=!0},de=async()=>{k.value=!0,B().props.isUserAuth?J.post(route("stripe.product.checkout"),{products:[{id:r.course.id,quantity:1,type:"course"}]}).then(function(p){window.location.href=p.data.session}).catch(function(p){k.value=!1}):y.value=!0},ue=ke(()=>{var p,h;return(h=(p=B().props.subscriptionsProducts)==null?void 0:p.data[0])==null?void 0:h.price});return(p,h)=>(T(),ie(Ae,{showHeader:!1,showFooter:!1,displayLogin:I(y),onCloseLogin:h[4]||(h[4]=E=>K(y)?y.value=!1:y=!1),displaySubscription:I(U),onCloseSubscription:h[5]||(h[5]=E=>K(U)?U.value=!1:U=!1),displayLoading:I(k),onCloseLoading:h[6]||(h[6]=E=>K(k)?k.value=!1:k=!1)},{default:le(()=>{var E,Y,ee,te,se,re,ne,ae,oe;return[w(ze,{sideBarOpen:I(f),mainImageInfo:G.value,course:r.course,sections:r.sections,currentLesson:r.current_lesson,onChangeLesson:O,onCloseSidebar:h[0]||(h[0]=P=>K(f)?f.value=!1:f=!1)},null,8,["sideBarOpen","mainImageInfo","course","sections","currentLesson"]),(E=r.current_lesson)!=null&&E.data?(T(),A("section",bt,[s("div",_t,[r.current_lesson.data.video_accessible?(T(),A(Ue,{key:0},[r.current_lesson.data.player_type==="vimeo"?(T(),ie(We,{key:0,lessonUrl:r.current_lesson.data.video_url,"lesson-id":r.current_lesson.data.id,seek:(ee=(Y=r.current_lesson.data)==null?void 0:Y.lesson_progress)==null?void 0:ee.watch_time,onVideoRunning:C,onVideoPause:C,onVideoEnded:h[1]||(h[1]=P=>{C(P),V(P)}),onVideoStart:C,onVideoLessonPoints:X},null,8,["lessonUrl","lesson-id","seek"])):Z("",!0),r.current_lesson.data.player_type==="youtube"?(T(),ie(De,{key:1,videoId:r.current_lesson.data.video_id,"lesson-id":r.current_lesson.data.id,seek:(se=(te=r.current_lesson.data)==null?void 0:te.lesson_progress)==null?void 0:se.watch_time,onVideoRunning:C,onVideoPause:C,onVideoEnded:h[2]||(h[2]=P=>{C(P),V(P)}),onVideoStart:C,onVideoLessonPoints:X},null,8,["videoId","lesson-id","seek"])):Z("",!0)],64)):(T(),A("div",yt,[s("div",xt,[wt,s("h2",Mt,[s("cite",kt,"“"+R(r.current_lesson.data.name)+"”",1),Ct]),s("div",It,[Tt,s("div",Pt,[s("button",{onClick:g,class:"btn btn-wide btn-secondary"},"Watch Everything for "+R(I(we)(ue.value)),1),s("button",{onClick:de,class:"btn btn-wide bg-teal-700"},"Buy this Course for "+R(I(we)(r.course.course_price)),1)])])])])),I($)?(T(),A("div",Lt,[s("div",St,[s("div",Et,[s("div",Ft,[Ot,s("span",$t,R(I($).seconds)+"s ",1)]),jt]),s("div",Rt,[s("a",Bt,R(I($).title),1),s("div",{innerHTML:I($).content,class:"mt-10 fancy-editor"},null,8,At)])])])):Z("",!0),s("div",null,[(re=r.current_lesson)!=null&&re.data?(T(),ie(gt,{key:0,lesson:(ne=r.current_lesson)==null?void 0:ne.data,onNextEpisode:O,onPreviousEpisode:O,onVideoLike:z,onCompleteLesson:V,onWatchLater:q},null,8,["lesson"])):Z("",!0),s("div",Vt,[w(I(Ge),null,{default:le(({open:P})=>[w(I(Ze),{class:"flex justify-between bg-dark-blue-100 text-white font-bold text-4xl p-3 rounded-lg w-full text-left hover:bg-dark-blue-200 hover:text-accent"},{default:le(()=>[Nt,w(D,{componentId:"chevronDown"})]),_:1}),w(I(Qe),{class:"p-2 bg-dark-blue-100"},{default:le(()=>[s("div",{class:"mb-8 text-lg font-normal text-neutral fancy-editor",innerHTML:r.current_lesson.data.description},null,8,Ut)]),_:1})]),_:1})]),w(Me,{class:"mt-4",admin:(ae=r.course_instructor)==null?void 0:ae.data},null,8,["admin"]),w(Ve,{modelId:r.current_lesson.data.id,modelClass:"lesson"},null,8,["modelId"])])])])):(T(),A("section",Wt,[s("div",Dt,[s("div",zt,[s("figure",null,[s("img",{alt:G.value.alt,src:G.value.src},null,8,qt)]),s("div",Ht,[s("h2",Zt,R(r.course.title),1),s("div",{class:"generic-content font-bold text-xl text-neutral",innerHTML:r.course.short_description},null,8,Qt),s("div",Gt,[s("a",{onClick:ce,href:"#",class:"inline-flex items-center justify-center h-16 px-10 py-0 text-xl font-semibold text-center text-gray-200 no-underline align-middle transition-all duration-300 ease-in-out bg-transparent border-2 border-white-600 border-solid rounded-full cursor-pointer select-none hover:text-primary hover:bg-accent hover:border-secondary focus:shadow-xs focus:no-underline w-full"},[s("div",Jt,[s("div",Kt,[w(D,{componentId:"play"})])])])])])]),w(He,{course:r.course},null,8,["course"]),w(Me,{class:"mt-4",admin:(oe=r.course_instructor)==null?void 0:oe.data},null,8,["admin"])])])),w(qe,{onOpenSidebar:h[3]||(h[3]=P=>K(f)?f.value=!0:f=!0)})]}),_:1},8,["displayLogin","displaySubscription","displayLoading"]))}};export{ws as default};
