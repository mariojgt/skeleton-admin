import{_ as E,T as M,a as O,L as R}from"./App.vue_vue_type_script_setup_true_lang-CxiywCuu.js";import{C as q,_ as z}from"./CommentBox-ChpanwIm.js";import{U as j}from"./UserProfile-iuJb7_lH.js";import{M as H}from"./Markdown-CNw4SKUu.js";import{_ as G}from"./PostBox-BLScDSrV.js";import{z as J,b as g,w as h,o as i,d as t,e as n,u as v,q as b,t as d,x as K,s as f,g as r,y as k,F as x,I as Q,k as W}from"./preset-CQWAs5E6.js";import{C as X}from"./clock-pq11dMtr.js";import{M as Y}from"./SearchSidebar-CZd-7Eih.js";import"./FlashMessage-BVTNkiIZ.js";import"./createLucideIcon-D_7EMnf_.js";import"./underline-Df3BDPUJ.js";import"./hash-DyrwQXuk.js";import"./bookmark-dDBSYrZv.js";import"./arrow-right-e32bvLb_.js";import"./SeoManager-UUuvSoOw.js";import"./trash-jANRBcXL.js";import"./search-OS1Rae_Q.js";import"./book-open-qC4OK0oL.js";import"./calendar-3-PYJ-te.js";import"./check-JxqYy7e6.js";import"./chevron-down-B4O--sp2.js";import"./chevron-right-CnneLjlt.js";import"./circle-check-big-DGTwe7CI.js";import"./upload-sHl3jrCq.js";import"./code-Cxg_JzwN.js";import"./qr-code-DuRhZo9J.js";import"./crown-DEKc8wsO.js";import"./download-C3Q1WNp9.js";import"./pen-BMSh_f9o.js";import"./shield-check-2s97yzwW.js";import"./eye-DQjgUhTM.js";import"./folder-open-Dd3JiVNW.js";import"./gamepad-2-KLX2eK-3.js";import"./video-DVf5OjgW.js";import"./house-WxmGYVVr.js";import"./key-I1JWgr_W.js";import"./lock-b2Vxt0xW.js";import"./message-circle-BsaPSZlg.js";import"./shopping-bag-CmIJ2-cY.js";import"./play-Bs65Rh-M.js";import"./save-BCa57dOP.js";import"./scroll-Dl_tNgb8.js";import"./shield-tQTJyxnj.js";import"./star-CcYiTYKx.js";import"./trash-2-B-VaxneU.js";import"./triangle-alert-C3c_Md7z.js";import"./trophy-CE-MX819.js";import"./user-TX9j4XNu.js";import"./x-CWPZW0VO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Input.vue_vue_type_style_index_0_scoped_245929fe_lang-BbAMGfGx.js";import"./ReusableModal-BNCYshqa.js";import"./transition-DYShkG3f.js";import"./focus-management-CGqz2qsd.js";import"./keyboard-BCqKPcJl.js";import"./hidden-HQ3BbOtE.js";import"./open-closed--MqtcS5b.js";import"./purify.es-CocPUCx9.js";import"./app-V4z3Y9j2.js";import"./axios-BdxYjMEz.js";import"./Money-DzHkTQ4U.js";import"./CommentsSingle-DEdfB94D.js";/* empty css                                                                       */import"./dynamicIcon.vue_vue_type_script_setup_true_lang-B5IFV4hV.js";const Z={class:"relative min-h-[40vh] flex items-center"},tt={class:"relative container mx-auto px-4 py-16"},ot={class:"flex items-center gap-3 text-sm text-gray-400 mb-4"},et={class:"flex items-center gap-1.5"},st={class:"flex items-center gap-1.5"},at={class:"text-4xl md:text-5xl font-bold text-white max-w-4xl"},it={class:"mt-8 flex items-center gap-4"},rt=["src","alt"],lt={class:"font-medium text-white"},nt={class:"bg-dark-200"},dt={class:"container mx-auto px-4 py-12"},mt={class:"grid grid-cols-1 lg:grid-cols-12 gap-8"},ct={class:"lg:col-span-8"},pt={class:"relative overflow-hidden"},ut={class:"relative p-8"},bt={class:"prose prose-invert max-w-none"},gt={class:"mt-8 pt-8 border-t border-dark-400/50"},ht={class:"flex flex-wrap gap-2"},vt={class:"mt-8 pt-8 border-t border-dark-400/50"},ft={class:"flex gap-2"},kt=["onClick","title"],xt={class:"mt-8"},wt={class:"lg:col-span-4 space-y-6"},yt={class:"relative overflow-hidden"},Pt={class:"relative p-6"},_t={key:0},Ct={key:1},Lt={key:0,class:"relative overflow-hidden sticky top-4"},It={class:"relative p-6"},Tt={class:"space-y-2"},Dt=["href"],Ro={__name:"View",props:{blogPost:{type:Object,required:!0}},setup(e){const w=e,y=J(()=>{const s=[],o=w.blogPost.data.content,c=/<h([1-2])[^>]*>(.*?)<\/h[1-2]>/g;let l;for(;(l=c.exec(o))!==null;){const p=parseInt(l[1]),m=l[2].replace(/<[^>]+>/g,""),u=m.toLowerCase().replace(/[^a-z0-9]+/g,"-");s.push({level:p,text:m,id:u})}return s}),U=[{label:"Share on Twitter",icon:M,onClick:()=>B()},{label:"Share on Facebook",icon:O,onClick:()=>N()},{label:"Copy Link",icon:R,onClick:()=>V()}],$=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),B=()=>{const s=encodeURIComponent(w.blogPost.data.title),o=encodeURIComponent(window.location.href);window.open(`https://twitter.com/intent/tweet?text=${s}&url=${o}`,"_blank")},N=()=>{const s=encodeURIComponent(window.location.href);window.open(`https://www.facebook.com/sharer/sharer.php?u=${s}`,"_blank")},V=async()=>{try{await navigator.clipboard.writeText(window.location.href)}catch{console.error("Failed to copy link")}};return(s,o)=>(i(),g(E,{backgroundFooterClass:"bg-dark-100",headerBackground:"bg-dark-100"},{default:h(()=>{var c,l,p,m,u,P,_,C,L,I,T,D,F,S;return[t("section",Z,[o[3]||(o[3]=t("div",{class:"absolute inset-0 bg-dark-200 overflow-hidden"},[t("div",{class:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-purple-500/5"}),t("div",{class:"absolute inset-0 bg-[url('/grid.svg')] opacity-5"}),t("div",{class:"absolute inset-0 bg-gradient-to-t from-dark-200 to-transparent"})],-1)),t("div",tt,[t("div",ot,[t("time",et,[n(v(X),{class:"w-4 h-4"}),b(" "+d($(e.blogPost.data.created_at)),1)]),o[1]||(o[1]=t("span",{class:"w-1 h-1 rounded-full bg-gray-700"},null,-1)),t("span",st,[n(v(Y),{class:"w-4 h-4"}),b(" "+d(e.blogPost.data.comments_count||0)+" comments ",1)])]),t("h1",at,d(e.blogPost.data.title),1),t("div",it,[t("img",{src:((c=e.blogPost.data.user)==null?void 0:c.avatar)||((l=e.blogPost.data.admin)==null?void 0:l.avatar),alt:((p=e.blogPost.data.user)==null?void 0:p.full_name)||((m=e.blogPost.data.admin)==null?void 0:m.full_name),class:"w-12 h-12 rounded-lg object-cover"},null,8,rt),t("div",null,[t("div",lt,d(((u=e.blogPost.data.user)==null?void 0:u.full_name)||((P=e.blogPost.data.admin)==null?void 0:P.full_name)),1),o[2]||(o[2]=t("div",{class:"text-sm text-gray-400"},"Author",-1))])])])]),t("section",nt,[t("div",dt,[t("div",mt,[t("div",ct,[t("article",pt,[o[6]||(o[6]=t("div",{class:"absolute inset-0 bg-dark-300/50 backdrop-blur-sm border border-dark-400/50 rounded-xl"},null,-1)),t("div",ut,[t("div",bt,[n(H,{content:e.blogPost.data.content,enableHtmlParsing:!!((_=e.blogPost.data.admin)!=null&&_.id)},null,8,["content","enableHtmlParsing"]),!((L=(C=e.blogPost.data)==null?void 0:C.admin)!=null&&L.id)&&((D=(T=(I=v(K)().props)==null?void 0:I.authUserInfo)==null?void 0:T.data)==null?void 0:D.id)===((S=(F=e.blogPost.data)==null?void 0:F.user)==null?void 0:S.id)?(i(),g(G,{key:0,categories:s.categories,"post-btn-class":"w-full btn btn-primary",onDisplayLogin:o[0]||(o[0]=a=>s.displayLogin=!0),topitEdit:e.blogPost.data},{default:h(()=>o[4]||(o[4]=[b(" Edit ")])),_:1},8,["categories","topitEdit"])):f("",!0)]),t("div",gt,[t("div",ht,[(i(),r(x,null,k(["Gaming","Tutorial","News"],a=>t("span",{key:a,class:"px-3 py-1 bg-dark-400/50 rounded-full text-sm text-gray-300"},d(a),1)),64))])]),t("div",vt,[o[5]||(o[5]=t("h3",{class:"text-lg font-medium text-white mb-4"},"Share this article",-1)),t("div",ft,[(i(),r(x,null,k(U,a=>t("button",{key:a.label,onClick:a.onClick,class:"p-2 bg-dark-400/50 hover:bg-dark-400 rounded-lg transition-colors",title:a.label},[(i(),g(Q(a.icon),{class:"w-5 h-5 text-gray-400"}))],8,kt)),64))])])])]),t("div",xt,[n(q,{modelId:e.blogPost.data.id,modelClass:"blog"},{default:h(()=>o[7]||(o[7]=[b(" Discussion ")])),_:1},8,["modelId"])])]),t("aside",wt,[t("div",yt,[o[9]||(o[9]=t("div",{class:"absolute inset-0 bg-dark-300/50 backdrop-blur-sm border border-dark-400/50 rounded-xl"},null,-1)),t("div",Pt,[o[8]||(o[8]=t("h3",{class:"text-lg font-medium text-white mb-4"},"About the Author",-1)),e.blogPost.data.admin?(i(),r("div",_t,[n(z,{admin:e.blogPost.data.admin},null,8,["admin"])])):e.blogPost.data.user?(i(),r("div",Ct,[n(j,{user:e.blogPost.data.user},null,8,["user"])])):f("",!0)])]),y.value.length?(i(),r("div",Lt,[o[11]||(o[11]=t("div",{class:"absolute inset-0 bg-dark-300/50 backdrop-blur-sm border border-dark-400/50 rounded-xl"},null,-1)),t("div",It,[o[10]||(o[10]=t("h3",{class:"text-lg font-medium text-white mb-4"},"Table of Contents",-1)),t("nav",Tt,[(i(!0),r(x,null,k(y.value,(a,A)=>(i(),r("a",{key:A,href:"#"+a.id,class:W(["block text-gray-400 hover:text-blue-400 transition-colors",{"pl-4":a.level===2}])},d(a.text),11,Dt))),128))])])])):f("",!0)])])])])]}),_:1}))}};export{Ro as default};
