import{ak as O,v as s,o as n,g as i,d as o,n as a,p as v,aw as b,b as C,E,l as h,t as g,e as w,u as f,A as Z,f as K,G as J}from"./index-WItOpbdS.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as W,b as X,N as Y,c as ee,d as te}from"./App.vue_vue_type_style_index_0_lang-DgznI69R.js";import{S as re}from"./star-DeAhN4QA.js";import{G as D}from"./gamepad-2-oAnktp6q.js";import{S as oe}from"./scroll-BNMWMBtd.js";import{M as se}from"./message-square-BsO5noHy.js";import{P as ae}from"./pen-Z-rwVA3g.js";import{Z as ne}from"./zap-Cbw5Ho42.js";const ie={key:1,class:"absolute -top-1 -right-1 z-10"},le={class:"relative"},de={class:"relative flex gap-4 p-4"},ce={class:"flex-shrink-0 w-14"},ue={class:"relative"},ge=["src","alt"],ve={key:0},pe={key:1},me={class:"flex-1 min-w-0"},be={class:"flex items-start justify-between gap-4"},he={class:"text-lg font-bold text-white group-hover:text-[#8B60ED] transition-colors line-clamp-1"},fe={class:"flex-shrink-0"},xe=["innerHTML"],we={class:"mt-3 flex items-center gap-4 text-sm"},Ae={class:"flex items-center gap-2"},_e={class:"text-[#BAD9FC]/60"},ye={class:"flex items-center gap-3"},Fe={__name:"PostCard",props:{record:{type:Object,required:!0}},setup(l){const A=O("route"),r=l,d=s(()=>(r.record.comments_count||0)>=5),c=s(()=>(r.record.views_count||0)>=20),u=s(()=>(r.record.views_count||0)>=50),_=s(()=>{var e;return r.record.admin||((e=r.record.user)==null?void 0:e.has_subscription)}),k=s(()=>d.value?"hover:bg-[#1E2A42] hover:shadow-[0_10px_25px_rgba(220,38,38,0.2)]":c.value?"hover:bg-[#1E2A42] hover:shadow-[0_10px_25px_rgba(59,130,246,0.2)]":u.value?"hover:bg-[#1E2A42] hover:shadow-[0_10px_25px_rgba(139,96,237,0.2)]":"hover:bg-[#1E2A42] hover:shadow-[0_5px_15px_rgba(50,138,241,0.2)]"),L=s(()=>d.value?"bg-gradient-to-r from-[#F19A1A]/5 to-[#FF4433]/5":c.value?"bg-gradient-to-r from-[#328AF1]/5 to-[#21C8F6]/5":u.value?"bg-gradient-to-r from-[#8B60ED]/5 to-[#B372BD]/5":"bg-gradient-to-r from-[#328AF1]/5 to-transparent"),M=s(()=>d.value?"border-[#F19A1A]/50 animate-pulse":c.value?"border-[#328AF1]/50":u.value?"border-[#8B60ED]/50":""),p=e=>{let t;return d.value?t="%23F19A1A":c.value?t="%23328AF1":u.value?t="%238B60ED":t="%23BAD9FC",{topLeft:`background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Cpath d='M8 8 L24 8 M8 8 L8 24 M12 12 L20 20 M20 12 L12 20' stroke='${t}' stroke-width='1' fill='none' opacity='0.7'/%3E%3C/svg%3E")`,topRight:`background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Cpath d='M8 8 L24 8 M24 8 L24 24 M12 12 L20 20 M20 12 L12 20' stroke='${t}' stroke-width='1' fill='none' opacity='0.7'/%3E%3C/svg%3E")`,bottomLeft:`background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Cpath d='M8 24 L24 24 M8 8 L8 24 M12 12 L20 20 M20 12 L12 20' stroke='${t}' stroke-width='1' fill='none' opacity='0.7'/%3E%3C/svg%3E")`,bottomRight:`background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Cpath d='M8 24 L24 24 M24 8 L24 24 M12 12 L20 20 M20 12 L12 20' stroke='${t}' stroke-width='1' fill='none' opacity='0.7'/%3E%3C/svg%3E")`}[e]},m=s(()=>d.value?{icon:W,text:"Epic",class:"bg-gradient-to-r from-[#F19A1A] to-[#FF4433] border border-[#F19A1A]/50"}:c.value?{icon:X,text:"Trending",class:"bg-gradient-to-r from-[#328AF1] to-[#21C8F6] border border-[#328AF1]/50"}:u.value?{icon:re,text:"Legendary",class:"bg-gradient-to-r from-[#8B60ED] to-[#B372BD] border border-[#8B60ED]/50"}:null),S=s(()=>{var t;return`flex items-center gap-1 px-2 py-0.5 text-xs font-bold text-white rounded-full shadow-lg ${((t=m.value)==null?void 0:t.class)||""}`}),P=s(()=>{const e="absolute -inset-1 blur-sm rounded-full";return d.value?`${e} bg-[#F19A1A]/30`:c.value?`${e} bg-[#328AF1]/30`:u.value?`${e} bg-[#8B60ED]/30`:""}),N=s(()=>{var e;return r.record.admin?"border-[#8B60ED] opacity-50 group-hover:opacity-80 transition-opacity":(e=r.record.user)!=null&&e.has_subscription?"border-[#F19A1A] opacity-50 group-hover:opacity-80 transition-opacity":"border-[#328AF1]/30 opacity-30 group-hover:opacity-60 transition-opacity"}),R=s(()=>{var e;return r.record.admin?"bg-[#8B60ED]/30":(e=r.record.user)!=null&&e.has_subscription?"bg-[#F19A1A]/30":""}),$=s(()=>{var e;return r.record.admin?"ring-[#8B60ED]/50":(e=r.record.user)!=null&&e.has_subscription?"ring-[#F19A1A]/50":"ring-[#253D63]"}),G=s(()=>{var e;return r.record.admin?"bg-[#8B60ED] text-white shadow-[0_0_10px_rgba(139,96,237,0.3)]":(e=r.record.user)!=null&&e.has_subscription?"bg-[#F19A1A] text-white shadow-[0_0_10px_rgba(241,154,26,0.3)]":""}),T=s(()=>{var e;return r.record.admin?"text-[#8B60ED]":(e=r.record.user)!=null&&e.has_subscription?"text-[#F19A1A]":"text-[#328AF1]"}),U=s(()=>r.record.views_count>=50?"text-[#8B60ED]":r.record.views_count>=20?"text-[#328AF1]":"text-[#BAD9FC]"),V=s(()=>r.record.comments_count>=5?"text-[#F19A1A]":r.record.comments_count>=3?"text-[#FFC73C]":"text-[#BAD9FC]"),j=s(()=>{var t;return{News:Y,Updates:ne,Tournaments:ee,Reviews:D,Battles:te}[(t=r.record.category)==null?void 0:t.name]||D}),I=s(()=>{var t;return{News:"bg-[#8B60ED]/10 text-[#8B60ED] border-[#8B60ED]/30",Updates:"bg-[#328AF1]/10 text-[#328AF1] border-[#328AF1]/30",Tournaments:"bg-[#F19A1A]/10 text-[#F19A1A] border-[#F19A1A]/30",Reviews:"bg-[#1AAB8B]/10 text-[#1AAB8B] border-[#1AAB8B]/30",Battles:"bg-[#FF4433]/10 text-[#FF4433] border-[#FF4433]/30"}[(t=r.record.category)==null?void 0:t.name]||"bg-[#328AF1]/10 text-[#328AF1] border-[#328AF1]/30"}),z=s(()=>{var e,t;return((e=r.record.admin)==null?void 0:e.avatar)||((t=r.record.user)==null?void 0:t.avatar)}),y=s(()=>{var e,t;return((e=r.record.admin)==null?void 0:e.full_name)||((t=r.record.user)==null?void 0:t.full_name)}),F=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString(),H=()=>{J.visit(A("news.view",r.record.slug))},q=e=>{e.stopPropagation(),window.open(A("gamedev.blog.edit",r.record.id),"_blank")};return(e,t)=>{var x,B;return n(),i("article",{class:a(["group relative bg-[#1E2A42]/90 backdrop-blur-sm rounded-lg transition-all duration-500 cursor-pointer overflow-hidden",k.value]),onClick:H},[o("div",{class:a(["absolute inset-0 opacity-30 group-hover:opacity-60 transition-opacity duration-500",L.value])},null,2),d.value||c.value||u.value?(n(),i("div",{key:0,class:a(["absolute inset-0 border-2 rounded-lg transition-all duration-300",M.value])},null,2)):v("",!0),o("div",{class:"absolute top-0 left-0 w-6 h-6",style:b(p("topLeft"))},null,4),o("div",{class:"absolute top-0 right-0 w-6 h-6",style:b(p("topRight"))},null,4),o("div",{class:"absolute bottom-0 left-0 w-6 h-6",style:b(p("bottomLeft"))},null,4),o("div",{class:"absolute bottom-0 right-0 w-6 h-6",style:b(p("bottomRight"))},null,4),m.value?(n(),i("div",ie,[o("div",le,[o("div",{class:a(P.value)},null,2),o("span",{class:a(S.value)},[(n(),C(E(m.value.icon),{class:"w-3 h-3"})),h(" "+g(m.value.text),1)],2)])])):v("",!0),o("div",de,[o("div",ce,[o("div",ue,[o("div",{class:a(["absolute inset-0 rounded-lg border-2",N.value])},null,2),_.value?(n(),i("div",{key:0,class:a(["absolute -inset-1 rounded-lg blur-sm",R.value])},null,2)):v("",!0),o("img",{src:z.value,alt:y.value,class:a(["relative w-14 h-14 rounded-lg object-cover ring-2",$.value])},null,10,ge),_.value?(n(),i("div",{key:1,class:a(["absolute -bottom-2 left-1/2 transform -translate-x-1/2 px-2 py-0.5 rounded-full text-xs font-bold",G.value])},[r.record.admin?(n(),i("span",ve,"GM")):(x=r.record.user)!=null&&x.has_subscription?(n(),i("span",pe,"PRO")):v("",!0)],2)):v("",!0)])]),o("div",me,[o("div",be,[o("h2",he,g(l.record.title),1),o("div",fe,[o("span",{class:a(["inline-flex items-center gap-1.5 px-3 py-1 rounded-lg text-sm font-medium border",I.value])},[(n(),C(E(j.value),{class:"w-4 h-4"})),h(" "+g((B=l.record.category)==null?void 0:B.name),1)],2)])]),o("p",{class:"mt-1 text-[#BAD9FC] text-sm line-clamp-2",innerHTML:l.record.short_description},null,8,xe),o("div",we,[o("div",Ae,[o("span",{class:a(["font-medium",T.value])},g(y.value),3),o("span",_e,g(l.record.created_at_human),1)]),o("div",ye,[o("div",{class:a(["flex items-center gap-1.5",U.value])},[w(f(oe),{class:"w-4 h-4"}),h(" "+g(F(l.record.views_count||0)),1)],2),o("div",{class:a(["flex items-center gap-1.5",V.value])},[w(f(se),{class:"w-4 h-4"}),h(" "+g(F(l.record.comments_count||0)),1)],2)])])]),f(Z)().props.isAdminAuth?(n(),i("button",{key:0,onClick:K(q,["stop"]),class:"relative inline-flex items-center gap-1.5 px-3 py-1.5 text-[#8B60ED] hover:text-white hover:bg-[#8B60ED]/20 rounded-lg text-sm transition-all overflow-hidden group/edit"},[t[0]||(t[0]=o("div",{class:"absolute top-0 left-0 w-1 h-1 border-t border-l border-[#8B60ED] opacity-50 group-hover/edit:opacity-100 transition-opacity"},null,-1)),t[1]||(t[1]=o("div",{class:"absolute bottom-0 right-0 w-1 h-1 border-b border-r border-[#8B60ED] opacity-50 group-hover/edit:opacity-100 transition-opacity"},null,-1)),w(f(ae),{class:"w-4 h-4"}),t[2]||(t[2]=o("span",{class:"hidden sm:inline"},"Edit",-1))])):v("",!0)])],2)}}},Ne=Q(Fe,[["__scopeId","data-v-03fe074b"]]);export{Ne as P};
