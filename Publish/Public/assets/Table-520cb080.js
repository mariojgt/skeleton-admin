import{bN as E,o as n,k as d,d as t,F as $,B as H,a as k,bA as j,C as V,f as y,u as a,x as L,z as T,b as W,w as O,t as S,m as q,bG as P,bv as I,i as A,bw as Q,l as J,p as X,bO as Y}from"./preset-8daa11fd.js";import{_ as F}from"./Input-13cd385f.js";import{_ as Z}from"./Password-0aaeceff.js";import{_ as ee}from"./Select-9bb1b809.js";import{_ as te}from"./Image-95b49a5e.js";import{_ as z}from"./TextMultipleSelector-eb552b9d.js";import{_ as le}from"./Toogle-987f6eda.js";import{Q as N,V as R,N as G}from"./disclosure-1d4c671c.js";const oe=["for"],se=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),ne=[se],ae=["id"],ie={class:"modal"},de={class:"modal-box w-11/12 max-w-5xl"},re=["for"],ce=t("h3",{class:"text-lg font-bold"},"This action cannot be undone.",-1),ue=t("p",{class:"py-4"},"Are you sure you want to delete this item?",-1),pe={class:"modal-action"},me=["for"],_e=["for"],he={__name:"delete",props:{id:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onDelete"],setup(f,{emit:b}){const c=E(),i=f,s=b,u=async()=>{H.post(i.endpoint,{model:i.model,id:i.id,permission:i.permission}).then(function(p){c.success(p.data.message),s("onDelete")}).catch(function(p){for(const[h,v]of Object.entries(p.response.data.errors))c.error(v[0])})};return(p,h)=>(n(),d($,null,[t("label",{for:"my-modal-"+i.id,class:"btn btn-error modal-button"},ne,8,oe),t("input",{type:"checkbox",id:"my-modal-"+i.id,class:"modal-toggle"},null,8,ae),t("div",ie,[t("div",de,[t("label",{for:"my-modal-"+i.id,class:"btn btn-sm btn-circle absolute right-2 top-2"},"✕",8,re),ce,ue,t("div",pe,[t("label",{for:"my-modal-"+i.id,class:"btn btn-success"},"Close!",8,me),t("label",{for:"my-modal-"+i.id,onClick:u,class:"btn btn-error"},"Delete",8,_e)])])])],64))}},fe=f=>{const b=f.split("/");return new Date(b[2]+"/"+b[1]+"/"+b[0]).toISOString().split("T")[0]},ye=f=>{const b=f.split("/");return new Date(b[2]+"/"+b[1]+"/"+b[0]).toISOString().substr(0,16)},be=f=>f?f.toString():"",ve={key:0},ge={key:1},we={key:2},ke={key:3},$e={key:4},xe={key:5},Ve={key:6},Se={key:7},Ce={key:8},Ue={key:9},Fe={key:10},Oe={key:11},De=["innerHTML"],Be={key:12},K={__name:"formbuilder",props:{columns:{type:Array,default:()=>[]},modelValue:{type:Array,default:()=>[]},editMode:{type:String,default:"false"}},emits:["onFormUpdate"],setup(f,{emit:b}){const c=b,i=f;let s=k([]);(()=>{s.value=[];for(const[v,l]of Object.entries(i.columns))if(i.editMode=="false"){if(l.canCreate){let e="";l.type=="toogle"&&(e=!1),s.value.push({key:l.key,label:l.label,type:l.type,nullable:l==null?void 0:l.nullable,unique:l==null?void 0:l.unique,endpoint:l==null?void 0:l.endpoint,displayKey:l==null?void 0:l.displayKey,columns:l==null?void 0:l.columns,model:l==null?void 0:l.model,singleSearch:l==null?void 0:l.singleSearch,relation:l==null?void 0:l.relation,value:e,select_options:l==null?void 0:l.select_options})}}else if(l.canEdit){let e=null;switch(l.type){case"date":e=fe(i.modelValue[l.key]);break;case"timestamp":e=ye(i.modelValue[l.key]);break;case"media":e=i.modelValue[l.key];break;case"model_search":e=i.modelValue[l.key];break;case"pivot_model":e=i.modelValue[l.key];break;default:e=be(i.modelValue[l.key]);break}s.value.push({key:l.key,label:l.label,type:l.type,nullable:l==null?void 0:l.nullable,displayKey:l==null?void 0:l.displayKey,unique:l==null?void 0:l.unique,value:e,endpoint:l==null?void 0:l.endpoint,columns:l==null?void 0:l.columns,model:l==null?void 0:l.model,singleSearch:l==null?void 0:l.singleSearch,relation:l==null?void 0:l.relation,select_options:l==null?void 0:l.select_options})}i.editMode=="true"&&c("onFormUpdate",s.value)})();let p=k(null);j(()=>s.value,()=>{clearTimeout(p.value),p.value=setTimeout(function(){c("onFormUpdate",s.value)},500)},{deep:!0});const h=async(v,l,e)=>{if(e=="name"||e=="title"){const r=s.value.findIndex(o=>o.key=="slug");s.value[r]&&(s.value[r].value=v.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))}};return(v,l)=>(n(!0),d($,null,V(a(s),(e,r)=>(n(),d("div",{key:r},[e.type=="text"?(n(),d("div",ve,[y(a(F),{modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,type:"text",label:e.label,onKeyup:o=>h(o.target.value,e.type,e.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):e.type=="password"?(n(),d("div",ge,[y(a(Z),{modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="email"?(n(),d("div",we,[y(a(F),{modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,type:"email",label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="date"?(n(),d("div",ke,[y(a(F),{modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,type:"date",label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="timestamp"?(n(),d("div",$e,[y(a(F),{modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,type:"datetime-local",label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="slug"?(n(),d("div",xe,[y(a(F),{modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,type:"text",label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="media"?(n(),d("div",Ve,[y(a(te),{modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,label:"image",placeholder:"search","load-data":a(s)[r].value,endpoint:e.endpoint},null,8,["modelValue","onUpdate:modelValue","load-data","endpoint"])])):e.type=="number"?(n(),d("div",Se,[y(a(F),{modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,type:"number",label:e.label,onKeyup:o=>h(o.target.value,e.type,e.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):e.type=="model_search"?(n(),d("div",Ce,[y(a(z),{modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,label:e.label,placeholder:"search",model:e.model,columns:e.columns,"single-mode":e.singleSearch,"load-data":a(s)[r].value,endpoint:e.endpoint,"display-key":e.displayKey},null,8,["modelValue","onUpdate:modelValue","label","model","columns","single-mode","load-data","endpoint","display-key"])])):e.type=="pivot_model"?(n(),d("div",Ue,[y(a(z),{modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,label:e.label,placeholder:"search",model:e.model,columns:e.columns,"single-mode":e.singleSearch,"load-data":a(s)[r].value,endpoint:e.endpoint,"display-key":e.displayKey},null,8,["modelValue","onUpdate:modelValue","label","model","columns","single-mode","load-data","endpoint","display-key"])])):e.type=="toogle"?(n(),d("div",Fe,[y(a(le),{modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):L("",!0),e.type=="icon"?(n(),d("div",Oe,[y(a(F),{modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,type:"text",label:e.label,onKeyup:o=>h(o.target.value,e.type,e.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"]),t("div",{class:"bg-white flex justify-center p-10",innerHTML:a(s)[r].value},null,8,De)])):L("",!0),e.type=="select"?(n(),d("div",Be,[y(a(ee),{modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,type:"text",label:e.label,options:e.select_options,onKeyup:o=>h(o.target.value,e.type,e.key)},null,8,["modelValue","onUpdate:modelValue","label","options","onKeyup"])])):L("",!0)]))),128))}},Me=t("label",{for:"my-modal-5",class:"btn btn-primary modal-button"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})])],-1),je=t("input",{type:"checkbox",id:"my-modal-5",class:"modal-toggle"},null,-1),Te={class:"modal text-center"},Pe={key:0,class:"modal-box w-11/12 max-w-5xl"},Ae=t("h3",{class:"font-bold text-lg"},"New",-1),Ke={class:"w-full"},Ee={class:"w-full bg-base-300 p-2"},He={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Le=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"},null,-1),Ie=[Le],We={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},qe=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"},null,-1),ze=[qe],Ne={class:"w-full bg-base-300 p-6"},Re=t("label",{for:"my-modal-5",class:"btn btn-error"},"Close",-1),Ge={key:1,class:"modal-box w-11/12 max-w-5xl"},Qe=q('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title">The create method has been disable</h2><p>Try to contact the administrator </p></div></div>',1),Je=[Qe],Xe={__name:"create",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onCreate"],setup(f,{emit:b}){const c=E(),i=f,s=T(()=>i.columns.filter(e=>e.canCreate).length>0),u=T(()=>{const e=i.columns.filter(w=>w.section),r=i.columns.filter(w=>!w.section),o=e.map(w=>w.section),_=[...new Set(o)],m=[];return _.forEach(w=>{const D=e.filter(B=>B.section==w);m.push({section:w,fields:D})}),{sections:_,fields:r,sectionsWithFields:m}});let p=k(i.columns.filter(e=>e.canCreate));const h=async e=>{if(p.value.length>0)for(const[r,o]of Object.entries(e))for(const[_,m]of Object.entries(p.value))o.key==m.key&&(p.value[_]=o);else p.value=e},v=b,l=async()=>{H.post(i.endpoint,{model:i.model,data:p.value,permission:i.permission}).then(function(e){c.success(e.data.message),v("onCreate")}).catch(function(e){for(const[r,o]of Object.entries(e.response.data.errors))c.error(o[0])})};return(e,r)=>(n(),d($,null,[Me,je,t("div",Te,[s.value?(n(),d("div",Pe,[Ae,t("div",Ke,[t("div",Ee,[(n(!0),d($,null,V(u.value.sectionsWithFields,(o,_)=>(n(),W(a(G),{as:"div",class:"mt-2",key:_},{default:O(({open:m})=>[y(a(N),{class:"btn btn-primary w-full"},{default:O(()=>[t("span",null,S(o.section),1),m?(n(),d("svg",He,Ie)):(n(),d("svg",We,ze))]),_:2},1024),y(a(R),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:O(()=>[y(K,{columns:o.fields,onOnFormUpdate:h},null,8,["columns"])]),_:2},1024)]),_:2},1024))),128))])]),t("div",Ne,[y(K,{columns:u.value.fields,onOnFormUpdate:h},null,8,["columns"])]),t("div",{class:"modal-action"},[Re,t("label",{for:"my-modal-5",class:"btn btn-success",onClick:l},"Create")])])):(n(),d("div",Ge,Je))])],64))}},Ye=["for"],Ze=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),et=[Ze],tt=["id"],lt={class:"modal text-center"},ot={key:0,class:"modal-box w-11/12 max-w-5xl"},st=t("h3",{class:"font-bold text-lg"},"Edit",-1),nt={class:"w-full"},at={class:"w-full bg-base-300 p-2"},it={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},dt=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"},null,-1),rt=[dt],ct={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},ut=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"},null,-1),pt=[ut],mt={class:"w-full bg-base-300 p-6"},_t={class:"modal-action"},ht=["for"],ft=["for"],yt={key:1,class:"modal-box w-11/12 max-w-5xl"},bt=q('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title">The edit method has been disable</h2><p>Try to contact the administrator </p></div></div>',1),vt=[bt],gt={__name:"edit",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},id:{type:String,default:"0"},modelValue:{type:Array,default:()=>[]},permission:{type:String,default:null}},emits:["onEdit"],setup(f,{emit:b}){const c=E(),i=f,s=T(()=>i.columns.filter(e=>e.canEdit).length>0),u=T(()=>{const e=i.columns.filter(w=>w.section),r=i.columns.filter(w=>!w.section),o=e.map(w=>w.section),_=[...new Set(o)],m=[];return _.forEach(w=>{const D=e.filter(B=>B.section==w);m.push({section:w,fields:D})}),{sections:_,fields:r,sectionsWithFields:m}});let p=k(i.columns.filter(e=>e.canEdit));const h=async e=>{if(p.value.length>0)for(const[r,o]of Object.entries(e))for(const[_,m]of Object.entries(p.value))o.key==m.key&&(p.value[_]=o);else p.value=e},v=b,l=async()=>{H.post(i.endpoint,{model:i.model,id:i.id,data:p.value,permission:i.permission}).then(function(e){c.success(e.data.message),v("onEdit")}).catch(function(e){for(const[r,o]of Object.entries(e.response.data.errors))c.error(o[0])})};return(e,r)=>(n(),d($,null,[t("label",{for:"edit-data-"+i.id,class:"btn btn-info modal-button"},et,8,Ye),t("input",{type:"checkbox",id:"edit-data-"+i.id,class:"modal-toggle"},null,8,tt),t("div",lt,[s.value?(n(),d("div",ot,[st,t("div",nt,[t("div",at,[(n(!0),d($,null,V(u.value.sectionsWithFields,(o,_)=>(n(),W(a(G),{as:"div",class:"mt-2",key:_,defaultOpen:!0},{default:O(({open:m})=>[y(a(N),{class:"btn btn-primary w-full"},{default:O(()=>[t("span",null,S(o.section),1),m?(n(),d("svg",it,rt)):(n(),d("svg",ct,pt))]),_:2},1024),y(a(R),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:O(()=>[y(K,{columns:o.fields,onOnFormUpdate:h,editMode:"true",modelValue:i.modelValue},null,8,["columns","modelValue"])]),_:2},1024)]),_:2},1024))),128))])]),t("div",mt,[y(K,{columns:u.value.fields,onOnFormUpdate:h,editMode:"true",modelValue:i.modelValue},null,8,["columns","modelValue"])]),t("div",_t,[t("label",{for:"edit-data-"+i.id,class:"btn btn-error"},"Close",8,ht),t("label",{for:"edit-data-"+i.id,class:"btn btn-success",onClick:l},"Edit",8,ft)])])):(n(),d("div",yt,vt))])],64))}},wt={class:"my-2 flex sm:flex-row flex-col p-6"},kt={class:"flex flex-row mb-1 sm:mb-0"},$t={class:"relative pl-4"},xt=q('<option disabled selected>Per page</option><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option>',5),Vt=[xt],St={class:"relative pl-4"},Ct=t("option",{disabled:"",selected:""},"Row",-1),Ut=["value"],Ft={class:"relative pl-4"},Ot=t("option",{disabled:"",selected:""},"Order by",-1),Dt=t("option",{value:"asc"},"Asc",-1),Bt=t("option",{value:"desc"},"Desc",-1),Mt=[Ot,Dt,Bt],jt={class:"block relative pl-4"},Tt={class:"form-control"},Pt={class:"input-group"},At=t("button",{class:"btn btn-square btn-primary"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),Kt={__name:"filter",props:{columns:{type:Array,default:()=>[]}},emits:["onPerPage","onOrderBy","onSearch","onFilter","onFilterReset"],setup(f,{emit:b}){const c=f,i=b;let s=k(10),u=k("id"),p=k("asc"),h=k(""),v=k([]);(async()=>{for(const[o,_]of Object.entries(c.columns))_.sortable&&(o==0&&(u.value=_.key),v.value.push({label:_.label,value:_.key}))})(),j(()=>s.value,o=>{i("onPerPage",o)}),j(()=>p.value,o=>{i("onOrderBy",o)}),j(()=>u.value,o=>{i("onFilter",o)});let e=k(null);j(()=>h.value,o=>{clearTimeout(e.value),e.value=setTimeout(function(){i("onSearch",o)},500)});const r=async()=>{s.value=10,u.value="id",p.value="asc",h.value=null,i("onFilterReset",[{perPage:s.value,filterBy:u.value,orderBy:p.value,search:h.value}])};return(o,_)=>(n(),d("div",wt,[t("div",kt,[t("div",$t,[P(t("select",{class:"select select-primary w-full max-w-xs","onUpdate:modelValue":_[0]||(_[0]=m=>A(s)?s.value=m:s=m)},Vt,512),[[I,a(s)]])]),t("div",St,[P(t("select",{class:"select select-primary w-full max-w-xs","onUpdate:modelValue":_[1]||(_[1]=m=>A(u)?u.value=m:u=m),onChange:_[2]||(_[2]=(...m)=>o.filterChange&&o.filterChange(...m))},[Ct,(n(!0),d($,null,V(a(v),(m,w)=>(n(),d("option",{key:w,value:m.value},S(m.label),9,Ut))),128))],544),[[I,a(u)]])]),t("div",Ft,[P(t("select",{class:"select select-primary w-full max-w-xs","onUpdate:modelValue":_[3]||(_[3]=m=>A(p)?p.value=m:p=m)},Mt,512),[[I,a(p)]])])]),t("div",jt,[t("div",Tt,[t("div",Pt,[P(t("input",{type:"text",placeholder:"Search…",class:"input input-bordered","onUpdate:modelValue":_[4]||(_[4]=m=>A(h)?h.value=m:h=m)},null,512),[[Q,a(h)]]),At])])]),t("div",{class:"block relative pl-4"},[t("button",{class:"btn btn-outline btn-accent",onClick:r}," Reset ")])]))}},Et={class:"px-5 py-5 bg-base-200 border-t flex flex-col xs:flex-row items-center xs:justify-between"},Ht={class:"text-xs xs:text-sm text-primary"},Lt={class:"inline-flex mt-2 xs:mt-0"},It={class:"btn-group"},Wt=["onClick"],qt=["innerHTML"],zt={__name:"pagination",props:{paginationInfo:{type:Object,default:()=>[]}},emits:["onPagiation"],setup(f,{emit:b}){const c=b,i=async u=>{c("onPagiation",u)},s=f;return(u,p)=>(n(),d("div",Et,[t("span",Ht," Showing "+S(s.paginationInfo.currentPage)+" to "+S(s.paginationInfo.perPage)+" of "+S(s.paginationInfo.total)+" Entries ",1),t("div",Lt,[t("div",It,[(n(!0),d($,null,V(s.paginationInfo.links,(h,v)=>(n(),d("button",{class:J(["btn btn-md",h.active?"btn-active":""]),key:v,onClick:l=>i(h.url)},[t("span",{innerHTML:h.label},null,8,qt)],10,Wt))),128))])])]))}},Nt={key:0},Rt={class:"carousel rounded-box w-96"},Gt={class:"carousel-item w-1/2"},Qt=["src"],Jt={key:1},Xt=["innerHTML"],Yt={key:1},Zt={key:0,class:"badge badge-success mt-3"},el={key:1,class:"badge badge-error mt-3"},tl={key:2},ll={class:"flex flex-col"},ol=["innerHTML"],sl={__name:"tableDataDisplay",props:{tableData:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]}},setup(f){const b=f,c=T(()=>{let i=[];for(const[s,u]of Object.entries(b.columns))i.push({label:u.label,type:u.type,value:b.tableData[u.key]});return i});return(i,s)=>(n(!0),d($,null,V(c.value,(u,p)=>(n(),d("th",{key:p},[u.type==="media"?(n(),d("div",Nt,[t("div",Rt,[(n(!0),d($,null,V(u.value,(h,v)=>(n(),d("div",Gt,[t("img",{src:h.url.default,class:"w-full"},null,8,Qt)]))),256))])])):(n(),d("div",Jt,[u.type=="icon"?(n(),d("div",{key:0,innerHTML:u.value,class:"bg-white flex justify-center p-10"},null,8,Xt)):u.type==="toogle"?(n(),d("div",Yt,[u.value==1?(n(),d("div",Zt,"Enable")):(n(),d("div",el,"Disable"))])):u.type==="model_search"?(n(),d("div",tl,[t("div",ll,[(n(!0),d($,null,V(u.value,(h,v)=>(n(),d("div",{class:"badge badge-primary mt-3",key:v},S(v)+" > "+S(h),1))),128))])])):(n(),d("div",{key:3,innerHTML:u.value},null,8,ol))]))]))),128))}},nl={class:"w-full mb-12 xl:mb-0"},al={class:"relative flex flex-col min-w-0 break-words bg-base-200 w-full mb-6 shadow-lg rounded"},il={class:"rounded-t mb-0 px-4 py-3 border-0"},dl={class:"flex flex-wrap items-center"},rl={class:"relative w-full px-4 max-w-full flex-grow flex-1"},cl={class:"text-3xl font-bold text-base-content"},ul={class:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"},pl={class:"overflow-x-auto p-6"},ml={class:"overflow-x-auto"},_l={class:"table table-compact w-full"},hl=t("th",null,"Action",-1),fl={class:"preview border-base-300 bg-base-200 rounded-b-box rounded-tr-box flex min-h-[6rem] min-w-[18rem] max-w-4xl flex-wrap items-center justify-center overflow-x-hidden border bg-cover bg-top p-4 undefined gap-4"},yl={key:1},bl=["for"],vl=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),gl=[vl],wl=t("th",null,"Action",-1),Ol={__name:"Table",props:{tableTitle:{type:String,default:"Table name"},columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},endpointDelete:{type:String,default:""},endpointCreate:{type:String,default:""},endpointEdit:{type:String,default:""},permission:{type:String,default:null},custom_edit_route:{type:String,default:null}},setup(f){const b=E(),c=f,i=async g=>{C(g)};let s=k(10);const u=async g=>{s.value=g,C()};let p=k("id");const h=async g=>{p.value=g,C()};let v=k(null);const l=async g=>{v.value=g,C()};let e=k(null);const r=async g=>{g&&g.length>3&&(e.value=g,C())},o=async()=>{C()},_=async()=>{C()},m=async()=>{C()},w=async g=>{s.value=g.perPage,p.value=g.filterBy,v.value=g.orderBy,e.value=g.search,C()};let D=k([]),B=k([]);const C=async(g=null)=>{g===null&&(g=c.endpoint),H.post(g,{model:c.model,columns:c.columns,perPage:s.value,search:e.value,sort:p.value,direction:v.value,permission:c.permission}).then(function(U){D.value=U.data.data,B.value={currentPage:U.data.current_page,lastPage:U.data.last_page,perPage:U.data.per_page,total:U.data.total,links:U.data.links}}).catch(function(U){for(const[x,M]of Object.entries(U.response.data.errors))b.error(M[0])})};return C(),(g,U)=>(n(),d("div",nl,[t("div",al,[t("div",il,[t("div",dl,[t("div",rl,[t("h1",cl,S(c.tableTitle),1)]),t("div",ul,[X(g.$slots,"new",{},()=>[y(Xe,{columns:c.columns,endpoint:c.endpointCreate,model:c.model,permission:c.permission,onOnCreate:_},null,8,["columns","endpoint","model","permission"])])])])]),y(Kt,{onOnPerPage:u,onOnOrderBy:l,onOnSearch:r,onOnFilter:h,onOnFilterReset:w,columns:c.columns},null,8,["columns"]),t("div",pl,[t("div",ml,[t("table",_l,[t("thead",null,[t("tr",null,[(n(!0),d($,null,V(f.columns,(x,M)=>(n(),d("th",{key:M},S(x.label),1))),128)),hl])]),t("tbody",null,[(n(!0),d($,null,V(a(D),(x,M)=>(n(),d("tr",{key:x},[y(sl,{tableData:x,columns:f.columns},null,8,["tableData","columns"]),t("th",null,[t("div",fl,[y(he,{id:x.id,endpoint:c.endpointDelete,model:c.model,permission:c.permission,onOnDelete:o},null,8,["id","endpoint","model","permission"]),f.custom_edit_route?(n(),d("div",yl,[y(a(Y),{href:f.custom_edit_route+x.id},{default:O(()=>[t("label",{for:"edit-data-"+x.id,class:"btn btn-info modal-button"},gl,8,bl)]),_:2},1032,["href"])])):(n(),W(gt,{key:0,columns:c.columns,endpoint:c.endpointEdit,model:c.model,modelValue:x,id:x.id,permission:c.permission,onOnEdit:m},null,8,["columns","endpoint","model","modelValue","id","permission"]))])])]))),128))]),t("tfoot",null,[t("tr",null,[(n(!0),d($,null,V(f.columns,(x,M)=>(n(),d("th",{key:M},S(x.label),1))),128)),wl])])])]),y(zt,{onOnPagiation:i,paginationInfo:a(B)},null,8,["paginationInfo"])])])]))}};export{Ol as _};
