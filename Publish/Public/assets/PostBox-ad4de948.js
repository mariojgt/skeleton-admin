import{v as ae,bZ as re,a as h,m as ne,o as i,g as p,d as t,e as r,u as n,q as u,t as j,D as T,E as $,s as E,x as G,f as P,H as ie,F as H,y as O,k as D,bL as N,b as q,I as R,w as X,$ as W,G as Y,l as de,i as ue,X as ce}from"./preset-b90b9b08.js";import{a as U}from"./axios-0c773085.js";import{M as pe,T as fe,S as me}from"./Markdown-8dc0f09b.js";import{T as be}from"./triangle-alert-9a3c06c5.js";import{c as y}from"./createLucideIcon-c54a04d6.js";import{X as J}from"./x-b0b4ae59.js";import{F as ye}from"./folder-open-c10cad14.js";import{a as xe,F as A,H as ve}from"./SearchSidebar-3f65748b.js";import{E as ge}from"./shield-check-ea999e19.js";import{C as he}from"./chevron-down-f54a1641.js";import{I as ke,C as we}from"./loader-circle-c9275f11.js";import{D as Ce}from"./database-27e0aefd.js";import{C as B}from"./code-0ce16765.js";import{L as _e}from"./list-73150fc9.js";/* empty css                                                                       *//**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=y("BoldIcon",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=y("BracketsIcon",[["path",{d:"M16 3h3v18h-3",key:"1yor1f"}],["path",{d:"M8 21H5V3h3",key:"1qrfwo"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=y("FileJsonIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=y("ItalicIcon",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=y("Link2Icon",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=y("PenToolIcon",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=y("PencilLineIcon",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=y("QuoteIcon",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=y("TerminalIcon",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=y("TypeIcon",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),Be={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[70]"},De={class:"bg-dark-blue-100 p-6 rounded-xl border border-gray-700 w-full max-w-md"},qe={class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},Ve={class:"text-gray-300 text-sm mb-4"},ze={class:"text-white font-medium"},Fe={class:"flex justify-end gap-3"},$e=["disabled"],He={class:"w-full max-w-3xl bg-dark-blue-100 rounded-xl shadow-xl border border-gray-700/50"},Oe={class:"flex items-center justify-between p-4 border-b border-gray-700/50"},Ae={class:"flex items-center gap-2"},Ne={class:"text-lg font-semibold text-white"},Re={class:"p-4 space-y-4"},Ue={class:"space-y-2"},Je={for:"commentTitle",class:"flex items-center gap-2 text-sm font-medium text-gray-300"},Qe={key:0,class:"space-y-2"},Ge={for:"channel",class:"flex items-center gap-2 text-sm font-medium text-gray-300"},Xe=["value"],We={class:"space-y-2"},Ye={class:"flex items-center gap-2 text-sm font-medium text-gray-300"},Ze={class:"flex border-b border-gray-700/50"},Ke={class:"flex items-center gap-2"},et={class:"flex items-center gap-2"},tt={class:"space-y-2"},st={class:"flex flex-wrap gap-1 p-2 bg-dark-blue-200 rounded-t-lg border border-gray-700"},ot=["onClick","title"],lt={class:"relative"},at={key:0,class:"absolute left-0 top-full mt-1 w-48 py-1 bg-dark-blue-100 rounded-lg border border-gray-700 shadow-xl z-[60]"},rt=["onClick"],nt={class:"min-h-[16rem] p-4 bg-dark-blue-200 rounded-lg border border-gray-700"},it={key:0},dt={key:1,class:"text-gray-500 italic"},ut={class:"flex items-center gap-2 text-xs text-gray-500"},ct={class:"flex flex-col sm:flex-row justify-between items-center gap-4 p-4 border-t border-gray-700/50 bg-dark-blue-200/50"},pt={class:"flex items-center text-gray-400 text-sm"},ft={class:"flex gap-2 w-full sm:w-auto"},mt={type:"submit",class:"flex items-center justify-center gap-2 px-6 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 text-sm font-medium transition-colors flex-1 sm:flex-initial"},bt=ae({__name:"Post",props:{commentClass:{type:String,default:"w-full rounded-lg"},categories:{type:Array,default:()=>[]},topitEdit:{type:Object,default:()=>({})}},emits:["fresh-comments","close"],setup(I,{emit:V}){const k={mounted:(o,e)=>{o._clickOutside=a=>{o===a.target||o.contains(a.target)||e.value()},document.body.addEventListener("click",o._clickOutside)},unmounted:o=>{document.body.removeEventListener("click",o._clickOutside)}},x=re(),v=h(!1),L=h(null),w=h(!1),C=h(""),m=h(!1),l=h(""),g=h(""),S=h(""),Z=[{label:"JavaScript",value:"javascript",icon:Q},{label:"PHP",value:"php",icon:A},{label:"Python",value:"python",icon:M},{label:"C++",value:"cpp",icon:M},{label:"Java",value:"java",icon:M},{label:"Ruby",value:"ruby",icon:M},{label:"SQL",value:"sql",icon:Ce},{label:"HTML",value:"html",icon:B},{label:"CSS",value:"css",icon:B},{label:"TypeScript",value:"typescript",icon:Q},{label:"Go",value:"go",icon:M},{label:"Rust",value:"rust",icon:M},{label:"Shell",value:"bash",icon:M},{label:"JSON",value:"json",icon:Me},{label:"XML",value:"xml",icon:B},{label:"YAML",value:"yaml",icon:A}],K=[{label:"Bold",icon:Te,prefix:"**",suffix:"**"},{label:"Italic",icon:Ee,prefix:"*",suffix:"*"},{label:"Code",icon:B,prefix:"`",suffix:"`"},{label:"Heading",icon:ve,prefix:"# ",suffix:""},{label:"List",icon:_e,prefix:"- ",suffix:""},{label:"Quote",icon:Ie,prefix:"> ",suffix:""},{label:"Link",icon:Le,prefix:"[",suffix:"](url)"}],b=I,z=V,ee=o=>{const e=L.value;if(!e)return;const a=e.selectionStart,d=e.selectionEnd,f=l.value.substring(a,d),c=["```"+o,f||"Your code here","```",""].join(`
`),s=l.value.substring(0,a),_=l.value.substring(d);l.value=s+c+_,setTimeout(()=>{m.value=!1,e.focus()},100)},te=o=>{const e=L.value;if(!e)return;const a=e.selectionStart,d=e.selectionEnd,f=l.value.substring(a,d);let c;if(f){const s=l.value.substring(0,a),_=l.value.substring(d);c=s+o.prefix+f+o.suffix+_}else{const s=l.value.substring(0,a),_=l.value.substring(a);c=s+o.prefix+"text"+o.suffix+_}l.value=c,e.focus()},se=async()=>{var e,a,d,f;const o={title:g.value,content:l.value,category:S.value};if(!g.value||!l.value||!((e=b.topitEdit)!=null&&e.id)&&!S.value){x.error("Please fill in all required fields");return}try{let c=route("forum.thread.create");(a=b.topitEdit)!=null&&a.id&&(c=route("forum.thread.edit",b.topitEdit.id));const s=await U.post(c,o);x.success(s.data.message),le(),z("fresh-comments"),z("close")}catch(c){(f=(d=c.response)==null?void 0:d.data)!=null&&f.errors&&Object.values(c.response.data.errors).forEach(s=>{x.error(s[0])})}},oe=async()=>{var o,e,a;if(C.value===g.value)try{const d=await U.delete(route("forum.thread.edit",(o=b.topitEdit)==null?void 0:o.id));x.success(d.data.message),w.value=!1,Y.visit(route("home"),{preserveScroll:"errors"})}catch(d){(a=(e=d.response)==null?void 0:e.data)!=null&&a.errors&&Object.values(d.response.data.errors).forEach(f=>{x.error(f[0])})}},le=()=>{l.value="",g.value="",S.value="",v.value=!1,w.value=!1,C.value=""},F=()=>{z("close")};return ne(()=>{var o;(o=b.topitEdit)!=null&&o.id&&(l.value=b.topitEdit.content,g.value=b.topitEdit.title)}),(o,e)=>{var a,d,f,c;return i(),p("div",{class:"fixed inset-0 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm z-50",onClick:P(F,["self"])},[w.value?(i(),p("div",Be,[t("div",De,[t("h3",qe,[r(n(be),{class:"w-5 h-5 text-red-400"}),e[9]||(e[9]=u(" Confirm Deletion "))]),t("p",Ve,[e[10]||(e[10]=u(" This action cannot be undone. Please type ")),t("span",ze,j(g.value),1),e[11]||(e[11]=u(" to confirm. "))]),T(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>C.value=s),type:"text",placeholder:"Type post title to confirm",class:"w-full px-3 py-2 bg-dark-blue-200 border border-gray-700 rounded-lg text-white placeholder-gray-500 mb-4"},null,512),[[$,C.value]]),t("div",Fe,[t("button",{type:"button",onClick:e[1]||(e[1]=s=>w.value=!1),class:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white"}," Cancel "),t("button",{type:"button",onClick:oe,disabled:C.value!==g.value,class:"px-4 py-2 bg-red-500 text-white rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}," Delete Post ",8,$e)])])])):E("",!0),t("div",He,[n(G)().props.isUserAuth?(i(),p("form",{key:0,onSubmit:P(se,["prevent"])},[t("div",Oe,[t("div",Ae,[r(n(je),{class:"w-5 h-5 text-purple-400"}),t("h2",Ne,j((a=b.topitEdit)!=null&&a.id?"Edit Discussion":"New Discussion"),1)]),t("button",{type:"button",onClick:F,class:"p-1 text-gray-400 hover:text-white transition-colors"},[r(n(J),{class:"w-5 h-5"})])]),t("div",Re,[t("div",Ue,[t("label",Je,[r(n(Pe),{class:"w-4 h-4"}),e[12]||(e[12]=u(" Title ")),e[13]||(e[13]=t("span",{class:"text-red-400"},"*",-1))]),T(t("input",{id:"commentTitle","onUpdate:modelValue":e[2]||(e[2]=s=>g.value=s),type:"text",placeholder:"What's your topic about?",class:"w-full px-3 py-2 bg-dark-blue-200 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all"},null,512),[[$,g.value]])]),(d=b.topitEdit)!=null&&d.id?E("",!0):(i(),p("div",Qe,[t("label",Ge,[r(n(ye),{class:"w-4 h-4"}),e[14]||(e[14]=u(" Select Topic ")),e[15]||(e[15]=t("span",{class:"text-red-400"},"*",-1))]),T(t("select",{id:"channel","onUpdate:modelValue":e[3]||(e[3]=s=>S.value=s),class:"w-full px-3 py-2 bg-dark-blue-200 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all appearance-none"},[e[16]||(e[16]=t("option",{value:"",class:"bg-dark-blue-200"},"Choose a category",-1)),(i(!0),p(H,null,O(I.categories,s=>(i(),p("option",{key:s.id,value:s.slug,class:"bg-dark-blue-200"},j(s.name),9,Xe))),128))],512),[[ie,S.value]])])),t("div",We,[t("label",Ye,[r(n(xe),{class:"w-4 h-4"}),e[17]||(e[17]=u(" Content ")),e[18]||(e[18]=t("span",{class:"text-red-400"},"*",-1))]),t("div",Ze,[t("button",{type:"button",class:D(["px-4 py-2 text-sm font-medium transition-colors border-b-2",[v.value?"text-gray-400 border-transparent hover:text-gray-300":"text-purple-400 border-purple-400"]]),onClick:e[4]||(e[4]=s=>v.value=!1)},[t("div",Ke,[r(n(Se),{class:"w-4 h-4"}),e[19]||(e[19]=u(" Write "))])],2),t("button",{type:"button",class:D(["px-4 py-2 text-sm font-medium transition-colors border-b-2",[v.value?"text-purple-400 border-purple-400":"text-gray-400 border-transparent hover:text-gray-300"]]),onClick:e[5]||(e[5]=s=>v.value=!0)},[t("div",et,[r(n(ge),{class:"w-4 h-4"}),e[20]||(e[20]=u(" Preview "))])],2)]),T(t("div",tt,[t("div",st,[(i(),p(H,null,O(K,s=>t("button",{key:s.label,type:"button",onClick:_=>te(s),class:"p-1.5 text-gray-400 hover:text-white rounded transition-colors",title:s.label},[(i(),q(R(s.icon),{class:"w-4 h-4"}))],8,ot)),64)),t("div",lt,[t("button",{type:"button",onClick:e[6]||(e[6]=P(s=>m.value=!m.value,["stop"])),class:D(["p-1.5 text-gray-400 hover:text-white rounded transition-colors flex items-center gap-1",{"text-purple-400":m.value}]),title:"Insert Code Block"},[r(n(A),{class:"w-4 h-4"}),r(n(he),{class:"w-3 h-3"})],2),r(W,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:X(()=>[m.value?T((i(),p("div",at,[(i(),p(H,null,O(Z,s=>t("button",{key:s.value,type:"button",onClick:P(_=>ee(s.value),["stop"]),class:"w-full px-4 py-2 text-sm text-left text-gray-300 hover:bg-dark-blue-200 hover:text-white flex items-center gap-2"},[(i(),q(R(s.icon),{class:"w-4 h-4"})),u(" "+j(s.label),1)],8,rt)),64))])),[[k,()=>m.value=!1]]):E("",!0)]),_:1})])]),T(t("textarea",{id:"comment",ref_key:"textareaRef",ref:L,"onUpdate:modelValue":e[7]||(e[7]=s=>l.value=s),placeholder:"Share your thoughts with the community...",class:"w-full h-64 px-4 py-3 bg-dark-blue-200 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all resize-none"},null,512),[[$,l.value]])],512),[[N,!v.value]]),T(t("div",nt,[l.value?(i(),p("div",it,[r(pe,{content:l.value},null,8,["content"])])):(i(),p("div",dt," Nothing to preview yet... "))],512),[[N,v.value]]),t("div",ut,[r(n(ke),{class:"w-4 h-4"}),e[21]||(e[21]=t("span",null,[u(" Markdown supported: "),t("span",{class:"text-gray-400"},"**bold**, *italic*, `code`, etc.")],-1))])])]),t("div",ct,[t("div",pt,[r(n(we),{class:"w-4 h-4 mr-2"}),e[22]||(e[22]=u(" Please follow community guidelines "))]),t("div",ft,[t("button",{type:"button",onClick:F,class:"flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors flex-1 sm:flex-initial"},[r(n(J),{class:"w-4 h-4"}),e[23]||(e[23]=u(" Cancel "))]),(f=b.topitEdit)!=null&&f.id?(i(),p("button",{key:0,type:"button",onClick:e[8]||(e[8]=s=>w.value=!0),class:"flex items-center justify-center gap-2 px-4 py-2 bg-red-500/10 text-red-400 rounded-lg hover:bg-red-500/20 text-sm font-medium transition-colors flex-1 sm:flex-initial"},[r(n(fe),{class:"w-4 h-4"}),e[24]||(e[24]=u(" Delete "))])):E("",!0),t("button",mt,[r(n(me),{class:"w-4 h-4"}),u(" "+j((c=b.topitEdit)!=null&&c.id?"Update":"Post"),1)])])])],32)):E("",!0)])])}}}),yt={class:"mt-3 bg-dark-100 rounded-lg"},Pt={__name:"PostBox",props:{categories:{type:Array,default:()=>[]},postBtnClass:{type:String,default:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold py-2 px-4 rounded-lg mb-6"},topitEdit:{type:Object,default:()=>{}}},emits:["displayLogin"],setup(I,{emit:V}){let k=h(!1);const x=I,v=()=>{setTimeout(()=>{Y.reload({only:["blogPost"]})},300)},L=V,w=()=>{if(!G().props.isUserAuth){L("displayLogin",!0);return}k.value=!k.value};return(C,m)=>(i(),p("section",yt,[t("button",{class:D(x.postBtnClass),onClick:w},[de(C.$slots,"default",{},()=>[m[1]||(m[1]=u("New Dicussion"))])],2),(i(),q(ce,{to:"body"},[r(W,{name:"fade"},{default:X(()=>[n(k)?(i(),q(bt,{key:0,onFreshComments:v,onClose:m[0]||(m[0]=l=>ue(k)?k.value=!1:k=!1),categories:x.categories,topitEdit:x.topitEdit},null,8,["categories","topitEdit"])):E("",!0)]),_:1})]))]))}};export{Le as L,Pt as _};
