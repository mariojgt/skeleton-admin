import{a as v,B as j,v as E,o as c,g as m,d as e,e as u,u as r,x as b,y as g,F as U,z as L,n as C,b as $,p as P,H as V,k as N,aw as B,f as I}from"./index-DQfThwAa.js";import{X as M}from"./x-CvCFfHKA.js";import{S as z}from"./search-CX9AwTHp.js";import{C as A}from"./check-DqEP6paE.js";import{P as F,I as O,C as S}from"./plus-BcsdVqcx.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{U as q,M as H}from"./user-CcEWEjZA.js";import{S as Q}from"./save-FoXuiXt3.js";import"./createLucideIcon-EMZrLgGe.js";const T={key:0,class:"fixed inset-0 bg-dark-900/80 backdrop-blur-sm flex items-center justify-center z-50"},X={class:"bg-dark-500/90 backdrop-blur-sm rounded-xl border border-gray-800/50 w-full max-w-xl max-h-[80vh] overflow-hidden"},G={class:"relative p-4 text-center border-b border-gray-800/50"},J={class:"p-4 border-b border-gray-800/50"},K={class:"relative"},R={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},W={class:"p-4 overflow-y-auto max-h-[60vh]"},Y={key:0,class:"flex justify-center items-center py-10"},Z={key:1,class:"text-center py-10 text-gray-400"},ee={key:2,class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4"},te=["onClick"],se=["src","alt"],re={class:"p-4 border-t border-gray-800/50 flex justify-end space-x-3"},oe=["disabled"],ae={__name:"AvatarPicker",props:{isOpen:{type:Boolean,default:!1},currentAvatar:{type:String,default:""}},emits:["close","select"],setup(y,{emit:w}){const f=y,h=w,s=v([]),p=v(!0),a=v(""),n=v("");j(()=>f.isOpen,i=>{i&&(k(),n.value=f.currentAvatar)});const x=E(()=>{if(!a.value)return s.value;const i=a.value.toLowerCase();return s.value.filter(o=>o.name.toLowerCase().includes(i))});async function k(){p.value=!0;try{const i=await V.get(route("avatars.list"));s.value=i.data}catch(i){console.error("Failed to load avatars:",i)}finally{p.value=!1}}function _(i){n.value=i}function t(){n.value&&(h("select",n.value),l())}function l(){h("close"),a.value=""}return(i,o)=>y.isOpen?(c(),m("div",T,[e("div",X,[e("div",G,[o[1]||(o[1]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-purple-500/5"},null,-1)),o[2]||(o[2]=e("h2",{class:"text-xl font-bold text-white"},"Choose Avatar",-1)),e("button",{onClick:l,class:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors"},[u(r(M),{class:"w-5 h-5"})])]),e("div",J,[e("div",K,[e("div",R,[u(r(z),{class:"w-5 h-5 text-gray-400"})]),b(e("input",{"onUpdate:modelValue":o[0]||(o[0]=d=>a.value=d),type:"text",placeholder:"Search avatars...",class:"w-full pl-10 pr-4 py-2 bg-dark-400/50 border border-gray-800/50 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300"},null,512),[[g,a.value]])])]),e("div",W,[p.value?(c(),m("div",Y,o[3]||(o[3]=[e("div",{class:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-blue-500"},null,-1)]))):x.value.length===0?(c(),m("div",Z," No avatars found matching your search ")):(c(),m("div",ee,[(c(!0),m(U,null,L(x.value,d=>(c(),m("div",{key:d.id,onClick:je=>_(d.path),class:"group relative cursor-pointer"},[e("div",{class:C(["absolute -inset-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg opacity-0 blur transition-opacity duration-300 group-hover:opacity-75",{"opacity-75":n.value===d.path}])},null,2),e("div",{class:C(["relative rounded-lg overflow-hidden border-2 border-dark-400 aspect-square transition-transform duration-300 group-hover:scale-105",{"border-blue-500":n.value===d.path}])},[e("img",{src:d.path,alt:d.name,class:"w-full h-full object-cover"},null,8,se),e("div",{class:C(["absolute inset-0 bg-dark-500/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",{"opacity-100":n.value===d.path}])},[n.value===d.path?(c(),$(r(A),{key:0,class:"w-8 h-8 text-blue-500"})):(c(),$(r(F),{key:1,class:"w-6 h-6 text-white"}))],2)],2)],8,te))),128))]))]),e("div",re,[e("button",{onClick:l,class:"px-4 py-2 bg-dark-400/70 hover:bg-dark-400 text-gray-300 font-medium rounded-lg transition-colors duration-300"}," Cancel "),e("button",{onClick:t,disabled:!n.value,class:"group relative flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-medium rounded-lg transition-all duration-300 hover:from-blue-600 hover:to-purple-600 disabled:opacity-50 disabled:cursor-not-allowed"},[o[4]||(o[4]=e("div",{class:"absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-20 group-hover:animate-shine"},null,-1)),u(r(A),{class:"w-5 h-5"}),o[5]||(o[5]=e("span",null,"Apply",-1))],8,oe)])])])):P("",!0)}},le={class:"bg-dark-500/90 backdrop-blur-sm rounded-xl border border-gray-800/50 overflow-hidden"},ne={class:"relative p-6 text-center border-b border-gray-800/50"},ie={class:"relative"},de={class:"relative inline-block group"},ue=["src"],ce={class:"absolute inset-0 bg-dark-500/80 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300"},pe={class:"space-y-2"},me={class:"relative"},fe={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},ve={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},be={class:"space-y-2"},ge={class:"relative"},ye={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},he={class:"space-y-2"},xe={class:"relative"},_e={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},we={class:"space-y-2"},ke={class:"relative"},Ce={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},$e={class:"pt-4"},Ae={type:"submit",class:"group relative w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-medium rounded-lg transition-all duration-300 hover:from-blue-600 hover:to-purple-600"},Se={__name:"EditDetails",props:{userInfo:{type:Object,default:{}}},emits:["isLoading"],setup(y,{emit:w}){const f=w,h=y;let s=v({});const p=v(!1);N(()=>{s.value=h.userInfo});const a=B({username:"",first_name:"",last_name:"",email:"",avatar:""});function n(){p.value=!0}function x(_){s.value.avatar=_}const k=()=>{f("isLoading",!0),a.first_name=s.value.first_name,a.last_name=s.value.last_name,a.email=s.value.email,a.username=s.value.username,a.avatar=s.value.avatar,a.patch(route("user.update",s.value.id),{preserveState:!0,onSuccess:()=>{f("isLoading",!1)},onError:()=>{f("isLoading",!1)}})};return(_,t)=>(c(),m("div",le,[e("div",ne,[t[8]||(t[8]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-purple-500/5"},null,-1)),e("div",ie,[e("div",de,[t[5]||(t[5]=e("div",{class:"absolute -inset-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full opacity-75 blur transition-opacity duration-300 group-hover:opacity-100"},null,-1)),e("div",{class:"relative w-24 h-24 rounded-full overflow-hidden border-2 border-dark-400 cursor-pointer",onClick:n},[e("img",{src:r(s).avatar,alt:"Profile Picture",class:"w-full h-full object-cover"},null,8,ue),e("div",ce,[u(r(O),{class:"w-6 h-6 text-white"})])])]),t[6]||(t[6]=e("h2",{class:"mt-4 text-xl font-bold text-white"},"Edit Profile",-1)),t[7]||(t[7]=e("p",{class:"text-sm text-gray-400"},"Update your personal information",-1))])]),e("form",{onSubmit:I(k,["prevent"]),class:"p-6 space-y-6"},[e("div",pe,[t[9]||(t[9]=e("label",{for:"username",class:"block text-sm font-medium text-gray-300"},"Username",-1)),e("div",me,[e("div",fe,[u(r(q),{class:"w-5 h-5 text-gray-400"})]),b(e("input",{id:"username","onUpdate:modelValue":t[0]||(t[0]=l=>r(s).username=l),type:"text",placeholder:"Enter your username",class:"w-full pl-10 pr-4 py-3 bg-dark-400/50 border border-gray-800/50 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300"},null,512),[[g,r(s).username]])])]),e("div",ve,[e("div",be,[t[10]||(t[10]=e("label",{for:"first_name",class:"block text-sm font-medium text-gray-300"},"First Name",-1)),e("div",ge,[e("div",ye,[u(r(S),{class:"w-5 h-5 text-gray-400"})]),b(e("input",{id:"first_name","onUpdate:modelValue":t[1]||(t[1]=l=>r(s).first_name=l),type:"text",placeholder:"Enter your first name",class:"w-full pl-10 pr-4 py-3 bg-dark-400/50 border border-gray-800/50 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300"},null,512),[[g,r(s).first_name]])])]),e("div",he,[t[11]||(t[11]=e("label",{for:"last_name",class:"block text-sm font-medium text-gray-300"},"Last Name",-1)),e("div",xe,[e("div",_e,[u(r(S),{class:"w-5 h-5 text-gray-400"})]),b(e("input",{id:"last_name","onUpdate:modelValue":t[2]||(t[2]=l=>r(s).last_name=l),type:"text",placeholder:"Enter your last name",class:"w-full pl-10 pr-4 py-3 bg-dark-400/50 border border-gray-800/50 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300"},null,512),[[g,r(s).last_name]])])])]),e("div",we,[t[12]||(t[12]=e("label",{for:"email",class:"block text-sm font-medium text-gray-300"},"Email Address",-1)),e("div",ke,[e("div",Ce,[u(r(H),{class:"w-5 h-5 text-gray-400"})]),b(e("input",{id:"email","onUpdate:modelValue":t[3]||(t[3]=l=>r(s).email=l),type:"email",placeholder:"Enter your email",class:"w-full pl-10 pr-4 py-3 bg-dark-400/50 border border-gray-800/50 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300"},null,512),[[g,r(s).email]])])]),e("div",$e,[e("button",Ae,[t[13]||(t[13]=e("div",{class:"absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-20 group-hover:animate-shine"},null,-1)),u(r(Q),{class:"w-5 h-5"}),t[14]||(t[14]=e("span",null,"Save Changes",-1))])])],32),u(ae,{"is-open":p.value,"current-avatar":r(s).avatar,onClose:t[4]||(t[4]=l=>p.value=!1),onSelect:x},null,8,["is-open","current-avatar"])]))}},ze=D(Se,[["__scopeId","data-v-4ba485aa"]]);export{ze as default};
