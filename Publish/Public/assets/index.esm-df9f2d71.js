import{b_ as be,b$ as Se,J as ie,a as Y,bm as Ee,ba as Oe,A as V,y as Pe,h as xe}from"./preset-59cdb044.js";var Te=String.prototype.replace,Fe=/%20/g,q={RFC1738:"RFC1738",RFC3986:"RFC3986"},Z={default:q.RFC3986,formatters:{RFC1738:function(t){return Te.call(t,Fe,"+")},RFC3986:function(t){return String(t)}},RFC1738:q.RFC1738,RFC3986:q.RFC3986},Ie=Z,W=Object.prototype.hasOwnProperty,j=Array.isArray,O=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Ae=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(j(n)){for(var i=[],o=0;o<n.length;++o)typeof n[o]<"u"&&i.push(n[o]);r.obj[r.prop]=i}}},ce=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Ce=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(j(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!W.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return j(e)&&!j(r)&&(i=ce(e,n)),j(e)&&j(r)?(r.forEach(function(o,a){if(W.call(e,a)){var f=e[a];f&&typeof f=="object"&&o&&typeof o=="object"?e[a]=t(f,o,n):e.push(o)}else e[a]=o}),e):Object.keys(r).reduce(function(o,a){var f=r[a];return W.call(o,a)?o[a]=t(o[a],f,n):o[a]=f,o},i)},De=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},je=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},X=1024,Le=function(e,r,n,i,o){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(v){return"%26%23"+parseInt(v.slice(2),16)+"%3B"});for(var f="",s=0;s<a.length;s+=X){for(var l=a.length>=X?a.slice(s,s+X):a,c=[],y=0;y<l.length;++y){var d=l.charCodeAt(y);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===Ie.RFC1738&&(d===40||d===41)){c[c.length]=l.charAt(y);continue}if(d<128){c[c.length]=O[d];continue}if(d<2048){c[c.length]=O[192|d>>6]+O[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=O[224|d>>12]+O[128|d>>6&63]+O[128|d&63];continue}y+=1,d=65536+((d&1023)<<10|l.charCodeAt(y)&1023),c[c.length]=O[240|d>>18]+O[128|d>>12&63]+O[128|d>>6&63]+O[128|d&63]}f+=c.join("")}return f},Ve=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var o=r[i],a=o.obj[o.prop],f=Object.keys(a),s=0;s<f.length;++s){var l=f[s],c=a[l];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:a,prop:l}),n.push(c))}return Ae(r),e},Re=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Ne=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},ke=function(e,r){return[].concat(e,r)},Be=function(e,r){if(j(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},fe={arrayToObject:ce,assign:De,combine:ke,compact:Ve,decode:je,encode:Le,isBuffer:Ne,isRegExp:Re,maybeMap:Be,merge:Ce},de=be,Q=fe,K=Z,$e=Object.prototype.hasOwnProperty,ue={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},P=Array.isArray,Ke=Array.prototype.push,he=function(t,e){Ke.apply(t,P(e)?e:[e])},He=Date.prototype.toISOString,ae=K.default,g={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Q.encode,encodeValuesOnly:!1,format:ae,formatter:K.formatters[ae],indices:!1,serializeDate:function(e){return He.call(e)},skipNulls:!1,strictNullHandling:!1},Qe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},U={},_e=function t(e,r,n,i,o,a,f,s,l,c,y,d,v,w,b,S,A,C){for(var u=e,E=C,D=0,h=!1;(E=E.get(U))!==void 0&&!h;){var p=E.get(e);if(D+=1,typeof p<"u"){if(p===D)throw new RangeError("Cyclic object value");h=!0}typeof E.get(U)>"u"&&(D=0)}if(typeof c=="function"?u=c(r,u):u instanceof Date?u=v(u):n==="comma"&&P(u)&&(u=Q.maybeMap(u,function(M){return M instanceof Date?v(M):M})),u===null){if(a)return l&&!S?l(r,g.encoder,A,"key",w):r;u=""}if(Qe(u)||Q.isBuffer(u)){if(l){var x=S?r:l(r,g.encoder,A,"key",w);return[b(x)+"="+b(l(u,g.encoder,A,"value",w))]}return[b(r)+"="+b(String(u))]}var F=[];if(typeof u>"u")return F;var I;if(n==="comma"&&P(u))S&&l&&(u=Q.maybeMap(u,l)),I=[{value:u.length>0?u.join(",")||null:void 0}];else if(P(c))I=c;else{var ee=Object.keys(u);I=y?ee.sort(y):ee}var te=s?r.replace(/\./g,"%2E"):r,H=i&&P(u)&&u.length===1?te+"[]":te;if(o&&P(u)&&u.length===0)return H+"[]";for(var _=0;_<I.length;++_){var L=I[_],re=typeof L=="object"&&typeof L.value<"u"?L.value:u[L];if(!(f&&re===null)){var z=d&&s?L.replace(/\./g,"%2E"):L,we=P(u)?typeof n=="function"?n(H,z):H:H+(d?"."+z:"["+z+"]");C.set(e,D);var ne=de();ne.set(U,C),he(F,t(re,we,n,i,o,a,f,s,n==="comma"&&S&&P(u)?null:l,c,y,d,v,w,b,S,A,ne))}}return F},ze=function(e){if(!e)return g;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||g.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=K.default;if(typeof e.format<"u"){if(!$e.call(K.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=K.formatters[n],o=g.filter;(typeof e.filter=="function"||P(e.filter))&&(o=e.filter);var a;if(e.arrayFormat in ue?a=e.arrayFormat:"indices"in e?a=e.indices?"indices":"repeat":a=g.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var f=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:g.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:g.addQueryPrefix,allowDots:f,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:g.allowEmptyArrays,arrayFormat:a,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:g.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?g.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:g.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:g.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:g.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:g.encodeValuesOnly,filter:o,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:g.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:g.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:g.strictNullHandling}},Me=function(t,e){var r=t,n=ze(e),i,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):P(n.filter)&&(o=n.filter,i=o);var a=[];if(typeof r!="object"||r===null)return"";var f=ue[n.arrayFormat],s=f==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=de(),c=0;c<i.length;++c){var y=i[c];n.skipNulls&&r[y]===null||he(a,_e(r[y],y,f,s,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var d=a.join(n.delimiter),v=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),d.length>0?v+d:""},k=fe,J=Object.prototype.hasOwnProperty,qe=Array.isArray,m={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:k.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},We=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},pe=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Xe="utf8=%26%2310003%3B",Ue="utf8=%E2%9C%93",Je=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=r.parameterLimit===1/0?void 0:r.parameterLimit,a=i.split(r.delimiter,o),f=-1,s,l=r.charset;if(r.charsetSentinel)for(s=0;s<a.length;++s)a[s].indexOf("utf8=")===0&&(a[s]===Ue?l="utf-8":a[s]===Xe&&(l="iso-8859-1"),f=s,s=a.length);for(s=0;s<a.length;++s)if(s!==f){var c=a[s],y=c.indexOf("]="),d=y===-1?c.indexOf("="):y+1,v,w;d===-1?(v=r.decoder(c,m.decoder,l,"key"),w=r.strictNullHandling?null:""):(v=r.decoder(c.slice(0,d),m.decoder,l,"key"),w=k.maybeMap(pe(c.slice(d+1),r),function(S){return r.decoder(S,m.decoder,l,"value")})),w&&r.interpretNumericEntities&&l==="iso-8859-1"&&(w=We(w)),c.indexOf("[]=")>-1&&(w=qe(w)?[w]:w);var b=J.call(n,v);b&&r.duplicates==="combine"?n[v]=k.combine(n[v],w):(!b||r.duplicates==="last")&&(n[v]=w)}return n},Ge=function(t,e,r,n){for(var i=n?e:pe(e,r),o=t.length-1;o>=0;--o){var a,f=t[o];if(f==="[]"&&r.parseArrays)a=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{a=r.plainObjects?Object.create(null):{};var s=f.charAt(0)==="["&&f.charAt(f.length-1)==="]"?f.slice(1,-1):f,l=r.decodeDotInKeys?s.replace(/%2E/g,"."):s,c=parseInt(l,10);!r.parseArrays&&l===""?a={0:i}:!isNaN(c)&&f!==l&&String(c)===l&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(a=[],a[c]=i):l!=="__proto__"&&(a[l]=i)}i=a}return i},Ye=function(e,r,n,i){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,f=/(\[[^[\]]*])/g,s=n.depth>0&&a.exec(o),l=s?o.slice(0,s.index):o,c=[];if(l){if(!n.plainObjects&&J.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var y=0;n.depth>0&&(s=f.exec(o))!==null&&y<n.depth;){if(y+=1,!n.plainObjects&&J.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+o.slice(s.index)+"]"),Ge(c,r,n,i)}},Ze=function(e){if(!e)return m;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?m.charset:e.charset,n=typeof e.duplicates>"u"?m.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:m.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:m.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:m.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:m.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:m.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:m.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:m.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:m.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:m.decoder,delimiter:typeof e.delimiter=="string"||k.isRegExp(e.delimiter)?e.delimiter:m.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:m.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:m.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:m.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:m.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:m.strictNullHandling}},et=function(t,e){var r=Ze(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Je(t,r):t,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),a=0;a<o.length;++a){var f=o[a],s=Ye(f,n[f],r,typeof t=="string");i=k.merge(i,s,r)}return r.allowSparse===!0?i:k.compact(i)},tt=Me,rt=et,nt=Z,oe={formats:nt,parse:rt,stringify:tt};function it(t,e){let r;return function(...n){clearTimeout(r),r=setTimeout(()=>t.apply(this,n),e)}}function T(t,e){return document.dispatchEvent(new CustomEvent(`inertia:${t}`,e))}var at=t=>T("before",{cancelable:!0,detail:{visit:t}}),ot=t=>T("error",{detail:{errors:t}}),st=t=>T("exception",{cancelable:!0,detail:{exception:t}}),se=t=>T("finish",{detail:{visit:t}}),lt=t=>T("invalid",{cancelable:!0,detail:{response:t}}),B=t=>T("navigate",{detail:{page:t}}),ct=t=>T("progress",{detail:{progress:t}}),ft=t=>T("start",{detail:{visit:t}}),dt=t=>T("success",{detail:{page:t}});function G(t){return t instanceof File||t instanceof Blob||t instanceof FileList&&t.length>0||t instanceof FormData&&Array.from(t.values()).some(e=>G(e))||typeof t=="object"&&t!==null&&Object.values(t).some(e=>G(e))}function ye(t,e=new FormData,r=null){t=t||{};for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&ve(e,me(r,n),t[n]);return e}function me(t,e){return t?t+"["+e+"]":e}function ve(t,e,r){if(Array.isArray(r))return Array.from(r.keys()).forEach(n=>ve(t,me(e,n.toString()),r[n]));if(r instanceof Date)return t.append(e,r.toISOString());if(r instanceof File)return t.append(e,r,r.name);if(r instanceof Blob)return t.append(e,r);if(typeof r=="boolean")return t.append(e,r?"1":"0");if(typeof r=="string")return t.append(e,r);if(typeof r=="number")return t.append(e,`${r}`);if(r==null)return t.append(e,"");ye(r,t,e)}var ut={modal:null,listener:null,show(t){typeof t=="object"&&(t=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(t)}`);let e=document.createElement("html");e.innerHTML=t,e.querySelectorAll("a").forEach(n=>n.setAttribute("target","_top")),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide());let r=document.createElement("iframe");if(r.style.backgroundColor="white",r.style.borderRadius="5px",r.style.width="100%",r.style.height="100%",this.modal.appendChild(r),document.body.prepend(this.modal),document.body.style.overflow="hidden",!r.contentWindow)throw new Error("iframe not yet ready.");r.contentWindow.document.open(),r.contentWindow.document.write(e.outerHTML),r.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(t){t.keyCode===27&&this.hide()}};function R(t){return new URL(t.toString(),window.location.toString())}function ge(t,e,r,n="brackets"){let i=/^https?:\/\//.test(e.toString()),o=i||e.toString().startsWith("/"),a=!o&&!e.toString().startsWith("#")&&!e.toString().startsWith("?"),f=e.toString().includes("?")||t==="get"&&Object.keys(r).length,s=e.toString().includes("#"),l=new URL(e.toString(),"http://localhost");return t==="get"&&Object.keys(r).length&&(l.search=oe.stringify(Se(oe.parse(l.search,{ignoreQueryPrefix:!0}),r),{encodeValuesOnly:!0,arrayFormat:n}),r={}),[[i?`${l.protocol}//${l.host}`:"",o?l.pathname:"",a?l.pathname.substring(1):"",f?l.search:"",s?l.hash:""].join(""),r]}function $(t){return t=new URL(t.href),t.hash="",t}var le=typeof window>"u",ht=class{constructor(){this.visitId=null}init({initialPage:t,resolveComponent:e,swapComponent:r}){this.page=t,this.resolveComponent=e,this.swapComponent=r,this.setNavigationType(),this.clearRememberedStateOnReload(),this.isBackForwardVisit()?this.handleBackForwardVisit(this.page):this.isLocationVisit()?this.handleLocationVisit(this.page):this.handleInitialPageVisit(this.page),this.setupEventListeners()}setNavigationType(){this.navigationType=window.performance&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}clearRememberedStateOnReload(){var t;this.navigationType==="reload"&&((t=window.history.state)!=null&&t.rememberedState)&&delete window.history.state.rememberedState}handleInitialPageVisit(t){this.page.url+=window.location.hash,this.setPage(t,{preserveState:!0}).then(()=>B(t))}setupEventListeners(){window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),document.addEventListener("scroll",it(this.handleScrollEvent.bind(this),100),!0)}scrollRegions(){return document.querySelectorAll("[scroll-region]")}handleScrollEvent(t){typeof t.target.hasAttribute=="function"&&t.target.hasAttribute("scroll-region")&&this.saveScrollPositions()}saveScrollPositions(){this.replaceState({...this.page,scrollRegions:Array.from(this.scrollRegions()).map(t=>({top:t.scrollTop,left:t.scrollLeft}))})}resetScrollPositions(){window.scrollTo(0,0),this.scrollRegions().forEach(t=>{typeof t.scrollTo=="function"?t.scrollTo(0,0):(t.scrollTop=0,t.scrollLeft=0)}),this.saveScrollPositions(),window.location.hash&&setTimeout(()=>{var t;return(t=document.getElementById(window.location.hash.slice(1)))==null?void 0:t.scrollIntoView()})}restoreScrollPositions(){this.page.scrollRegions&&this.scrollRegions().forEach((t,e)=>{let r=this.page.scrollRegions[e];if(r)typeof t.scrollTo=="function"?t.scrollTo(r.left,r.top):(t.scrollTop=r.top,t.scrollLeft=r.left);else return})}isBackForwardVisit(){return window.history.state&&this.navigationType==="back_forward"}handleBackForwardVisit(t){window.history.state.version=t.version,this.setPage(window.history.state,{preserveScroll:!0,preserveState:!0}).then(()=>{this.restoreScrollPositions(),B(t)})}locationVisit(t,e){try{let r={preserveScroll:e};window.sessionStorage.setItem("inertiaLocationVisit",JSON.stringify(r)),window.location.href=t.href,$(window.location).href===$(t).href&&window.location.reload()}catch{return!1}}isLocationVisit(){try{return window.sessionStorage.getItem("inertiaLocationVisit")!==null}catch{return!1}}handleLocationVisit(t){var r,n;let e=JSON.parse(window.sessionStorage.getItem("inertiaLocationVisit")||"");window.sessionStorage.removeItem("inertiaLocationVisit"),t.url+=window.location.hash,t.rememberedState=((r=window.history.state)==null?void 0:r.rememberedState)??{},t.scrollRegions=((n=window.history.state)==null?void 0:n.scrollRegions)??[],this.setPage(t,{preserveScroll:e.preserveScroll,preserveState:!0}).then(()=>{e.preserveScroll&&this.restoreScrollPositions(),B(t)})}isLocationVisitResponse(t){return!!(t&&t.status===409&&t.headers["x-inertia-location"])}isInertiaResponse(t){return!!(t!=null&&t.headers["x-inertia"])}createVisitId(){return this.visitId={},this.visitId}cancelVisit(t,{cancelled:e=!1,interrupted:r=!1}){t&&!t.completed&&!t.cancelled&&!t.interrupted&&(t.cancelToken.abort(),t.onCancel(),t.completed=!1,t.cancelled=e,t.interrupted=r,se(t),t.onFinish(t))}finishVisit(t){!t.cancelled&&!t.interrupted&&(t.completed=!0,t.cancelled=!1,t.interrupted=!1,se(t),t.onFinish(t))}resolvePreserveOption(t,e){return typeof t=="function"?t(e):t==="errors"?Object.keys(e.props.errors||{}).length>0:t}cancel(){this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}visit(t,{method:e="get",data:r={},replace:n=!1,preserveScroll:i=!1,preserveState:o=!1,only:a=[],headers:f={},errorBag:s="",forceFormData:l=!1,onCancelToken:c=()=>{},onBefore:y=()=>{},onStart:d=()=>{},onProgress:v=()=>{},onFinish:w=()=>{},onCancel:b=()=>{},onSuccess:S=()=>{},onError:A=()=>{},queryStringArrayFormat:C="brackets"}={}){let u=typeof t=="string"?R(t):t;if((G(r)||l)&&!(r instanceof FormData)&&(r=ye(r)),!(r instanceof FormData)){let[h,p]=ge(e,u,r,C);u=R(h),r=p}let E={url:u,method:e,data:r,replace:n,preserveScroll:i,preserveState:o,only:a,headers:f,errorBag:s,forceFormData:l,queryStringArrayFormat:C,cancelled:!1,completed:!1,interrupted:!1};if(y(E)===!1||!at(E))return;this.activeVisit&&this.cancelVisit(this.activeVisit,{interrupted:!0}),this.saveScrollPositions();let D=this.createVisitId();this.activeVisit={...E,onCancelToken:c,onBefore:y,onStart:d,onProgress:v,onFinish:w,onCancel:b,onSuccess:S,onError:A,queryStringArrayFormat:C,cancelToken:new AbortController},c({cancel:()=>{this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}}),ft(E),d(E),ie({method:e,url:$(u).href,data:e==="get"?{}:r,params:e==="get"?r:{},signal:this.activeVisit.cancelToken.signal,headers:{...f,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,...a.length?{"X-Inertia-Partial-Component":this.page.component,"X-Inertia-Partial-Data":a.join(",")}:{},...s&&s.length?{"X-Inertia-Error-Bag":s}:{},...this.page.version?{"X-Inertia-Version":this.page.version}:{}},onUploadProgress:h=>{r instanceof FormData&&(h.percentage=h.progress?Math.round(h.progress*100):0,ct(h),v(h))}}).then(h=>{var I;if(!this.isInertiaResponse(h))return Promise.reject({response:h});let p=h.data;a.length&&p.component===this.page.component&&(p.props={...this.page.props,...p.props}),i=this.resolvePreserveOption(i,p),o=this.resolvePreserveOption(o,p),o&&((I=window.history.state)!=null&&I.rememberedState)&&p.component===this.page.component&&(p.rememberedState=window.history.state.rememberedState);let x=u,F=R(p.url);return x.hash&&!F.hash&&$(x).href===F.href&&(F.hash=x.hash,p.url=F.href),this.setPage(p,{visitId:D,replace:n,preserveScroll:i,preserveState:o})}).then(()=>{let h=this.page.props.errors||{};if(Object.keys(h).length>0){let p=s?h[s]?h[s]:{}:h;return ot(p),A(p)}return dt(this.page),S(this.page)}).catch(h=>{if(this.isInertiaResponse(h.response))return this.setPage(h.response.data,{visitId:D});if(this.isLocationVisitResponse(h.response)){let p=R(h.response.headers["x-inertia-location"]),x=u;x.hash&&!p.hash&&$(x).href===p.href&&(p.hash=x.hash),this.locationVisit(p,i===!0)}else if(h.response)lt(h.response)&&ut.show(h.response.data);else return Promise.reject(h)}).then(()=>{this.activeVisit&&this.finishVisit(this.activeVisit)}).catch(h=>{if(!ie.isCancel(h)){let p=st(h);if(this.activeVisit&&this.finishVisit(this.activeVisit),p)return Promise.reject(h)}})}setPage(t,{visitId:e=this.createVisitId(),replace:r=!1,preserveScroll:n=!1,preserveState:i=!1}={}){return Promise.resolve(this.resolveComponent(t.component)).then(o=>{e===this.visitId&&(t.scrollRegions=t.scrollRegions||[],t.rememberedState=t.rememberedState||{},r=r||R(t.url).href===window.location.href,r?this.replaceState(t):this.pushState(t),this.swapComponent({component:o,page:t,preserveState:i}).then(()=>{n||this.resetScrollPositions(),r||B(t)}))})}pushState(t){this.page=t,window.history.pushState(t,"",t.url)}replaceState(t){this.page=t,window.history.replaceState(t,"",t.url)}handlePopstateEvent(t){if(t.state!==null){let e=t.state,r=this.createVisitId();Promise.resolve(this.resolveComponent(e.component)).then(n=>{r===this.visitId&&(this.page=e,this.swapComponent({component:n,page:e,preserveState:!1}).then(()=>{this.restoreScrollPositions(),B(e)}))})}else{let e=R(this.page.url);e.hash=window.location.hash,this.replaceState({...this.page,url:e.href}),this.resetScrollPositions()}}get(t,e={},r={}){return this.visit(t,{...r,method:"get",data:e})}reload(t={}){return this.visit(window.location.href,{...t,preserveScroll:!0,preserveState:!0})}replace(t,e={}){return console.warn(`Inertia.replace() has been deprecated and will be removed in a future release. Please use Inertia.${e.method??"get"}() instead.`),this.visit(t,{preserveState:!0,...e,replace:!0})}post(t,e={},r={}){return this.visit(t,{preserveState:!0,...r,method:"post",data:e})}put(t,e={},r={}){return this.visit(t,{preserveState:!0,...r,method:"put",data:e})}patch(t,e={},r={}){return this.visit(t,{preserveState:!0,...r,method:"patch",data:e})}delete(t,e={}){return this.visit(t,{preserveState:!0,...e,method:"delete"})}remember(t,e="default"){var r;le||this.replaceState({...this.page,rememberedState:{...(r=this.page)==null?void 0:r.rememberedState,[e]:t}})}restore(t="default"){var e,r;if(!le)return(r=(e=window.history.state)==null?void 0:e.rememberedState)==null?void 0:r[t]}on(t,e){let r=n=>{let i=e(n);n.cancelable&&!n.defaultPrevented&&i===!1&&n.preventDefault()};return document.addEventListener(`inertia:${t}`,r),()=>document.removeEventListener(`inertia:${t}`,r)}};function pt(t){let e=t.currentTarget.tagName.toLowerCase()==="a";return!(t.target&&(t==null?void 0:t.target).isContentEditable||t.defaultPrevented||e&&t.which>1||e&&t.altKey||e&&t.ctrlKey||e&&t.metaKey||e&&t.shiftKey)}var yt=new ht;Y(null);var N=Y(null);Ee(null);Y(null);function gt(){return Oe({props:V(()=>{var t;return(t=N.value)==null?void 0:t.props}),url:V(()=>{var t;return(t=N.value)==null?void 0:t.url}),component:V(()=>{var t;return(t=N.value)==null?void 0:t.component}),version:V(()=>{var t;return(t=N.value)==null?void 0:t.version}),scrollRegions:V(()=>{var t;return(t=N.value)==null?void 0:t.scrollRegions}),rememberedState:V(()=>{var t;return(t=N.value)==null?void 0:t.rememberedState})})}var mt=Pe({name:"Link",props:{as:{type:String,default:"a"},data:{type:Object,default:()=>({})},href:{type:String,required:!0},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:null},only:{type:Array,default:()=>[]},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"}},setup(t,{slots:e,attrs:r}){return()=>{let n=t.as.toLowerCase(),i=t.method.toLowerCase(),[o,a]=ge(i,t.href||"",t.data,t.queryStringArrayFormat);return n==="a"&&i!=="get"&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.

Please specify a more appropriate element using the "as" attribute. For example:

<Link href="${o}" method="${i}" as="button">...</Link>`),xe(t.as,{...r,...n==="a"?{href:o}:{},onClick:f=>{pt(f)&&(f.preventDefault(),yt.visit(o,{data:a,method:i,replace:t.replace,preserveScroll:t.preserveScroll,preserveState:t.preserveState??i!=="get",only:t.only,headers:t.headers,onCancelToken:r.onCancelToken||(()=>({})),onBefore:r.onBefore||(()=>({})),onStart:r.onStart||(()=>({})),onProgress:r.onProgress||(()=>({})),onFinish:r.onFinish||(()=>({})),onCancel:r.onCancel||(()=>({})),onSuccess:r.onSuccess||(()=>({})),onError:r.onError||(()=>({}))}))}},e)}}}),wt=mt;export{gt as Q,wt as i};
