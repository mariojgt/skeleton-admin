import{v as s,o as l,g,n as a,p,d as r,b as w,E as y,l as v,t as i,e as b,u as f,A as F,f as R,G as U}from"./index-DQfThwAa.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as z,N as D,M as L,b as Z}from"./App.vue_vue_type_style_index_0_lang-JMCUIHuB.js";import{S as K}from"./star-BKZ_2fa6.js";import{G as C}from"./gamepad-2-_f4WjcQ9.js";import{E as O}from"./eye-zGwqV_Uz.js";import{M as J,Z as Q}from"./SearchSidebar-D5ZKKuQz.js";import{P as W}from"./pen-Dy3kVaqR.js";const X={key:1,class:"absolute -top-1 -right-1 z-10"},Y={class:"relative"},ee={class:"relative flex gap-4 p-4"},te={class:"flex-shrink-0 w-14"},re={class:"relative"},se=["src","alt"],oe={class:"flex-1 min-w-0"},ae={class:"flex items-start justify-between gap-4"},ne={class:"text-lg font-bold text-white group-hover:text-blue-400 transition-colors line-clamp-1"},le={class:"flex-shrink-0"},ie=["innerHTML"],ce={class:"mt-3 flex items-center gap-4 text-sm"},ue={class:"flex items-center gap-2"},de={class:"text-gray-500"},ge={class:"flex items-center gap-3"},me={__name:"PostCard",props:{record:{type:Object,required:!0}},setup(n){const t=n,c=s(()=>(t.record.comments_count||0)>=5),u=s(()=>(t.record.views_count||0)>=20),d=s(()=>(t.record.views_count||0)>=50),k=s(()=>{var e;return t.record.admin||((e=t.record.user)==null?void 0:e.has_subscription)}),B=s(()=>c.value||u.value||d.value?"hover:bg-dark-700/90":"hover:bg-dark-700/80"),P=s(()=>c.value?"border-red-500/30 animate-pulse":u.value?"border-blue-500/30":d.value?"border-purple-500/30":""),m=s(()=>c.value?{icon:z,text:"Hot",class:"bg-gradient-to-r from-orange-500 to-red-500"}:u.value?{icon:Trending,text:"Trending",class:"bg-gradient-to-r from-blue-500 to-cyan-500"}:d.value?{icon:K,text:"Popular",class:"bg-gradient-to-r from-purple-500 to-pink-500"}:null),S=s(()=>{var o;return`flex items-center gap-1 px-2 py-0.5 text-xs font-bold text-white rounded-full shadow-lg ${((o=m.value)==null?void 0:o.class)||""}`}),N=s(()=>{const e="absolute -inset-1 blur-sm rounded-full";return c.value?`${e} bg-red-500/30`:u.value?`${e} bg-blue-500/30`:d.value?`${e} bg-purple-500/30`:""}),A=s(()=>{var e;return t.record.admin?"bg-purple-500/50":(e=t.record.user)!=null&&e.has_subscription?"bg-yellow-500/50":""}),M=s(()=>{var e;return t.record.admin?"ring-purple-500/50":(e=t.record.user)!=null&&e.has_subscription?"ring-yellow-500/50":"ring-gray-700"}),T=s(()=>{var e;return t.record.admin?"text-purple-400":(e=t.record.user)!=null&&e.has_subscription?"text-yellow-400":"text-blue-400"}),E=s(()=>t.record.views_count>=50?"text-purple-400":t.record.views_count>=20?"text-blue-400":"text-gray-400"),G=s(()=>t.record.comments_count>=5?"text-red-400":t.record.comments_count>=3?"text-orange-400":"text-gray-400"),V=s(()=>{var o;return{News:D,Updates:Q,Tournaments:L,Reviews:C,Battles:Z}[(o=t.record.category)==null?void 0:o.name]||C}),$=s(()=>{var o;return{News:"bg-purple-500/20 text-purple-400",Updates:"bg-blue-500/20 text-blue-400",Tournaments:"bg-yellow-500/20 text-yellow-400",Reviews:"bg-green-500/20 text-green-400",Battles:"bg-red-500/20 text-red-400"}[(o=t.record.category)==null?void 0:o.name]||"bg-blue-500/20 text-blue-400"}),H=s(()=>{var e,o;return((e=t.record.admin)==null?void 0:e.avatar)||((o=t.record.user)==null?void 0:o.avatar)}),x=s(()=>{var e,o;return((e=t.record.admin)==null?void 0:e.full_name)||((o=t.record.user)==null?void 0:o.full_name)}),h=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString(),I=()=>{U.visit(route("news.view",t.record.slug))},j=e=>{e.stopPropagation(),window.open(route("gamedev.blog.edit",t.record.id),"_blank")};return(e,o)=>{var _;return l(),g("article",{class:a(["group relative bg-dark-800/80 rounded-lg transition-all duration-300 cursor-pointer overflow-hidden",B.value]),onClick:I},[c.value||u.value||d.value?(l(),g("div",{key:0,class:a(["absolute inset-0 border rounded-lg transition-all duration-300",P.value])},null,2)):p("",!0),m.value?(l(),g("div",X,[r("div",Y,[r("div",{class:a(N.value)},null,2),r("span",{class:a(S.value)},[(l(),w(y(m.value.icon),{class:"w-3 h-3"})),v(" "+i(m.value.text),1)],2)])])):p("",!0),r("div",ee,[r("div",te,[r("div",re,[k.value?(l(),g("div",{key:0,class:a(["absolute -inset-1 rounded-lg blur-sm",A.value])},null,2)):p("",!0),r("img",{src:H.value,alt:x.value,class:a(["relative w-14 h-14 rounded-lg object-cover ring-2",M.value])},null,10,se)])]),r("div",oe,[r("div",ae,[r("h2",ne,i(n.record.title),1),r("div",le,[r("span",{class:a(["inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium shadow-lg",$.value])},[(l(),w(y(V.value),{class:"w-4 h-4"})),v(" "+i((_=n.record.category)==null?void 0:_.name),1)],2)])]),r("p",{class:"mt-1 text-gray-300 text-sm line-clamp-2",innerHTML:n.record.short_description},null,8,ie),r("div",ce,[r("div",ue,[r("span",{class:a(["font-medium",T.value])},i(x.value),3),r("span",de,i(n.record.created_at_human),1)]),r("div",ge,[r("div",{class:a(["flex items-center gap-1.5",E.value])},[b(f(O),{class:"w-4 h-4"}),v(" "+i(h(n.record.views_count||0)),1)],2),r("div",{class:a(["flex items-center gap-1.5",G.value])},[b(f(J),{class:"w-4 h-4"}),v(" "+i(h(n.record.comments_count||0)),1)],2)])])]),f(F)().props.isAdminAuth?(l(),g("button",{key:0,onClick:R(j,["stop"]),class:"flex items-center gap-1.5 px-3 py-1.5 text-blue-400 hover:text-blue-300 hover:bg-dark-600 rounded-lg text-sm transition-colors"},[b(f(W),{class:"w-4 h-4"}),o[0]||(o[0]=r("span",{class:"hidden sm:inline"},"Edit",-1))])):p("",!0)])],2)}}},ye=q(me,[["__scopeId","data-v-c8e6f9e4"]]);export{ye as P};
