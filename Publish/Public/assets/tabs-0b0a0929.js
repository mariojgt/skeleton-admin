import{o as p,H as A,T as z,t as U,b as X,N as C,u as L,a as S}from"./use-resolve-button-type-7919e5eb.js";import{D as T,a as E,h as D,A as b,E as H,p as M,v as J,G as Q,F as Y,H as W,I as G}from"./preset-2a80df8a.js";var Z=Object.defineProperty,ee=(e,t,u)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[t]=u,q=(e,t,u)=>(ee(e,typeof t!="symbol"?t+"":t,u),u);class te{constructor(){q(this,"current",this.detect()),q(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let le=new te;function re(e){if(le.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=p(e);if(t)return t.ownerDocument}return document}let ae=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var I=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(I||{}),$=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))($||{}),ne=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(ne||{});function ue(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ae)).sort((t,u)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(u.tabIndex||Number.MAX_SAFE_INTEGER)))}var se=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(se||{}),oe=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(oe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let ie=["textarea","input"].join(",");function de(e){var t,u;return(u=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,ie))!=null?u:!1}function O(e,t=u=>u){return e.slice().sort((u,o)=>{let n=t(u),r=t(o);if(n===null||r===null)return 0;let i=n.compareDocumentPosition(r);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function N(e,t,{sorted:u=!0,relativeTo:o=null,skipElements:n=[]}={}){var r;let i=(r=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?r:document,c=Array.isArray(e)?u?O(e):e:ue(e);n.length>0&&c.length>1&&(c=c.filter(y=>!n.includes(y))),o=o??i.activeElement;let m=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,c.indexOf(o))-1;if(t&4)return Math.max(0,c.indexOf(o))+1;if(t&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),v=t&32?{preventScroll:!0}:{},d=0,h=c.length,x;do{if(d>=h||d+h<=0)return 0;let y=f+d;if(t&16)y=(y+h)%h;else{if(y<0)return 3;if(y>=h)return 1}x=c[y],x==null||x.focus(v),d+=m}while(x!==i.activeElement);return t&6&&de(x)&&x.select(),2}var _=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(_||{});let K=T({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:u}){return()=>{let{features:o,...n}=e,r={"aria-hidden":(o&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(o&4)===4&&(o&2)!==2&&{display:"none"}}};return A({ourProps:r,theirProps:n,slot:{},attrs:u,slots:t,name:"Hidden"})}}});function ce(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}let ve=T({props:{onFocus:{type:Function,required:!0}},setup(e){let t=E(!0);return()=>t.value?D(K,{as:"button",type:"button",features:_.Focusable,onFocus(u){u.preventDefault();let o,n=50;function r(){var i;if(n--<=0){o&&cancelAnimationFrame(o);return}if((i=e.onFocus)!=null&&i.call(e)){t.value=!1,cancelAnimationFrame(o);return}o=requestAnimationFrame(r)}o=requestAnimationFrame(r)}}):null}});var pe=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(pe||{}),fe=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(fe||{});let R=Symbol("TabsContext");function k(e){let t=G(R,null);if(t===null){let u=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,k),u}return t}let B=Symbol("TabsSSRContext"),he=T({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:t,attrs:u,emit:o}){var n;let r=E((n=e.selectedIndex)!=null?n:e.defaultIndex),i=E([]),c=E([]),m=b(()=>e.selectedIndex!==null),f=b(()=>m.value?e.selectedIndex:r.value);function v(a){var l;let s=O(d.tabs.value,p),g=O(d.panels.value,p),F=s.filter(w=>{var P;return!((P=p(w))!=null&&P.hasAttribute("disabled"))});if(a<0||a>s.length-1){let w=L(r.value===null?0:Math.sign(a-r.value),{[-1]:()=>1,0:()=>L(Math.sign(a),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),P=L(w,{0:()=>s.indexOf(F[0]),1:()=>s.indexOf(F[F.length-1])});P!==-1&&(r.value=P),d.tabs.value=s,d.panels.value=g}else{let w=s.slice(0,a),P=[...s.slice(a),...w].find(V=>F.includes(V));if(!P)return;let j=(l=s.indexOf(P))!=null?l:d.selectedIndex.value;j===-1&&(j=d.selectedIndex.value),r.value=j,d.tabs.value=s,d.panels.value=g}}let d={selectedIndex:b(()=>{var a,l;return(l=(a=r.value)!=null?a:e.defaultIndex)!=null?l:null}),orientation:b(()=>e.vertical?"vertical":"horizontal"),activation:b(()=>e.manual?"manual":"auto"),tabs:i,panels:c,setSelectedIndex(a){f.value!==a&&o("change",a),m.value||v(a)},registerTab(a){var l;if(i.value.includes(a))return;let s=i.value[r.value];i.value.push(a),i.value=O(i.value,p);let g=(l=i.value.indexOf(s))!=null?l:r.value;g!==-1&&(r.value=g)},unregisterTab(a){let l=i.value.indexOf(a);l!==-1&&i.value.splice(l,1)},registerPanel(a){c.value.includes(a)||(c.value.push(a),c.value=O(c.value,p))},unregisterPanel(a){let l=c.value.indexOf(a);l!==-1&&c.value.splice(l,1)}};H(R,d);let h=E({tabs:[],panels:[]}),x=E(!1);M(()=>{x.value=!0}),H(B,b(()=>x.value?null:h.value));let y=b(()=>e.selectedIndex);return M(()=>{J([y],()=>{var a;return v((a=e.selectedIndex)!=null?a:e.defaultIndex)},{immediate:!0})}),Q(()=>{if(!m.value||f.value==null||d.tabs.value.length<=0)return;let a=O(d.tabs.value,p);a.some((l,s)=>p(d.tabs.value[s])!==p(l))&&d.setSelectedIndex(a.findIndex(l=>p(l)===p(d.tabs.value[f.value])))}),()=>{let a={selectedIndex:r.value};return D(Y,[i.value.length<=0&&D(ve,{onFocus:()=>{for(let l of i.value){let s=p(l);if((s==null?void 0:s.tabIndex)===0)return s.focus(),!0}return!1}}),A({theirProps:{...u,...z(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:a,slots:t,attrs:u,name:"TabGroup"})])}}}),xe=T({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:t,slots:u}){let o=k("TabList");return()=>{let n={selectedIndex:o.selectedIndex.value},r={role:"tablist","aria-orientation":o.orientation.value};return A({ourProps:r,theirProps:e,slot:n,attrs:t,slots:u,name:"TabList"})}}}),ye=T({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-tabs-tab-${U()}`}},setup(e,{attrs:t,slots:u,expose:o}){let n=k("Tab"),r=E(null);o({el:r,$el:r}),M(()=>n.registerTab(r)),W(()=>n.unregisterTab(r));let i=G(B),c=b(()=>{if(i.value){let l=i.value.tabs.indexOf(e.id);return l===-1?i.value.tabs.push(e.id)-1:l}return-1}),m=b(()=>{let l=n.tabs.value.indexOf(r);return l===-1?c.value:l}),f=b(()=>m.value===n.selectedIndex.value);function v(l){var s;let g=l();if(g===$.Success&&n.activation.value==="auto"){let F=(s=re(r))==null?void 0:s.activeElement,w=n.tabs.value.findIndex(P=>p(P)===F);w!==-1&&n.setSelectedIndex(w)}return g}function d(l){let s=n.tabs.value.map(g=>p(g)).filter(Boolean);if(l.key===S.Space||l.key===S.Enter){l.preventDefault(),l.stopPropagation(),n.setSelectedIndex(m.value);return}switch(l.key){case S.Home:case S.PageUp:return l.preventDefault(),l.stopPropagation(),v(()=>N(s,I.First));case S.End:case S.PageDown:return l.preventDefault(),l.stopPropagation(),v(()=>N(s,I.Last))}if(v(()=>L(n.orientation.value,{vertical(){return l.key===S.ArrowUp?N(s,I.Previous|I.WrapAround):l.key===S.ArrowDown?N(s,I.Next|I.WrapAround):$.Error},horizontal(){return l.key===S.ArrowLeft?N(s,I.Previous|I.WrapAround):l.key===S.ArrowRight?N(s,I.Next|I.WrapAround):$.Error}}))===$.Success)return l.preventDefault()}let h=E(!1);function x(){var l;h.value||(h.value=!0,!e.disabled&&((l=p(r))==null||l.focus({preventScroll:!0}),n.setSelectedIndex(m.value),ce(()=>{h.value=!1})))}function y(l){l.preventDefault()}let a=X(b(()=>({as:e.as,type:t.type})),r);return()=>{var l;let s={selected:f.value},{id:g,...F}=e,w={ref:r,onKeydown:d,onMousedown:y,onClick:x,id:g,role:"tab",type:a.value,"aria-controls":(l=p(n.panels.value[m.value]))==null?void 0:l.id,"aria-selected":f.value,tabIndex:f.value?0:-1,disabled:e.disabled?!0:void 0};return A({ourProps:w,theirProps:F,slot:s,attrs:t,slots:u,name:"Tab"})}}}),ge=T({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:u}){let o=k("TabPanels");return()=>{let n={selectedIndex:o.selectedIndex.value};return A({theirProps:e,ourProps:{},slot:n,attrs:u,slots:t,name:"TabPanels"})}}}),Ie=T({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-tabs-panel-${U()}`},tabIndex:{type:Number,default:0}},setup(e,{attrs:t,slots:u,expose:o}){let n=k("TabPanel"),r=E(null);o({el:r,$el:r}),M(()=>n.registerPanel(r)),W(()=>n.unregisterPanel(r));let i=G(B),c=b(()=>{if(i.value){let v=i.value.panels.indexOf(e.id);return v===-1?i.value.panels.push(e.id)-1:v}return-1}),m=b(()=>{let v=n.panels.value.indexOf(r);return v===-1?c.value:v}),f=b(()=>m.value===n.selectedIndex.value);return()=>{var v;let d={selected:f.value},{id:h,tabIndex:x,...y}=e,a={ref:r,id:h,role:"tabpanel","aria-labelledby":(v=p(n.tabs.value[m.value]))==null?void 0:v.id,tabIndex:f.value?x:-1};return!f.value&&e.unmount&&!e.static?D(K,{as:"span",...a}):A({ourProps:a,theirProps:y,slot:d,attrs:t,slots:u,features:C.Static|C.RenderStrategy,visible:f.value,name:"TabPanel"})}}});export{xe as I,ge as S,Ie as g,he as x,ye as y};
