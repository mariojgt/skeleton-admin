import{a as c,B,k as C,o as r,g as n,d as e,t as p,x as j,y as I,u as d,i as D,p as m,l as h,F as w,z as y,H as K}from"./index-WItOpbdS.js";import{Q as b}from"./Input.vue_vue_type_style_index_0_scoped_a29b7091_lang-CIV3KoBB.js";const A={class:"form-control"},z={class:"label"},H={class:"block text-lg font-bold mb-2"},L={class:"relative"},N=["name","id","placeholder"],O={key:0,class:"invalid-feedback text-primary mt-1 block",role:"alert"},T={key:1,class:"mt-3 rounded-lg overflow-hidden border border-base-300 bg-base-100 shadow-lg"},F={class:"p-2 space-y-2"},E=["onClick"],Q={class:"text-xl font-bold text-black"},R={key:2,class:"mt-3 rounded-lg overflow-hidden border border-base-300 bg-base-100 shadow-lg"},U={class:"p-2 space-y-2"},$={class:"text-xl font-bold"},q=["onClick"],P={__name:"TextMultipleSelector",props:{label:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:String,default:""},model:{type:String,default:""},columns:{type:Object,default:null},endpoint:{type:String,default:""},loadData:{type:Object,default:null},singleMode:{type:Boolean,default:!1},displayKey:{type:String,default:"name"}},emits:["update:modelValue"],setup(x,{emit:k}){let v=c(null),i=c(""),u=c([]),o=c([]);B(()=>{var l;return(l=b().props)==null?void 0:l.errors},l=>{b().props.errors[t.name]&&(v.value=b().props.errors[t.name])});const t=x,f=k,_=async()=>{K.post(t.endpoint,{search:i.value,model:t.model,columns:t.columns}).then(function(l){u.value=l.data}).catch(function(l){for(const[s,a]of Object.entries(l.response.data.errors))message.error(a[0])})},M=l=>{t.singleMode&&(o.value=[]),Array.isArray(o.value)||(o.value=[]),o.value.findIndex(s=>s.id===l.id)===-1&&o.value.push({id:l.id,[t.displayKey]:l[t.displayKey]}),u.value=[],f("update:modelValue",o.value)},S=l=>{o.value.splice(l,1),f("update:modelValue",o.value)};return C(()=>{t.loadData&&(t.singleMode?o.value=[t.loadData]:o.value=t.loadData)}),(l,s)=>(r(),n("div",A,[e("label",z,[e("span",H,p(t.label),1)]),e("div",L,[j(e("input",{class:"input input-primary input-bordered w-full pl-10",name:t.name,id:t.id,placeholder:t.placeholder,autocomplete:"off","onUpdate:modelValue":s[0]||(s[0]=a=>D(i)?i.value=a:i=a),onKeyup:_},null,40,N),[[I,d(i)]]),s[1]||(s[1]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-primary",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1))]),d(v)?(r(),n("span",O,[e("strong",null,p(d(v)),1)])):m("",!0),d(u).data?(r(),n("div",T,[s[3]||(s[3]=e("div",{class:"px-4 py-3 text-xl font-bold bg-primary text-white"},[e("strong",{class:"flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})]),h(" Available Items ")])],-1)),e("div",F,[(r(!0),n(w,null,y(d(u).data,(a,g)=>(r(),n("div",{key:a.id,onClick:V=>M(a),class:"flex justify-between items-center p-3 bg-white rounded-lg border border-base-200 hover:bg-secondary hover:border-secondary hover:text-white transition-all duration-200 cursor-pointer"},[e("p",Q,p(a[t.displayKey]),1),s[2]||(s[2]=e("div",{class:"btn btn-circle btn-success btn-sm"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])],-1))],8,E))),128))])])):m("",!0),d(o).length>0?(r(),n("div",R,[s[5]||(s[5]=e("div",{class:"px-4 py-3 text-xl font-bold bg-secondary text-white"},[e("strong",{class:"flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),h(" Selected Items ")])],-1)),e("div",U,[(r(!0),n(w,null,y(d(o),(a,g)=>(r(),n("div",{key:a.id,class:"flex justify-between items-center p-3 bg-white rounded-lg border border-base-200 hover:bg-base-200 transition-all duration-200"},[e("p",$,p(a[t.displayKey]),1),e("div",{class:"btn btn-circle btn-error btn-sm",onClick:V=>S(g)},s[4]||(s[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,q)]))),128))])])):m("",!0)]))}};export{P as _};
