import{U as Q}from"./UserProfile-u67_8nzM.js";import R from"./QRShareModal-Dq0nncCQ.js";import G from"./AchievementCard-D9JZYETK.js";import X from"./AchievementModal-CHvp_sl1.js";import J from"./CourseCardInfo-CE1y8rIe.js";import{R as T,z as S,C as j,A as Y,D as Z,_ as H,J as K,K as I,O as tt,Q as et,V as st,X as rt,Y as ot,Z as lt,a as at,$ as it,a0 as nt,G as dt,a1 as pt,a2 as ut,a3 as mt,a4 as ct,a5 as bt,a6 as gt,a7 as ft,a8 as xt,a9 as ht,aa as vt,ab as wt,ac as yt}from"./App.vue_vue_type_style_index_0_lang-Df2gGq_G.js";import{C as L}from"./clock-CtJexj6H.js";import{T as k}from"./trophy-k7fMmljL.js";import{b as A,Z as _t}from"./SearchSidebar-o0ypHWII.js";import{A as kt}from"./award-BzMCt3sC.js";import{B as z}from"./book-open-DA17LBaE.js";import{C as At}from"./file-code-C9DRJaSr.js";import{B as Ct}from"./bell-C_Lh5Z0o.js";import{P as Bt}from"./shopping-bag-BsFNNjNi.js";import{S as Pt}from"./shield-Be_G51qQ.js";import{q as Mt,a as C,v as Ft,k as $t,o as u,b as g,w as Tt,d as t,g as b,z as B,n as St,aw as D,F as P,e as i,l as m,u as a,t as n,p as M}from"./index-WItOpbdS.js";import{_ as jt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./qr-code-zHHEyrA8.js";import"./createLucideIcon-B_m21LnD.js";import"./x-D_G4-85w.js";import"./check-Bj0sAzNn.js";import"./lock-BRWUkUvR.js";import"./gamepad-2-oAnktp6q.js";import"./scroll-BNMWMBtd.js";import"./chevron-down-CFkIQPso.js";import"./chevron-up-DnU83qHv.js";import"./FlashMessage-D5T9KYej.js";import"./index-Dv4gq3Lz.js";import"./underline-DmRTlCQu.js";import"./hash-D3PM4ASo.js";import"./bookmark-ULpl1TpR.js";import"./arrow-right-DR4DXPKm.js";import"./play-34_Ks91a.js";import"./calendar-uav1JtPz.js";import"./info-pjT6XQSI.js";import"./circle-check-big-D4oY-uLV.js";import"./plus-C-Tc0aaV.js";import"./crown-Q_hRGcZ7.js";import"./download-Br1fYmfn.js";import"./pen-Z-rwVA3g.js";import"./shield-check-C5PVV6Z4.js";import"./eye-C6yT-mMt.js";import"./trash-Bv58Th6h.js";import"./folder-open-D8Tkw675.js";import"./shopping-cart-Bml2Wz3U.js";import"./house-X6YzmkQp.js";import"./key-uG_gkCpc.js";import"./user-BXv-PtgY.js";import"./message-circle-Din7jeE5.js";import"./message-square-BsO5noHy.js";import"./save-ZWy67PzQ.js";import"./scroll-text-D4lLzPU_.js";import"./search-Cw9ASmoG.js";import"./Markdown.vue_vue_type_style_index_0_lang-DvlYjlxx.js";import"./purify.es-CocPUCx9.js";import"./SeoManager-rUUTbkIm.js";import"./trash-2-jAQMw3jY.js";import"./triangle-alert-WvWLgC-B.js";import"./video-Dl_CRmcu.js";import"./app-B6YyDBtE.js";import"./Input.vue_vue_type_style_index_0_scoped_a29b7091_lang-CIV3KoBB.js";import"./ReusableModal-CrVkhlU_.js";import"./transition-Ck23AN9S.js";import"./focus-management-BrwG5F66.js";import"./keyboard-Cn0nGm_W.js";import"./hidden-BhFQ2Bcg.js";import"./open-closed-DfxnaXzs.js";import"./axios-_QDD2PZU.js";import"./Money-BJRPvLN8.js";import"./dynamicIcon.vue_vue_type_script_setup_true_lang-Cf8ehSRr.js";const Lt={class:"achievements-container max-w-6xl mx-auto px-4 py-8 relative rpg-realm"},zt={class:"absolute inset-0 pointer-events-none overflow-hidden z-0"},Dt={class:"particles-container"},qt={class:"relative z-10 mt-12 mb-12"},Et={class:"bg-dark-500/90 backdrop-blur-sm rounded-2xl border-2 border-[#328AF1]/20 p-8 shadow-xl overflow-hidden rpg-character-sheet"},Vt={key:0,class:"grid md:grid-cols-3 gap-6"},Ut={class:"bg-dark-600/50 rounded-xl border-2 border-[#328AF1]/20 p-6 transform transition-all duration-300 hover:scale-102 hover:border-[#328AF1]/40 hover:shadow-[0_0_15px_rgba(50,138,241,0.2)] rpg-stat-card"},Nt={class:"text-lg font-semibold text-white/90 flex items-center gap-2 mb-4"},Wt={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center rpg-icon-container"},Ot={class:"space-y-3"},Qt={class:"flex items-center justify-between text-sm text-white/70 py-2 border-b border-dark-400/30"},Rt={class:"font-medium text-purple-400"},Gt={class:"flex items-center justify-between text-sm text-white/70 py-2 border-b border-dark-400/30"},Xt={class:"font-medium text-blue-400 truncate ml-2 max-w-[180px]"},Jt={class:"flex items-center justify-between text-sm text-white/70 py-2"},Yt={class:"flex items-center gap-2"},Zt={class:"font-medium text-yellow-400"},Ht={class:"bg-dark-600/50 rounded-xl border-2 border-[#8B60ED]/20 p-6 transform transition-all duration-300 hover:scale-102 hover:border-[#8B60ED]/40 hover:shadow-[0_0_15px_rgba(139,96,237,0.2)] rpg-stat-card col-span-2"},Kt={class:"flex items-center justify-between mb-4"},It={class:"text-lg font-semibold text-white/90 flex items-center gap-2"},te={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-emerald-500/20 to-blue-500/20 flex items-center justify-center rpg-icon-container"},ee={class:"rpg-level-badge flex items-center gap-2 px-3 py-1 bg-[#8B60ED]/20 rounded-full border border-[#8B60ED]/30"},se={class:"text-sm font-bold text-yellow-400"},re={class:"space-y-4"},oe={class:"flex justify-between text-sm text-white/70 mb-2"},le={class:"font-medium text-emerald-400"},ae={class:"bg-dark-700 rounded-full h-3 overflow-hidden rpg-xp-bar-container p-0.5"},ie={class:"flex justify-between text-sm text-white/70 mb-2"},ne={class:"font-medium text-blue-400"},de={class:"flex gap-2 mt-6"},pe={class:"flex-1 bg-dark-700/50 rounded-xl py-2 px-4 border border-dark-600 rpg-stat-pill"},ue={class:"text-xs text-white/50 mb-1 flex items-center gap-1"},me={class:"text-lg font-medium text-blue-400"},ce={class:"flex-1 bg-dark-700/50 rounded-xl py-2 px-4 border border-dark-600 rpg-stat-pill"},be={class:"text-xs text-white/50 mb-1 flex items-center gap-1"},ge={class:"text-lg font-medium text-purple-400"},fe={class:"relative z-10 mb-12"},xe={class:"bg-dark-500/90 backdrop-blur-sm rounded-2xl border-2 border-[#1AAB8B]/20 p-8 shadow-xl rpg-quest-log"},he={class:"text-center mb-8 relative rpg-quest-header"},ve={class:"mt-6 flex items-center justify-center gap-3"},we={class:"flex items-center gap-2 px-4 py-2 bg-dark-600/50 rounded-xl border border-[#1AAB8B]/20 rpg-counter"},ye={class:"text-sm text-white/70"},_e={class:"font-bold text-emerald-400"},ke={class:"flex items-center gap-2 px-4 py-2 bg-dark-600/50 rounded-xl border border-[#1AAB8B]/20 rpg-counter"},Ae={class:"text-sm text-white/70"},Ce={class:"font-bold text-teal-400"},Be={key:0},Pe={class:"grid grid-cols-1 gap-4"},Me={key:1,class:"py-8 text-center"},Fe={class:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-dark-600/50 border-2 border-[#1AAB8B]/20 mb-4"},$e={class:"relative z-10"},Te={class:"bg-dark-500/90 backdrop-blur-sm rounded-2xl border-2 border-[#F19A1A]/20 p-8 shadow-xl rpg-quest-log"},Se={class:"text-center mb-12 relative rpg-quest-header"},je={class:"mt-6 flex items-center justify-center gap-3"},Le={class:"flex items-center gap-2 px-4 py-2 bg-dark-600/50 rounded-xl border border-[#F19A1A]/20 rpg-counter"},ze={class:"text-sm text-white/70"},De={class:"font-bold text-yellow-400"},qe={class:"flex items-center gap-2 px-4 py-2 bg-dark-600/50 rounded-xl border border-[#F19A1A]/20 rpg-counter"},Ee={class:"text-sm text-white/70"},Ve={class:"font-bold text-blue-400"},Ue={class:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6"},Ne={class:"text-center mt-8 rpg-share-section"},We=["href"],Oe=Mt({__name:"Achievement",props:{user:{type:Object,default:()=>({})},achievements:{type:Array,default:()=>[]},userCourseProgress:{type:Object,default:()=>({})}},setup(v){const r=v,d=C(null),f=C({}),q=s=>{f.value[s]=!f.value[s]},E=s=>{if(!s)return"0m";const e=Math.floor(s/3600),l=Math.floor(s%3600/60);return e>0?`${e}h ${l}m`:`${l}m`},x=Ft(()=>{if(!r.userCourseProgress||!r.userCourseProgress.courses)return{courses:[],completedCourses:0,totalWatchTime:0};let s=0,e=0;return{courses:r.userCourseProgress.courses.map(p=>{const c=p.lessons.filter(_=>_.completed).length,o=c===p.lessonsCount,y=p.lessons.reduce((_,O)=>_+(O.watchTime||0),0);return s+=y,o&&e++,{...p,completedLessons:c,isCompleted:o}}),completedCourses:e,totalWatchTime:s}}),F={rocket:T,code:At,award:S,trophy:A,zap:_t,anchor:K,battery:I,bell:Ct,"book-open":z,briefcase:tt,cake:et,camera:st,coffee:rt,compass:j,cpu:ot,drill:lt,flame:at,gamepad:it,gift:nt,globe:dt,layers:pt,leaf:ut,"mouse-pointer":mt,mountain:ct,music:bt,package:Bt,puzzle:gt,radio:ft,shield:Pt,smile:xt,sunrise:ht,tree:vt,umbrella:wt,watch:yt},w=s=>r.user.data.achievements.some(e=>e.id===s.id),$=s=>{if(w(s))return 100;if(s.calculateProgress)return s.calculateProgress(r.user.data);const e=r.user.data.level,l=s.level_requirement;return e>=l?100:Math.min(e/l*100,99)},V=s=>{d.value=s},U=()=>{d.value=null},h=C(null);$t(()=>{const s=r.user.data.username,l=`${window.location.href}/${s}`;window.history.pushState({path:l},"",l),s&&(h.value=`${window.location.origin}/profile/achievements/${s}`),r.userCourseProgress&&r.userCourseProgress.courses&&r.userCourseProgress.courses.forEach(p=>{f.value[p.id]=!1})});const N=s=>{const e=["bg-[#328AF1]/10","bg-[#8B60ED]/10","bg-[#F19A1A]/10","bg-[#1AAB8B]/10"];return e[s%e.length]},W=s=>{const e=3+Math.floor(Math.random()*6),l=Math.floor(Math.random()*100),p=Math.floor(Math.random()*100),c=Math.floor(Math.random()*5),o=20+Math.floor(Math.random()*20);return{width:`${e}px`,height:`${e}px`,left:`${l}%`,top:`${p}%`,animationDelay:`${c}s`,animationDuration:`${o}s`,opacity:"0.3"}};return(s,e)=>(u(),g(H,{"background-footer-class":"bg-dark-100","header-background":"bg-dark-100"},{default:Tt(()=>{var l,p,c;return[t("div",Lt,[t("div",zt,[e[1]||(e[1]=t("div",{class:"absolute top-0 left-0 right-0 h-64 bg-gradient-to-b from-blue-900/40 to-transparent"},null,-1)),e[2]||(e[2]=t("div",{class:"absolute bottom-0 left-0 right-0 h-64 bg-gradient-to-t from-purple-900/40 to-transparent"},null,-1)),e[3]||(e[3]=t("div",{class:"absolute inset-0 opacity-10 fantasy-grid"},null,-1)),t("div",Dt,[(u(),b(P,null,B(15,o=>t("div",{key:o,class:St(["particle absolute",[N(o),o%3===0?"rpg-particle-star":"rounded-full"]]),style:D(W(o))},null,6)),64))]),e[4]||(e[4]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-900/10 via-purple-900/5 to-blue-900/10 magical-aura"},null,-1))]),i(Q,{user:r.user,class:"rpg-character-profile"},null,8,["user"]),t("div",qt,[t("div",Et,[e[17]||(e[17]=t("div",{class:"absolute top-0 left-0 w-10 h-10 border-t-2 border-l-2 border-[#328AF1]/40 opacity-60 corner-decoration"},null,-1)),e[18]||(e[18]=t("div",{class:"absolute top-0 right-0 w-10 h-10 border-t-2 border-r-2 border-[#328AF1]/40 opacity-60 corner-decoration"},null,-1)),e[19]||(e[19]=t("div",{class:"absolute bottom-0 left-0 w-10 h-10 border-b-2 border-l-2 border-[#328AF1]/40 opacity-60 corner-decoration"},null,-1)),e[20]||(e[20]=t("div",{class:"absolute bottom-0 right-0 w-10 h-10 border-b-2 border-r-2 border-[#328AF1]/40 opacity-60 corner-decoration"},null,-1)),e[21]||(e[21]=t("div",{class:"absolute inset-0 opacity-5"},[t("div",{class:"w-full h-full rpg-grid-pattern"})],-1)),e[22]||(e[22]=t("h2",{class:"text-4xl font-extralight tracking-tight text-center mb-8 text-white/90 relative"},[t("span",{class:"rpg-title-prefix"},"Character"),m(),t("span",{class:"font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600 rpg-title-highlight"},"Statistics"),t("div",{class:"absolute left-1/2 -bottom-2 transform -translate-x-1/2 h-1 w-40 bg-gradient-to-r from-transparent via-blue-400 to-transparent rpg-title-underline"})],-1)),(c=(p=(l=r.user)==null?void 0:l.data)==null?void 0:p.subscription)!=null&&c.status?(u(),b("div",Vt,[t("div",Ut,[t("h3",Nt,[t("div",Wt,[i(a(L),{class:"w-5 h-5 text-blue-400"})]),e[5]||(e[5]=t("span",{class:"rpg-stat-title"},"Character Profile",-1))]),t("div",Ot,[t("div",Qt,[e[6]||(e[6]=t("span",null,"Joined:",-1)),t("span",Rt,n(r.user.data.create_at_diff),1)]),t("div",Gt,[e[7]||(e[7]=t("span",null,"Contact:",-1)),t("span",Xt,n(r.user.data.email),1)]),t("div",Jt,[e[8]||(e[8]=t("span",null,"Quest Completion:",-1)),t("div",Yt,[i(a(k),{class:"w-4 h-4 text-yellow-400"}),t("span",Zt,n(r.user.data.achievement_count),1)])])])]),t("div",Ht,[t("div",Kt,[t("h3",It,[t("div",te,[i(a(T),{class:"w-5 h-5 text-emerald-400"})]),e[9]||(e[9]=t("span",{class:"rpg-stat-title"},"Experience & Level",-1))]),t("div",ee,[i(a(A),{class:"w-4 h-4 text-yellow-400"}),t("span",se,"Level "+n(r.user.data.level),1)])]),t("div",re,[t("div",null,[t("div",oe,[e[10]||(e[10]=t("span",null,"Level Progress",-1)),t("span",le,n(r.user.data.xp)+" / "+n(r.user.data.next_level_xp)+" XP",1)]),t("div",ae,[t("div",{class:"rpg-xp-bar bg-gradient-to-r from-emerald-500 to-blue-500 h-full rounded-full transition-all duration-500 relative",style:D({width:`${r.user.data.xp/r.user.data.next_level_xp*100}%`})},e[11]||(e[11]=[t("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent rpg-xp-shine"},null,-1)]),4)]),e[12]||(e[12]=t("div",{class:"flex justify-between text-xs text-white/50 mt-1"},[t("span",null,"Current XP"),t("span",null,"Next Level")],-1))]),t("div",null,[t("div",ie,[e[13]||(e[13]=t("span",null,"Total Experience",-1)),t("span",ne,n(r.user.data.total_xp)+" XP",1)]),e[14]||(e[14]=t("div",{class:"bg-dark-700 rounded-full h-2 overflow-hidden p-0.5"},[t("div",{class:"bg-gradient-to-r from-blue-500 to-purple-500 h-full rounded-full w-full rpg-xp-total"})],-1))]),t("div",de,[t("div",pe,[t("div",ue,[i(a(S),{class:"w-3 h-3 text-blue-400"}),e[15]||(e[15]=t("span",null,"Server Rank",-1))]),t("div",me,"#"+n(r.user.data.rank.rank||"—"),1)]),t("div",ce,[t("div",be,[i(a(kt),{class:"w-3 h-3 text-purple-400"}),e[16]||(e[16]=t("span",null,"Mastery Score",-1))]),t("div",ge,n(r.user.data.score||"0"),1)])])])])])):M("",!0)])]),t("div",fe,[t("div",xe,[e[28]||(e[28]=t("div",{class:"absolute top-0 left-0 w-10 h-10 border-t-2 border-l-2 border-[#1AAB8B]/40 opacity-60 corner-decoration"},null,-1)),e[29]||(e[29]=t("div",{class:"absolute top-0 right-0 w-10 h-10 border-t-2 border-r-2 border-[#1AAB8B]/40 opacity-60 corner-decoration"},null,-1)),e[30]||(e[30]=t("div",{class:"absolute bottom-0 left-0 w-10 h-10 border-b-2 border-l-2 border-[#1AAB8B]/40 opacity-60 corner-decoration"},null,-1)),e[31]||(e[31]=t("div",{class:"absolute bottom-0 right-0 w-10 h-10 border-b-2 border-r-2 border-[#1AAB8B]/40 opacity-60 corner-decoration"},null,-1)),t("div",he,[e[25]||(e[25]=t("h2",{class:"text-4xl font-extralight tracking-tight text-white/90 relative inline-block"},[t("span",{class:"rpg-title-prefix"},"Active"),m(),t("span",{class:"font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-600 rpg-title-highlight"},"Quests"),t("div",{class:"absolute left-0 right-0 -bottom-2 h-1 bg-gradient-to-r from-transparent via-emerald-400 to-transparent rpg-title-underline"})],-1)),t("div",ve,[t("div",we,[i(a(z),{class:"w-4 h-4 text-emerald-400"}),t("span",ye,[t("span",_e,n(x.value.completedCourses),1),e[23]||(e[23]=m(" Completed Journeys "))])]),t("div",ke,[i(a(L),{class:"w-4 h-4 text-teal-400"}),t("span",Ae,[t("span",Ce,n(E(x.value.totalWatchTime)),1),e[24]||(e[24]=m(" Training Time "))])])])]),x.value.courses.length>0?(u(),b("div",Be,[t("div",Pe,[(u(!0),b(P,null,B(x.value.courses,o=>(u(),g(J,{key:o.id,course:o,showLessons:f.value[o.id],onToggleLessons:y=>q(o.id)},null,8,["course","showLessons","onToggleLessons"]))),128))])])):(u(),b("div",Me,[t("div",Fe,[i(a(j),{class:"w-8 h-8 text-[#1AAB8B]"})]),e[26]||(e[26]=t("h3",{class:"text-xl font-medium text-white/80 mb-2"},"No Active Quests",-1)),e[27]||(e[27]=t("p",{class:"text-white/50 max-w-md mx-auto"},"This adventurer has not yet embarked on any training journeys or their quest log is private.",-1))]))])]),t("div",$e,[t("div",Te,[e[35]||(e[35]=t("div",{class:"absolute top-0 left-0 w-10 h-10 border-t-2 border-l-2 border-[#F19A1A]/40 opacity-60 corner-decoration"},null,-1)),e[36]||(e[36]=t("div",{class:"absolute top-0 right-0 w-10 h-10 border-t-2 border-r-2 border-[#F19A1A]/40 opacity-60 corner-decoration"},null,-1)),e[37]||(e[37]=t("div",{class:"absolute bottom-0 left-0 w-10 h-10 border-b-2 border-l-2 border-[#F19A1A]/40 opacity-60 corner-decoration"},null,-1)),e[38]||(e[38]=t("div",{class:"absolute bottom-0 right-0 w-10 h-10 border-b-2 border-r-2 border-[#F19A1A]/40 opacity-60 corner-decoration"},null,-1)),t("div",Se,[e[34]||(e[34]=t("h2",{class:"text-4xl font-extralight tracking-tight text-white/90 relative inline-block"},[t("span",{class:"rpg-title-prefix"},"Epic"),m(),t("span",{class:"font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-amber-600 rpg-title-highlight"},"Achievements"),t("div",{class:"absolute left-0 right-0 -bottom-2 h-1 bg-gradient-to-r from-transparent via-yellow-400 to-transparent rpg-title-underline"})],-1)),t("div",je,[t("div",Le,[i(a(k),{class:"w-4 h-4 text-yellow-400"}),t("span",ze,[t("span",De,n(r.user.data.achievement_count),1),e[32]||(e[32]=m(" Quests Completed "))])]),t("div",qe,[i(a(A),{class:"w-4 h-4 text-blue-400"}),t("span",Ee,[t("span",Ve,n(v.achievements.length),1),e[33]||(e[33]=m(" Total Challenges "))])])])]),t("div",Ue,[(u(!0),b(P,null,B(v.achievements,o=>(u(),g(G,{key:o.id,title:o.name,description:o.description,icon:F[o.icon]||a(k),progress:$(o),unlocked:w(o),class:"rpg-achievement-card",onClick:y=>V(o)},null,8,["title","description","icon","progress","unlocked","onClick"]))),128))])])]),d.value?(u(),g(X,{key:0,modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=o=>d.value=o),title:d.value.name,description:d.value.description,icon:F[d.value.icon]||a(Y),progress:$(d.value),unlocked:w(d.value),"level-required":d.value.level_requirement,reward:d.value.reward,class:"rpg-quest-modal",onClose:U},null,8,["modelValue","title","description","icon","progress","unlocked","level-required","reward"])):M("",!0),t("div",Ne,[t("a",{href:h.value,target:"_blank",class:"text-sm text-white/70 hover:text-white transition-colors inline-flex items-center gap-2"},[i(a(Z),{class:"w-4 h-4 text-[#8B60ED]"}),e[39]||(e[39]=m(" Share your accomplishments with your guild members "))],8,We),h.value?(u(),g(R,{key:0,"share-url":h.value,title:"Share Your Hero Profile","button-text":"Share Your Saga",class:"rpg-share-modal mt-3"},null,8,["share-url"])):M("",!0)])])]}),_:1}))}}),ar=jt(Oe,[["__scopeId","data-v-af61d144"]]);export{ar as default};
