import{v as N,bZ as R,a as w,m as q,o as i,g as m,u as b,x as U,f as G,d as t,D as P,E as A,i as f,F as E,H as I,y as $,t as M,s as B,k as S,G as D,l as Y,q as v,b as T,e as h,w as C,$ as z,X as H}from"./preset-b90b9b08.js";import{_ as J}from"./App.vue_vue_type_script_setup_true_lang-e362fd06.js";import{P as W}from"./PostCard-b113edfa.js";import{_ as X}from"./Pagination-81acb172.js";import{a as V}from"./axios-0c773085.js";import"./CommentsSingle.vue_vue_type_style_index_0_scoped_93efcfb2_lang-342805fa.js";import"./FlashMessage-93f4c79f.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./x-b0b4ae59.js";import"./createLucideIcon-c54a04d6.js";import"./triangle-alert-9a3c06c5.js";import"./clock-83e0ad33.js";import"./shield-check-f2627ceb.js";import"./index.esm-b2918197.js";import"./ReusableModal-78d0db42.js";import"./transition-c810ac22.js";import"./focus-management-bfa3f621.js";import"./keyboard-8b566b5e.js";import"./hidden-a6a905be.js";import"./open-closed-def677aa.js";import"./SearchSidebar-1f02728d.js";import"./dynamicIcon.vue_vue_type_script_setup_true_lang-4bfb852c.js";import"./user-5bde1ce3.js";import"./send-01c9abcb.js";import"./Frontend_js-f86bbad8.js";import"./mail-6312a372.js";import"./info-b159d59c.js";import"./gamepad-2-08d13ba1.js";import"./house-95b711b1.js";import"./book-open-45bfbf31.js";import"./crown-9f36e625.js";import"./lock-e84a1f43.js";import"./arrow-left-44d4d084.js";import"./shield-179861bc.js";import"./key-6e09cf1f.js";import"./Money-0f722979.js";import"./download-4347e100.js";import"./message-circle-78d7a2a9.js";import"./SeoManager-c70493bc.js";import"./dark-7de1eebc.js";import"./database-27e0aefd.js";import"./chevron-left-b9c7b72b.js";import"./chevron-right-9297b3c8.js";const Z={class:"fixed bottom-0 left-1/2 transform -translate-x-1/2 p-4 border border-gray-700 rounded-lg bg-dark-blue-100 text-white w-2/4"},K=["value"],Q=N({__name:"Post",props:{commentClass:{type:String,default:"w-full rounded-lg"},categories:{type:Array,default:()=>[]},topitEdit:{type:Object,default:()=>{}}},emits:["fresh-comments","close"],setup(n,{emit:d}){const l=R(),a=n;let u=w(""),e=w(""),s=w("");const p=d,g=async()=>{var o,r,c,k;const x={title:e.value,content:u.value,category:s.value};if(e.value===""||u.value===""){l.error("All fields are required");return}try{let y=route("forum.thread.create");(o=a.topitEdit)!=null&&o.id&&(y=route("forum.thread.edit",(r=a.topitEdit)==null?void 0:r.id));const L=await V.post(y,x);l.success(L.data.message),u.value="",e.value="",s.value="",p("fresh-comments"),p("close")}catch(y){(k=(c=y.response)==null?void 0:c.data)!=null&&k.errors&&Object.values(y.response.data.errors).forEach(L=>{l.error(L[0])})}},j=async()=>{var x,o,r;try{const c=await V.delete(route("forum.thread.edit",(x=a.topitEdit)==null?void 0:x.id));l.success(c.data.message),D.visit(route("home"),{preserveScroll:"errors"})}catch(c){console.log(c),(r=(o=c.response)==null?void 0:o.data)!=null&&r.errors&&Object.values(c.response.data.errors).forEach(k=>{l.error(k[0])})}},O=()=>{p("close")};return q(()=>{a.topitEdit&&(u.value=a.topitEdit.content,e.value=a.topitEdit.title)}),(x,o)=>(i(),m("div",Z,[b(U)().props.isUserAuth?(i(),m("form",{key:0,onSubmit:G(g,["prevent"])},[t("div",{class:S(a.commentClass)},[o[7]||(o[7]=t("label",{for:"commentTitle",class:"text-xl font-bold"},"Add a Title",-1)),P(t("input",{id:"commentTitle","onUpdate:modelValue":o[0]||(o[0]=r=>f(e)?e.value=r:e=r),type:"text",placeholder:"Enter a title",class:"input input-bordered w-full bg-gray-800 text-white mt-2"},null,512),[[A,b(e)]]),a.topitEdit?B("",!0):(i(),m(E,{key:0},[o[4]||(o[4]=t("label",{for:"channel",class:"text-xl font-bold mb-2"},"Select Topic",-1)),P(t("select",{id:"channel","onUpdate:modelValue":o[1]||(o[1]=r=>f(s)?s.value=r:s=r),class:"select select-bordered w-full bg-gray-800 text-white mt-2"},[o[3]||(o[3]=t("option",{value:""},"Select Channel",-1)),(i(!0),m(E,null,$(n.categories,r=>(i(),m("option",{key:r.id,value:r.slug},M(r.name),9,K))),128))],512),[[I,b(s)]])],64)),o[8]||(o[8]=t("label",{for:"comment",class:"text-xl font-bold mb-2"},"Your Comment",-1)),P(t("textarea",{id:"comment","onUpdate:modelValue":o[2]||(o[2]=r=>f(u)?u.value=r:u=r),placeholder:"Write your comment here...",class:"textarea textarea-bordered w-full h-24 bg-gray-800 text-white mt-2"},null,512),[[A,b(u)]]),t("div",{class:"flex justify-between"},[o[6]||(o[6]=t("h5",{class:"text-sm"},"Please follow the guidelines",-1)),t("div",{class:"mt-2 flex justify-end gap-3"},[t("button",{type:"button",onClick:O,class:"btn btn-primary mt-2"}," Cancel "),t("button",{type:"button",onClick:j,class:"btn btn-primary mt-2"}," Delete "),o[5]||(o[5]=t("button",{type:"submit",class:"btn btn-secondary mt-2"}," Submit ",-1))])])],2)],32)):B("",!0)]))}}),_={class:"mt-3 bg-dark-100 rounded-lg"},F={__name:"PostBox",props:{categories:{type:Array,default:()=>[]},postBtnClass:{type:String,default:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold py-2 px-4 rounded-lg mb-6"},topitEdit:{type:Object,default:()=>{}}},emits:["displayLogin"],setup(n,{emit:d}){let l=w(!1);const a=n,u=()=>{setTimeout(()=>{D.reload({only:["blogPost"]})},300)},e=d,s=()=>{if(!U().props.isUserAuth){e("displayLogin",!0);return}l.value=!l.value};return(p,g)=>(i(),m("section",_,[t("button",{class:S(a.postBtnClass),onClick:s},[Y(p.$slots,"default",{},()=>[g[1]||(g[1]=v("New Dicussion"))])],2),(i(),T(H,{to:"body"},[h(z,{name:"fade"},{default:C(()=>[b(l)?(i(),T(Q,{key:0,onFreshComments:u,onClose:g[0]||(g[0]=j=>f(l)?l.value=!1:l=!1),categories:a.categories,topitEdit:a.topitEdit},null,8,["categories","topitEdit"])):B("",!0)]),_:1})]))]))}},tt={class:"bg-dark-200 py-8 px-4 mx-auto lg:py-16 lg:px-6"},et={class:"flex justify-between items-center mb-8"},ot={class:"flex items-center gap-4"},st={class:"flex gap-8"},rt={class:"hidden lg:block w-1/4 bg-dark-100 p-4 rounded-lg"},lt={class:"space-y-4"},at=["onClick"],it={key:0,class:"w-2 h-2 rounded-full bg-gradient-to-r from-red-500 to-blue-600"},nt={key:1,class:"w-2 h-2 rounded-full bg-dark-200"},dt={class:"flex-1"},ut={class:"grid grid-cols-1 gap-4"},te=N({__name:"Index",props:{forumPosts:{type:Object,default:()=>({})},categories:{type:Array,default:()=>[]},topic:{type:String,default:"all"}},setup(n){let d=w(!1);const l=n,a=async u=>{u&&await D.get(route("forum.index",{topic:u}),{preserveState:!0,preserveScroll:!0,only:["forumPosts"]})};return(u,e)=>(i(),T(J,{backgroundFooterClass:"bg-dark-100",headerBackground:"bg-dark-100",displayLogin:b(d),onCloseLogin:e[3]||(e[3]=s=>f(d)?d.value=!1:d=!1)},{default:C(()=>[t("section",tt,[t("div",et,[e[6]||(e[6]=t("h2",{class:"text-white text-4xl lg:text-6xl font-extrabold drop-shadow-lg"}," Forum ",-1)),t("div",ot,[h(F,{categories:n.categories,"post-btn-class":"btn btn-primary",onDisplayLogin:e[0]||(e[0]=s=>f(d)?d.value=!0:d=!0)},{default:C(()=>e[4]||(e[4]=[v(" New Discussion ")])),_:1},8,["categories"]),e[5]||(e[5]=t("select",{class:"select select-bordered bg-dark-100 text-white"},[t("option",null,"Latest"),t("option",null,"Popular")],-1))])]),t("div",st,[t("aside",rt,[h(F,{modelId:2,modelClass:"blog",class:"mt-8 mb-4 p-4 bg-dark-300 rounded-lg shadow-md",categories:n.categories,onDisplayLogin:e[1]||(e[1]=s=>f(d)?d.value=!0:d=!0)},{default:C(()=>e[7]||(e[7]=[v(" Discuss this news ")])),_:1},8,["categories"]),t("nav",null,[t("ul",lt,[t("li",{class:S(["flex items-center gap-2 text-sm font-bold rounded-lg p-2 cursor-pointer",{"bg-dark-300 text-white":n.topic==="all","bg-dark-200 text-neutral-400 hover:text-white":n.topic!=="all"}]),onClick:e[2]||(e[2]=s=>a("all"))},e[8]||(e[8]=[t("span",{class:"w-2 h-2 rounded-full bg-gradient-to-r from-blue-500 to-purple-600"},null,-1),v(" All Threads ")]),2),(i(!0),m(E,null,$(n.categories,(s,p)=>(i(),m("li",{key:p,class:S(["flex items-center gap-2 text-sm rounded-lg p-2 cursor-pointer",{"bg-dark-300 text-white":n.topic===s.slug,"bg-dark-200 text-neutral-400 hover:text-white":n.topic!==s.slug}]),onClick:g=>a(s.slug)},[n.topic===s.slug?(i(),m("span",it)):(i(),m("span",nt)),v(" "+M(s.name),1)],10,at))),128))])])]),t("main",dt,[t("div",ut,[(i(!0),m(E,null,$(l.forumPosts.data,(s,p)=>(i(),T(W,{key:p,record:s},null,8,["record"]))),128))]),h(X,{pagination:l.forumPosts.meta},null,8,["pagination"])]),e[9]||(e[9]=t("aside",{class:"hidden lg:block w-1/4 space-y-4"},[t("div",{class:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 rounded-lg text-white"},[t("h3",{class:"text-xl font-bold"},"Level Up Your Programming"),t("p",null,"$25 a month for everything we know about programming!"),t("button",{class:"btn btn-secondary mt-4"},"Join The Dev Realm Today")]),t("div",{class:"bg-dark-100 p-6 rounded-lg"},[t("h3",{class:"text-xl font-bold text-white"},"Let's Build a SaaS in Laravel"),t("p",{class:"text-neutral mt-2"},"Endless tutorials online for how to build a SaaS..."),t("button",{class:"btn btn-primary mt-4"},"Recommended Series")])],-1))])])]),_:1},8,["displayLogin"]))}});export{te as default};
