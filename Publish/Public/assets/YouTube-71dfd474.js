import{y as $e,bP as Ue,a as R,u as N,Q as Z,o as U,g as z,d as F,e as ee,i as Y,k as pe,f as rt,x as H,s as ne,t as oe,F as Ie,z as nt,w as se,bI as ot,by as at,A as ze,p as Ye,aM as Be,bO as it}from"./preset-ccc94f51.js";import{a as le,_ as Oe}from"./axios-6a200daf.js";import{_ as ut}from"./Editor.vue_vue_type_script_setup_true_lang-2a1ce4ae.js";import{_ as st}from"./Input.vue_vue_type_script_setup_true_lang-5abb42d7.js";const lt={class:"px-4 py-2"},ct=F("label",{for:"comment",class:"text-xl font-bold"},"Your comment",-1),ft=F("div",{class:"flex items-center justify-end px-3 py-2"},[F("button",{type:"submit",class:"btn btn-success"}," Post comment ")],-1),dt=$e({__name:"Comment",props:{modelClass:{type:String,default:""},modelId:{type:Number,default:0},keyEditor:{type:String,default:null},commentClass:{type:String,default:"w-full mb-4 fancy-border rounded-lg bg-secondary"}},emits:["fresh-comments"],setup(n,{emit:t}){const e=Ue(),r=n;let a=R(""),o=R("");const u=t,l=async()=>{const c={title:o.value,comment:a.value,model:r.modelClass,model_id:r.modelId};await le.post(route("comment.add"),c).then(function(s){e.success(s.data.message)}),a.value="",o.value="",u("fresh-comments")};return(c,s)=>N(Z)().props.isUserAuth?(U(),z("form",{key:0,class:"pt-10",onSubmit:rt(l,["prevent"])},[F("div",{class:pe(r.commentClass)},[ee(N(st),{id:"comment_title",modelValue:N(o),"onUpdate:modelValue":s[0]||(s[0]=i=>Y(o)?o.value=i:o=i),label:"Comment Title",required:"true",type:"text",name:"comment_title",placeholder:"Title",class:"mx-5 mb-5"},null,8,["modelValue"]),F("div",lt,[ct,ee(ut,{modelValue:N(a),"onUpdate:modelValue":s[1]||(s[1]=i=>Y(a)?a.value=i:a=i),apiKey:n.keyEditor},null,8,["modelValue","apiKey"])]),ft],2)],32)):H("",!0)}}),ht={class:"mt-5 bg-master-900 border border-accent rounded-lg p-5"},mt={class:"flex items-center mb-4 space-x-4"},pt=["src"],vt=["src"],gt={class:"space-y-1 font-medium text-white"},yt={datetime:"2014-08-16 19:00",class:"block text-sm text-neutral"},wt={class:"ml-2 text-lg font-semibold text-neutral"},bt={class:"mb-5 text-sm text-neutral flex justify-between"},kt={key:0,class:"flex justify-between"},Ct={class:"dropdown dropdown-left"},Pt=F("label",{tabindex:"0",class:"btn btn-sm btn-primary m-1"},[F("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})])],-1),Et={tabindex:"0",class:"dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52 gap-2"},_t=F("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})],-1),Tt=F("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})],-1),Ft=F("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),St=["innerHTML"],Mt={class:"flex justify-between mt-5"},xt=F("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[F("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1),It={class:"mt-1 text-md text-neutral font-bold"},Ot={key:0,class:"master-shadow border rounded-lg mt-4"},At=F("h3",{id:"modal-title",class:"text-lg leading-6 font-medium text-gray-900"}," A you sure you want to delete this comment? ",-1),Nt=F("div",{class:"mt-2"},[F("p",{class:"text-sm text-gray-500"}," Are you sure you want to delete this comment? This action cannot be undone. ")],-1),Rt=F("h3",{id:"modal-title",class:"text-lg leading-6 font-medium text-gray-900"}," A you sure you want to report this comment? ",-1),Lt={class:"mt-2 space-y-2 bg-base-200 rounded-lg p-5"},Vt=F("p",{class:"text-sm text-neutral font-bold mb-5"}," Please describe the reason why you want to report this comment. ",-1),jt=$e({__name:"CommentsSingle",props:{comment:{type:Object,default:()=>{}},keyEditor:{type:String,default:null}},emits:["fresh-comments"],setup(n,{emit:t}){const e=Ue(),r=n,a=t;let o=R(!1),u=R("");const l=async()=>{o.value=!1,await le.post(route("comment.report",r.comment.id),{reason:u.value}).then(function(g){e.success(g.data.message)}),f()};let c=R(!1);const s=async()=>{c.value=!1,await le.delete(route("comment.delete",r.comment.id)).then(function(g){e.success(g.data.message)}),f()};let i=R(!1);const f=async()=>{i.value=!1,a("fresh-comments")},d=async()=>{await le.post(route("mark.helpful",r.comment.id)).then(function(g){e.success(g.data.message)}),f()};return(g,y)=>{var _,k,x,p,v,b,E,T;return U(),z(Ie,null,[F("article",ht,[F("div",mt,[(k=(_=r.comment)==null?void 0:_.user)!=null&&k.avatar?(U(),z("img",{key:0,class:"w-10 h-10 rounded-full",src:r.comment.user.avatar,alt:"User Avatar"},null,8,pt)):H("",!0),(p=(x=r.comment)==null?void 0:x.admin)!=null&&p.avatar?(U(),z("img",{key:1,class:"w-10 h-10 rounded-full",src:r.comment.admin.avatar,alt:"Admin Avatar"},null,8,vt)):H("",!0),F("div",gt,[F("p",null,[ne(oe(r.comment.user.full_name)+" ",1),F("time",yt,"Joined "+oe(r.comment.user.create_at_diff?r.comment.user.create_at_diff:r.comment.admin.create_at_diff),1)])])]),F("h3",wt,oe(r.comment.title),1),F("footer",bt,[F("p",null,"Posted "+oe(r.comment.created_at_diff),1),N(Z)().props.isUserAuth?(U(),z("div",kt,[F("div",Ct,[Pt,F("ul",Et,[F("li",null,[F("a",{class:"btn btn-warning hover:btn-accent text-white hover:text-black",onClick:y[0]||(y[0]=S=>N(o)!=!0?Y(o)?o.value=!0:o=!0:Y(o)?o.value=!1:o=!1)},[ne(" Report abuse "),_t])]),F("li",null,[F("a",{class:"btn btn-info hover:btn-accent text-white hover:text-black",onClick:y[1]||(y[1]=S=>N(i)!=!0?Y(i)?i.value=!0:i=!0:Y(i)?i.value=!1:i=!1)},[ne(" Reply "),Tt])]),F("li",null,[((b=(v=N(Z)().props.authUserInfo)==null?void 0:v.data)==null?void 0:b.id)===((T=(E=r.comment)==null?void 0:E.user)==null?void 0:T.id)||N(Z)().props.guard==="admin"?(U(),z("a",{key:0,class:"btn btn-error hover:btn-accent text-white hover:text-black",onClick:y[2]||(y[2]=S=>Y(c)?c.value=!0:c=!0)},[ne("Delete "),Ft])):H("",!0)])])])])):H("",!0)]),F("div",{class:"text-white",innerHTML:r.comment.body},null,8,St),F("aside",Mt,[N(Z)().props.isUserAuth&&N(Z)().props.guard==="web"?(U(),z("a",{key:0,class:pe(["btn btn-sm btn-primary hover:btn-accent text-white hover:text-black",r.comment.user_helpful_Comments?"btn-success":"btn-error"]),onClick:d},[ne(" Helpful "),xt],2)):H("",!0),F("p",It,oe(r.comment.is_helpful)+" people found this helpful ",1)]),N(i)?(U(),z("div",Ot,[ee(dt,{"model-class":"comment","comment-class":"w-full","model-id":r.comment.id,"key-editor":r.keyEditor,onFreshComments:f},null,8,["model-id","key-editor"])])):H("",!0)]),(U(!0),z(Ie,null,nt(r.comment.replies,(S,C)=>(U(),z("div",{key:C,class:"ml-10 mt-4"},[ee(jt,{comment:S,"key-editor":r.keyEditor,onFreshComments:f},null,8,["comment","key-editor"])]))),128)),ee(N(Oe),{show:N(c),onClose:y[3]||(y[3]=S=>Y(c)?c.value=!1:c=!1),onConfirm:s},{title:se(()=>[At]),body:se(()=>[Nt]),_:1},8,["show"]),ee(N(Oe),{show:N(o),onClose:y[5]||(y[5]=S=>Y(o)?o.value=!1:o=!1),onConfirm:l},{title:se(()=>[Rt]),body:se(()=>[F("div",Lt,[Vt,ot(F("textarea",{"onUpdate:modelValue":y[4]||(y[4]=S=>Y(u)?u.value=S:u=S),placeholder:"Reason",class:"textarea textarea-bordered textarea-lg w-full"},null,512),[[at,N(u)]])])]),_:1},8,["show"])],64)}}});/*! @vimeo/player v2.22.0 | (c) 2024 Vimeo | MIT License | https://github.com/vimeo/player.js */function Ae(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,r)}return e}function Ne(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Ae(Object(e),!0).forEach(function(r){ce(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Ae(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function L(){L=function(){return n};var n={},t=Object.prototype,e=t.hasOwnProperty,r=Object.defineProperty||function(m,h,w){m[h]=w.value},a=typeof Symbol=="function"?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(m,h,w){return Object.defineProperty(m,h,{value:w,enumerable:!0,configurable:!0,writable:!0}),m[h]}try{c({},"")}catch{c=function(h,w,M){return h[w]=M}}function s(m,h,w,M){var P=h&&h.prototype instanceof d?h:d,I=Object.create(P.prototype),O=new A(M||[]);return r(I,"_invoke",{value:E(m,w,O)}),I}function i(m,h,w){try{return{type:"normal",arg:m.call(h,w)}}catch(M){return{type:"throw",arg:M}}}n.wrap=s;var f={};function d(){}function g(){}function y(){}var _={};c(_,o,function(){return this});var k=Object.getPrototypeOf,x=k&&k(k(q([])));x&&x!==t&&e.call(x,o)&&(_=x);var p=y.prototype=d.prototype=Object.create(_);function v(m){["next","throw","return"].forEach(function(h){c(m,h,function(w){return this._invoke(h,w)})})}function b(m,h){function w(P,I,O,j){var D=i(m[P],m,I);if(D.type!=="throw"){var K=D.arg,re=K.value;return re&&typeof re=="object"&&e.call(re,"__await")?h.resolve(re.__await).then(function(W){w("next",W,O,j)},function(W){w("throw",W,O,j)}):h.resolve(re).then(function(W){K.value=W,O(K)},function(W){return w("throw",W,O,j)})}j(D.arg)}var M;r(this,"_invoke",{value:function(P,I){function O(){return new h(function(j,D){w(P,I,j,D)})}return M=M?M.then(O,O):O()}})}function E(m,h,w){var M="suspendedStart";return function(P,I){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(P==="throw")throw I;return ge()}for(w.method=P,w.arg=I;;){var O=w.delegate;if(O){var j=T(O,w);if(j){if(j===f)continue;return j}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(M==="suspendedStart")throw M="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);M="executing";var D=i(m,h,w);if(D.type==="normal"){if(M=w.done?"completed":"suspendedYield",D.arg===f)continue;return{value:D.arg,done:w.done}}D.type==="throw"&&(M="completed",w.method="throw",w.arg=D.arg)}}}function T(m,h){var w=h.method,M=m.iterator[w];if(M===void 0)return h.delegate=null,w==="throw"&&m.iterator.return&&(h.method="return",h.arg=void 0,T(m,h),h.method==="throw")||w!=="return"&&(h.method="throw",h.arg=new TypeError("The iterator does not provide a '"+w+"' method")),f;var P=i(M,m.iterator,h.arg);if(P.type==="throw")return h.method="throw",h.arg=P.arg,h.delegate=null,f;var I=P.arg;return I?I.done?(h[m.resultName]=I.value,h.next=m.nextLoc,h.method!=="return"&&(h.method="next",h.arg=void 0),h.delegate=null,f):I:(h.method="throw",h.arg=new TypeError("iterator result is not an object"),h.delegate=null,f)}function S(m){var h={tryLoc:m[0]};1 in m&&(h.catchLoc=m[1]),2 in m&&(h.finallyLoc=m[2],h.afterLoc=m[3]),this.tryEntries.push(h)}function C(m){var h=m.completion||{};h.type="normal",delete h.arg,m.completion=h}function A(m){this.tryEntries=[{tryLoc:"root"}],m.forEach(S,this),this.reset(!0)}function q(m){if(m){var h=m[o];if(h)return h.call(m);if(typeof m.next=="function")return m;if(!isNaN(m.length)){var w=-1,M=function P(){for(;++w<m.length;)if(e.call(m,w))return P.value=m[w],P.done=!1,P;return P.value=void 0,P.done=!0,P};return M.next=M}}return{next:ge}}function ge(){return{value:void 0,done:!0}}return g.prototype=y,r(p,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:g,configurable:!0}),g.displayName=c(y,l,"GeneratorFunction"),n.isGeneratorFunction=function(m){var h=typeof m=="function"&&m.constructor;return!!h&&(h===g||(h.displayName||h.name)==="GeneratorFunction")},n.mark=function(m){return Object.setPrototypeOf?Object.setPrototypeOf(m,y):(m.__proto__=y,c(m,l,"GeneratorFunction")),m.prototype=Object.create(p),m},n.awrap=function(m){return{__await:m}},v(b.prototype),c(b.prototype,u,function(){return this}),n.AsyncIterator=b,n.async=function(m,h,w,M,P){P===void 0&&(P=Promise);var I=new b(s(m,h,w,M),P);return n.isGeneratorFunction(h)?I:I.next().then(function(O){return O.done?O.value:I.next()})},v(p),c(p,l,"Generator"),c(p,o,function(){return this}),c(p,"toString",function(){return"[object Generator]"}),n.keys=function(m){var h=Object(m),w=[];for(var M in h)w.push(M);return w.reverse(),function P(){for(;w.length;){var I=w.pop();if(I in h)return P.value=I,P.done=!1,P}return P.done=!0,P}},n.values=q,A.prototype={constructor:A,reset:function(m){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!m)for(var h in this)h.charAt(0)==="t"&&e.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},stop:function(){this.done=!0;var m=this.tryEntries[0].completion;if(m.type==="throw")throw m.arg;return this.rval},dispatchException:function(m){if(this.done)throw m;var h=this;function w(D,K){return I.type="throw",I.arg=m,h.next=D,K&&(h.method="next",h.arg=void 0),!!K}for(var M=this.tryEntries.length-1;M>=0;--M){var P=this.tryEntries[M],I=P.completion;if(P.tryLoc==="root")return w("end");if(P.tryLoc<=this.prev){var O=e.call(P,"catchLoc"),j=e.call(P,"finallyLoc");if(O&&j){if(this.prev<P.catchLoc)return w(P.catchLoc,!0);if(this.prev<P.finallyLoc)return w(P.finallyLoc)}else if(O){if(this.prev<P.catchLoc)return w(P.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return w(P.finallyLoc)}}}},abrupt:function(m,h){for(var w=this.tryEntries.length-1;w>=0;--w){var M=this.tryEntries[w];if(M.tryLoc<=this.prev&&e.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var P=M;break}}P&&(m==="break"||m==="continue")&&P.tryLoc<=h&&h<=P.finallyLoc&&(P=null);var I=P?P.completion:{};return I.type=m,I.arg=h,P?(this.method="next",this.next=P.finallyLoc,f):this.complete(I)},complete:function(m,h){if(m.type==="throw")throw m.arg;return m.type==="break"||m.type==="continue"?this.next=m.arg:m.type==="return"?(this.rval=this.arg=m.arg,this.method="return",this.next="end"):m.type==="normal"&&h&&(this.next=h),f},finish:function(m){for(var h=this.tryEntries.length-1;h>=0;--h){var w=this.tryEntries[h];if(w.finallyLoc===m)return this.complete(w.completion,w.afterLoc),C(w),f}},catch:function(m){for(var h=this.tryEntries.length-1;h>=0;--h){var w=this.tryEntries[h];if(w.tryLoc===m){var M=w.completion;if(M.type==="throw"){var P=M.arg;C(w)}return P}}throw new Error("illegal catch attempt")},delegateYield:function(m,h,w){return this.delegate={iterator:q(m),resultName:h,nextLoc:w},this.method==="next"&&(this.arg=void 0),f}},n}function Re(n,t,e,r,a,o,u){try{var l=n[o](u),c=l.value}catch(s){e(s);return}l.done?t(c):Promise.resolve(c).then(r,a)}function Q(n){return function(){var t=this,e=arguments;return new Promise(function(r,a){var o=n.apply(t,e);function u(c){Re(o,r,a,u,l,"next",c)}function l(c){Re(o,r,a,u,l,"throw",c)}u(void 0)})}}function We(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Qe(r.key),r)}}function Ge(n,t,e){return t&&Le(n.prototype,t),e&&Le(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ce(n,t,e){return t=Qe(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Dt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&ue(n,t)}function ie(n){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(n)}function ue(n,t){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ue(n,t)}function He(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fe(n,t,e){return He()?fe=Reflect.construct.bind():fe=function(a,o,u){var l=[null];l.push.apply(l,o);var c=Function.bind.apply(a,l),s=new c;return u&&ue(s,u.prototype),s},fe.apply(null,arguments)}function qt(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function be(n){var t=typeof Map=="function"?new Map:void 0;return be=function(r){if(r===null||!qt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,a)}function a(){return fe(r,arguments,ie(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),ue(a,r)},be(n)}function de(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $t(n,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return de(n)}function Ut(n){var t=He();return function(){var r=ie(n),a;if(t){var o=ie(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return $t(this,a)}}function zt(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Qe(n){var t=zt(n,"string");return typeof t=="symbol"?t:String(t)}var Je=typeof global<"u"&&{}.toString.call(global)==="[object global]";function Ve(n,t){return n.indexOf(t.toLowerCase())===0?n:"".concat(t.toLowerCase()).concat(n.substr(0,1).toUpperCase()).concat(n.substr(1))}function Yt(n){return!!(n&&n.nodeType===1&&"nodeName"in n&&n.ownerDocument&&n.ownerDocument.defaultView)}function Bt(n){return!isNaN(parseFloat(n))&&isFinite(n)&&Math.floor(n)==n}function J(n){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(n)}function Ke(n){var t=/^https:\/\/player\.vimeo\.com\/video\/\d+/;return t.test(n)}function Xe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=n.id,e=n.url,r=t||e;if(!r)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(Bt(r))return"https://vimeo.com/".concat(r);if(J(r))return r.replace("http:","https:");throw t?new TypeError("“".concat(t,"” is not a valid video id.")):new TypeError("“".concat(r,"” is not a vimeo.com url."))}var je=function(t,e,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"addEventListener",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"removeEventListener",u=typeof e=="string"?[e]:e;return u.forEach(function(l){t[a](l,r)}),{cancel:function(){return u.forEach(function(c){return t[o](c,r)})}}},Wt=typeof Array.prototype.indexOf<"u",Gt=typeof window<"u"&&typeof window.postMessage<"u";if(!Je&&(!Wt||!Gt))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ht(n,t){return t={exports:{}},n(t,t.exports),t.exports}/*!
 * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */(function(n){if(n.WeakMap)return;var t=Object.prototype.hasOwnProperty,e=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),r=function(o,u,l){e?Object.defineProperty(o,u,{configurable:!0,writable:!0,value:l}):o[u]=l};n.WeakMap=function(){function o(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(r(this,"_id",l("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}r(o.prototype,"delete",function(s){if(u(this,"delete"),!a(s))return!1;var i=s[this._id];return i&&i[0]===s?(delete s[this._id],!0):!1}),r(o.prototype,"get",function(s){if(u(this,"get"),!!a(s)){var i=s[this._id];if(i&&i[0]===s)return i[1]}}),r(o.prototype,"has",function(s){if(u(this,"has"),!a(s))return!1;var i=s[this._id];return!!(i&&i[0]===s)}),r(o.prototype,"set",function(s,i){if(u(this,"set"),!a(s))throw new TypeError("Invalid value used as weak map key");var f=s[this._id];return f&&f[0]===s?(f[1]=i,this):(r(s,this._id,[s,i]),this)});function u(s,i){if(!a(s)||!t.call(s,"_id"))throw new TypeError(i+" method called on incompatible receiver "+typeof s)}function l(s){return s+"_"+c()+"."+c()}function c(){return Math.random().toString().substring(2)}return r(o,"_polyfill",!0),o}();function a(o){return Object(o)===o}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:te);var $=Ht(function(n){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(e,r,a){r[e]=r[e]||a(),n.exports&&(n.exports=r[e])})("Promise",te,function(){var e,r,a,o=Object.prototype.toString,u=typeof setImmediate<"u"?function(v){return setImmediate(v)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(v,b,E,T){return Object.defineProperty(v,b,{value:E,writable:!0,configurable:T!==!1})}}catch{e=function(b,E,T){return b[E]=T,b}}a=function(){var v,b,E;function T(S,C){this.fn=S,this.self=C,this.next=void 0}return{add:function(C,A){E=new T(C,A),b?b.next=E:v=E,b=E,E=void 0},drain:function(){var C=v;for(v=b=r=void 0;C;)C.fn.call(C.self),C=C.next}}}();function l(p,v){a.add(p,v),r||(r=u(a.drain))}function c(p){var v,b=typeof p;return p!=null&&(b=="object"||b=="function")&&(v=p.then),typeof v=="function"?v:!1}function s(){for(var p=0;p<this.chain.length;p++)i(this,this.state===1?this.chain[p].success:this.chain[p].failure,this.chain[p]);this.chain.length=0}function i(p,v,b){var E,T;try{v===!1?b.reject(p.msg):(v===!0?E=p.msg:E=v.call(void 0,p.msg),E===b.promise?b.reject(TypeError("Promise-chain cycle")):(T=c(E))?T.call(E,b.resolve,b.reject):b.resolve(E))}catch(S){b.reject(S)}}function f(p){var v,b=this;if(!b.triggered){b.triggered=!0,b.def&&(b=b.def);try{(v=c(p))?l(function(){var E=new y(b);try{v.call(p,function(){f.apply(E,arguments)},function(){d.apply(E,arguments)})}catch(T){d.call(E,T)}}):(b.msg=p,b.state=1,b.chain.length>0&&l(s,b))}catch(E){d.call(new y(b),E)}}}function d(p){var v=this;v.triggered||(v.triggered=!0,v.def&&(v=v.def),v.msg=p,v.state=2,v.chain.length>0&&l(s,v))}function g(p,v,b,E){for(var T=0;T<v.length;T++)(function(C){p.resolve(v[C]).then(function(q){b(C,q)},E)})(T)}function y(p){this.def=p,this.triggered=!1}function _(p){this.promise=p,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function k(p){if(typeof p!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var v=new _(this);this.then=function(E,T){var S={success:typeof E=="function"?E:!0,failure:typeof T=="function"?T:!1};return S.promise=new this.constructor(function(A,q){if(typeof A!="function"||typeof q!="function")throw TypeError("Not a function");S.resolve=A,S.reject=q}),v.chain.push(S),v.state!==0&&l(s,v),S.promise},this.catch=function(E){return this.then(void 0,E)};try{p.call(void 0,function(E){f.call(v,E)},function(E){d.call(v,E)})}catch(b){d.call(v,b)}}var x=e({},"constructor",k,!1);return k.prototype=x,e(x,"__NPO__",0,!1),e(k,"resolve",function(v){var b=this;return v&&typeof v=="object"&&v.__NPO__===1?v:new b(function(T,S){if(typeof T!="function"||typeof S!="function")throw TypeError("Not a function");T(v)})}),e(k,"reject",function(v){return new this(function(E,T){if(typeof E!="function"||typeof T!="function")throw TypeError("Not a function");T(v)})}),e(k,"all",function(v){var b=this;return o.call(v)!="[object Array]"?b.reject(TypeError("Not an array")):v.length===0?b.resolve([]):new b(function(T,S){if(typeof T!="function"||typeof S!="function")throw TypeError("Not a function");var C=v.length,A=Array(C),q=0;g(b,v,function(m,h){A[m]=h,++q===C&&T(A)},S)})}),e(k,"race",function(v){var b=this;return o.call(v)!="[object Array]"?b.reject(TypeError("Not an array")):new b(function(T,S){if(typeof T!="function"||typeof S!="function")throw TypeError("Not a function");g(b,v,function(A,q){T(q)},S)})}),k})}),B=new WeakMap;function ae(n,t,e){var r=B.get(n.element)||{};t in r||(r[t]=[]),r[t].push(e),B.set(n.element,r)}function he(n,t){var e=B.get(n.element)||{};return e[t]||[]}function me(n,t,e){var r=B.get(n.element)||{};if(!r[t])return!0;if(!e)return r[t]=[],B.set(n.element,r),!0;var a=r[t].indexOf(e);return a!==-1&&r[t].splice(a,1),B.set(n.element,r),r[t]&&r[t].length===0}function Qt(n,t){var e=he(n,t);if(e.length<1)return!1;var r=e.shift();return me(n,t,r),r}function Jt(n,t){var e=B.get(n);B.set(t,e),B.delete(n)}function ve(n){if(typeof n=="string")try{n=JSON.parse(n)}catch(t){return console.warn(t),{}}return n}function G(n,t,e){if(!(!n.element.contentWindow||!n.element.contentWindow.postMessage)){var r={method:t};e!==void 0&&(r.value=e);var a=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));a>=8&&a<10&&(r=JSON.stringify(r)),n.element.contentWindow.postMessage(r,n.origin)}}function Kt(n,t){t=ve(t);var e=[],r;if(t.event){if(t.event==="error"){var a=he(n,t.data.method);a.forEach(function(u){var l=new Error(t.data.message);l.name=t.data.name,u.reject(l),me(n,t.data.method,u)})}e=he(n,"event:".concat(t.event)),r=t.data}else if(t.method){var o=Qt(n,t.method);o&&(e.push(o),r=t.value)}e.forEach(function(u){try{if(typeof u=="function"){u.call(n,r);return}u.resolve(r)}catch{}})}var Xt=["airplay","audio_tracks","autopause","autoplay","background","byline","cc","chapter_id","chapters","chromecast","color","colors","controls","dnt","end_time","fullscreen","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","play_button_position","playsinline","portrait","progress_bar","quality_selector","responsive","speed","start_time","texttrack","title","transcript","transparent","url","vimeo_logo","volume","watch_full_video","width"];function Ze(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Xt.reduce(function(e,r){var a=n.getAttribute("data-vimeo-".concat(r));return(a||a==="")&&(e[r]=a===""?1:a),e},t)}function Me(n,t){var e=n.html;if(!t)throw new TypeError("An element must be provided");if(t.getAttribute("data-vimeo-initialized")!==null)return t.querySelector("iframe");var r=document.createElement("div");return r.innerHTML=e,t.appendChild(r.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function et(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0;return new Promise(function(r,a){if(!J(n))throw new TypeError("“".concat(n,"” is not a vimeo.com url."));var o="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(n));for(var u in t)t.hasOwnProperty(u)&&(o+="&".concat(u,"=").concat(encodeURIComponent(t[u])));var l="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;l.open("GET",o,!0),l.onload=function(){if(l.status===404){a(new Error("“".concat(n,"” was not found.")));return}if(l.status===403){a(new Error("“".concat(n,"” is not embeddable.")));return}try{var c=JSON.parse(l.responseText);if(c.domain_status_code===403){Me(c,e),a(new Error("“".concat(n,"” is not embeddable.")));return}r(c)}catch(s){a(s)}},l.onerror=function(){var c=l.status?" (".concat(l.status,")"):"";a(new Error("There was an error fetching the embed code from Vimeo".concat(c,".")))},l.send()})}function Zt(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,t=[].slice.call(n.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),e=function(a){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(a))};t.forEach(function(r){try{if(r.getAttribute("data-vimeo-defer")!==null)return;var a=Ze(r),o=Xe(a);et(o,a,r).then(function(u){return Me(u,r)}).catch(e)}catch(u){e(u)}})}function er(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var t=function(r){if(J(r.origin)&&!(!r.data||r.data.event!=="spacechange")){for(var a=n.querySelectorAll("iframe"),o=0;o<a.length;o++)if(a[o].contentWindow===r.source){var u=a[o].parentElement;u.style.paddingBottom="".concat(r.data.data[0].bottom,"px");break}}};window.addEventListener("message",t)}}function tr(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var t=function(r){if(J(r.origin)){var a=ve(r.data);if(!(!a||a.event!=="ready"))for(var o=n.querySelectorAll("iframe"),u=0;u<o.length;u++){var l=o[u],c=l.contentWindow===r.source;if(Ke(l.src)&&c){var s=new xe(l);s.callMethod("appendVideoMetadata",window.location.href)}}}};window.addEventListener("message",t)}}function rr(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var t=function(a){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(a))},e=function(a){if(J(a.origin)){var o=ve(a.data);if(!(!o||o.event!=="ready"))for(var u=n.querySelectorAll("iframe"),l=function(){var i=u[c],f=i.contentWindow===a.source;if(Ke(i.src)&&f){var d=new xe(i);d.getVideoId().then(function(g){var y=new RegExp("[?&]vimeo_t_".concat(g,"=([^&#]*)")).exec(window.location.href);if(y&&y[1]){var _=decodeURI(y[1]);d.setCurrentTime(_)}}).catch(t)}},c=0;c<u.length;c++)l()}};window.addEventListener("message",e)}}function nr(){var n=function(){for(var r,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o=0,u=a.length,l={};o<u;o++)if(r=a[o],r&&r[1]in document){for(o=0;o<r.length;o++)l[a[0][o]]=r[o];return l}return!1}(),t={fullscreenchange:n.fullscreenchange,fullscreenerror:n.fullscreenerror},e={request:function(a){return new Promise(function(o,u){var l=function s(){e.off("fullscreenchange",s),o()};e.on("fullscreenchange",l),a=a||document.documentElement;var c=a[n.requestFullscreen]();c instanceof Promise&&c.then(l).catch(u)})},exit:function(){return new Promise(function(a,o){if(!e.isFullscreen){a();return}var u=function c(){e.off("fullscreenchange",c),a()};e.on("fullscreenchange",u);var l=document[n.exitFullscreen]();l instanceof Promise&&l.then(u).catch(o)})},on:function(a,o){var u=t[a];u&&document.addEventListener(u,o)},off:function(a,o){var u=t[a];u&&document.removeEventListener(u,o)}};return Object.defineProperties(e,{isFullscreen:{get:function(){return!!document[n.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!document[n.fullscreenEnabled]}}}),e}var or={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},ar=function(n){Dt(e,n);var t=Ut(e);function e(r,a){var o,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;return We(this,e),o=t.call(this),ce(de(o),"logger",void 0),ce(de(o),"speedAdjustment",0),ce(de(o),"adjustSpeed",function(){var c=Q(L().mark(function s(i,f){var d;return L().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(o.speedAdjustment!==f){y.next=2;break}return y.abrupt("return");case 2:return y.next=4,i.getPlaybackRate();case 4:return y.t0=y.sent,y.t1=o.speedAdjustment,y.t2=y.t0-y.t1,y.t3=f,d=y.t2+y.t3,o.log("New playbackRate:  ".concat(d)),y.next=12,i.setPlaybackRate(d);case 12:o.speedAdjustment=f;case 13:case"end":return y.stop()}},s)}));return function(s,i){return c.apply(this,arguments)}}()),o.logger=l,o.init(a,r,Ne(Ne({},or),u)),o}return Ge(e,[{key:"disconnect",value:function(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:function(){var r=Q(L().mark(function o(u,l,c){var s=this,i,f,d;return L().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,this.waitForTOReadyState(u,"open");case 2:if(c.role!=="viewer"){y.next=10;break}return y.next=5,this.updatePlayer(u,l,c);case 5:i=je(u,"change",function(){return s.updatePlayer(u,l,c)}),f=this.maintainPlaybackPosition(u,l,c),this.addEventListener("disconnect",function(){f.cancel(),i.cancel()}),y.next=14;break;case 10:return y.next=12,this.updateTimingObject(u,l);case 12:d=je(l,["seeked","play","pause","ratechange"],function(){return s.updateTimingObject(u,l)},"on","off"),this.addEventListener("disconnect",function(){return d.cancel()});case 14:case"end":return y.stop()}},o,this)}));function a(o,u,l){return r.apply(this,arguments)}return a}()},{key:"updateTimingObject",value:function(){var r=Q(L().mark(function o(u,l){return L().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.t0=u,s.next=3,l.getCurrentTime();case 3:return s.t1=s.sent,s.next=6,l.getPaused();case 6:if(!s.sent){s.next=10;break}s.t2=0,s.next=13;break;case 10:return s.next=12,l.getPlaybackRate();case 12:s.t2=s.sent;case 13:s.t3=s.t2,s.t4={position:s.t1,velocity:s.t3},s.t0.update.call(s.t0,s.t4);case 16:case"end":return s.stop()}},o)}));function a(o,u){return r.apply(this,arguments)}return a}()},{key:"updatePlayer",value:function(){var r=Q(L().mark(function o(u,l,c){var s,i,f;return L().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(s=u.query(),i=s.position,f=s.velocity,typeof i=="number"&&l.setCurrentTime(i),typeof f!="number"){g.next=25;break}if(f!==0){g.next=11;break}return g.next=6,l.getPaused();case 6:if(g.t0=g.sent,g.t0!==!1){g.next=9;break}l.pause();case 9:g.next=25;break;case 11:if(!(f>0)){g.next=25;break}return g.next=14,l.getPaused();case 14:if(g.t1=g.sent,g.t1!==!0){g.next=19;break}return g.next=18,l.play().catch(function(){var y=Q(L().mark(function _(k){return L().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!(k.name==="NotAllowedError"&&c.autoPlayMuted)){p.next=5;break}return p.next=3,l.setMuted(!0);case 3:return p.next=5,l.play().catch(function(v){return console.error("Couldn't play the video from TimingSrcConnector. Error:",v)});case 5:case"end":return p.stop()}},_)}));return function(_){return y.apply(this,arguments)}}());case 18:this.updatePlayer(u,l,c);case 19:return g.next=21,l.getPlaybackRate();case 21:if(g.t2=g.sent,g.t3=f,g.t2===g.t3){g.next=25;break}l.setPlaybackRate(f);case 25:case"end":return g.stop()}},o,this)}));function a(o,u,l){return r.apply(this,arguments)}return a}()},{key:"maintainPlaybackPosition",value:function(a,o,u){var l=this,c=u.allowedDrift,s=u.maxAllowedDrift,i=u.minCheckInterval,f=u.maxRateAdjustment,d=u.maxTimeToCatchUp,g=Math.min(d,Math.max(i,s))*1e3,y=function(){var k=Q(L().mark(function x(){var p,v,b,E,T;return L().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(C.t0=a.query().velocity===0,C.t0){C.next=6;break}return C.next=4,o.getPaused();case 4:C.t1=C.sent,C.t0=C.t1===!0;case 6:if(!C.t0){C.next=8;break}return C.abrupt("return");case 8:return C.t2=a.query().position,C.next=11,o.getCurrentTime();case 11:if(C.t3=C.sent,p=C.t2-C.t3,v=Math.abs(p),l.log("Drift: ".concat(p)),!(v>s)){C.next=22;break}return C.next=18,l.adjustSpeed(o,0);case 18:o.setCurrentTime(a.query().position),l.log("Resync by currentTime"),C.next=29;break;case 22:if(!(v>c)){C.next=29;break}return b=v/d,E=f,T=b<E?(E-b)/2:E,C.next=28,l.adjustSpeed(o,T*Math.sign(p));case 28:l.log("Resync by playbackRate");case 29:case"end":return C.stop()}},x)}));return function(){return k.apply(this,arguments)}}(),_=setInterval(function(){return y()},g);return{cancel:function(){return clearInterval(_)}}}},{key:"log",value:function(a){var o;(o=this.logger)===null||o===void 0||o.call(this,"TimingSrcConnector: ".concat(a))}},{key:"waitForTOReadyState",value:function(a,o){return new Promise(function(u){var l=function c(){a.readyState===o?u():a.addEventListener("readystatechange",c,{once:!0})};l()})}}]),e}(be(EventTarget)),X=new WeakMap,ye=new WeakMap,V={},xe=function(){function n(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(We(this,n),window.jQuery&&t instanceof jQuery&&(t.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),typeof document<"u"&&typeof t=="string"&&(t=document.getElementById(t)),!Yt(t))throw new TypeError("You must pass either a valid element or a valid id.");if(t.nodeName!=="IFRAME"){var a=t.querySelector("iframe");a&&(t=a)}if(t.nodeName==="IFRAME"&&!J(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(X.has(t))return X.get(t);this._window=t.ownerDocument.defaultView,this.element=t,this.origin="*";var o=new $(function(l,c){if(e._onMessage=function(f){if(!(!J(f.origin)||e.element.contentWindow!==f.source)){e.origin==="*"&&(e.origin=f.origin);var d=ve(f.data),g=d&&d.event==="error",y=g&&d.data&&d.data.method==="ready";if(y){var _=new Error(d.data.message);_.name=d.data.name,c(_);return}var k=d&&d.event==="ready",x=d&&d.method==="ping";if(k||x){e.element.setAttribute("data-ready","true"),l();return}Kt(e,d)}},e._window.addEventListener("message",e._onMessage),e.element.nodeName!=="IFRAME"){var s=Ze(t,r),i=Xe(s);et(i,s,t).then(function(f){var d=Me(f,t);return e.element=d,e._originalElement=t,Jt(t,d),X.set(e.element,e),f}).catch(c)}});if(ye.set(this,o),X.set(this.element,this),this.element.nodeName==="IFRAME"&&G(this,"ping"),V.isEnabled){var u=function(){return V.exit()};this.fullscreenchangeHandler=function(){V.isFullscreen?ae(e,"event:exitFullscreen",u):me(e,"event:exitFullscreen",u),e.ready().then(function(){G(e,"fullscreenchange",V.isFullscreen)})},V.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return Ge(n,[{key:"callMethod",value:function(e){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new $(function(o,u){return r.ready().then(function(){ae(r,e,{resolve:o,reject:u}),G(r,e,a)}).catch(u)})}},{key:"get",value:function(e){var r=this;return new $(function(a,o){return e=Ve(e,"get"),r.ready().then(function(){ae(r,e,{resolve:a,reject:o}),G(r,e)}).catch(o)})}},{key:"set",value:function(e,r){var a=this;return new $(function(o,u){if(e=Ve(e,"set"),r==null)throw new TypeError("There must be a value to set.");return a.ready().then(function(){ae(a,e,{resolve:o,reject:u}),G(a,e,r)}).catch(u)})}},{key:"on",value:function(e,r){if(!e)throw new TypeError("You must pass an event name.");if(!r)throw new TypeError("You must pass a callback function.");if(typeof r!="function")throw new TypeError("The callback must be a function.");var a=he(this,"event:".concat(e));a.length===0&&this.callMethod("addEventListener",e).catch(function(){}),ae(this,"event:".concat(e),r)}},{key:"off",value:function(e,r){if(!e)throw new TypeError("You must pass an event name.");if(r&&typeof r!="function")throw new TypeError("The callback must be a function.");var a=me(this,"event:".concat(e),r);a&&this.callMethod("removeEventListener",e).catch(function(o){})}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=ye.get(this)||new $(function(r,a){a(new Error("Unknown player. Probably unloaded."))});return $.resolve(e)}},{key:"addCuePoint",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:r})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,r){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:r})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return V.isEnabled?V.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return V.isEnabled?V.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return V.isEnabled?$.resolve(V.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new $(function(r){if(ye.delete(e),X.delete(e.element),e._originalElement&&(X.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&e.element.nodeName==="IFRAME"&&e.element.parentNode&&(e.element.parentNode.parentNode&&e._originalElement&&e._originalElement!==e.element.parentNode?e.element.parentNode.parentNode.removeChild(e.element.parentNode):e.element.parentNode.removeChild(e.element)),e.element&&e.element.nodeName==="DIV"&&e.element.parentNode){e.element.removeAttribute("data-vimeo-initialized");var a=e.element.querySelector("iframe");a&&a.parentNode&&(a.parentNode.parentNode&&e._originalElement&&e._originalElement!==a.parentNode?a.parentNode.parentNode.removeChild(a.parentNode):a.parentNode.removeChild(a))}e._window.removeEventListener("message",e._onMessage),V.isEnabled&&V.off("fullscreenchange",e.fullscreenchangeHandler),r()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"getColors",value:function(){return $.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"setColors",value:function(e){if(!Array.isArray(e))return new $(function(o,u){return u(new TypeError("Argument must be an array."))});var r=new $(function(o){return o(null)}),a=[e[0]?this.set("colorOne",e[0]):r,e[1]?this.set("colorTwo",e[1]):r,e[2]?this.set("colorThree",e[2]):r,e[3]?this.set("colorFour",e[3]):r];return $.all(a)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getRemotePlaybackAvailability",value:function(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}},{key:"setTimingSrc",value:function(){var t=Q(L().mark(function r(a,o){var u=this,l;return L().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(a){s.next=2;break}throw new TypeError("A Timing Object must be provided.");case 2:return s.next=4,this.ready();case 4:return l=new ar(this,a,o),G(this,"notifyTimingObjectConnect"),l.addEventListener("disconnect",function(){return G(u,"notifyTimingObjectDisconnect")}),s.abrupt("return",l);case 8:case"end":return s.stop()}},r,this)}));function e(r,a){return t.apply(this,arguments)}return e}()}]),n}();Je||(V=nr(),Zt(),er(),tr(),rr());const Tr={__name:"Vimeo",props:{lessonUrl:{type:String,default:""},lessonId:{type:Number,default:0},width:{type:Number,default:640},height:{type:Number,default:564},seek:{type:Number,default:0},classVideo:{type:String,default:"video-container mb-8 border rounded-lg border-dark-900"}},emits:["video-start","video-pause","video-running","video-ended"],setup(n,{emit:t}){const e=ze(()=>a.classVideo+" "+(i.value.value?"fancy-background06":"")),r=t,a=n;let o=R(null),u=R(null),l=null,c=R(null),s=R(null),i=R(!0);Ye(()=>{a.lessonUrl&&(l=new xe(o.value,{url:a.lessonUrl,width:a.width,height:a.height,quality:"auto"}),l.ready().then(function(){i.value=!1,a.seek>0&&f(a.seek)}),l.on("pause",async function(){await d(),r("video-pause",u.value),c.value&&clearInterval(c.value),s.value&&clearInterval(s.value)}),l.on("ended",async function(){await d(),r("video-ended",u.value),c.value&&clearInterval(c.value),s.value&&clearInterval(s.value),l.exitFullscreen()}),l.on("play",async function(){await d(),r("video-start",u.value),g(),y()}))}),Be(()=>{c.value&&clearInterval(c.value)});const f=_=>{l.setCurrentTime(_)},d=async()=>{await l.getCurrentTime().then(function(_){u.value=_})},g=()=>{c.value=setInterval(async()=>{await d(),r("video-running",u.value)},5e3)},y=()=>{s.value=setInterval(async()=>{await d(),r("video-lesson-points",u.value)},1e3)};return(_,k)=>(U(),z("div",{class:pe(e.value)},[F("div",{ref_key:"videoPlayerRef",ref:o},null,512)],2))}};var ke={exports:{}},tt;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/tt=function(){var n={},t={};return n.on=function(e,r){var a={name:e,handler:r};return t[e]=t[e]||[],t[e].unshift(a),a},n.off=function(e){var r=t[e.name].indexOf(e);r!==-1&&t[e.name].splice(r,1)},n.trigger=function(e,r){var a=t[e],o;if(a)for(o=a.length;o--;)a[o].handler(r)},n};var ir=tt,Ce={exports:{}},Pe={exports:{}},we,De;function ur(){if(De)return we;De=1;var n=1e3,t=n*60,e=t*60,r=e*24,a=r*7,o=r*365.25;we=function(i,f){f=f||{};var d=typeof i;if(d==="string"&&i.length>0)return u(i);if(d==="number"&&isFinite(i))return f.long?c(i):l(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))};function u(i){if(i=String(i),!(i.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(f){var d=parseFloat(f[1]),g=(f[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return d*o;case"weeks":case"week":case"w":return d*a;case"days":case"day":case"d":return d*r;case"hours":case"hour":case"hrs":case"hr":case"h":return d*e;case"minutes":case"minute":case"mins":case"min":case"m":return d*t;case"seconds":case"second":case"secs":case"sec":case"s":return d*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function l(i){var f=Math.abs(i);return f>=r?Math.round(i/r)+"d":f>=e?Math.round(i/e)+"h":f>=t?Math.round(i/t)+"m":f>=n?Math.round(i/n)+"s":i+"ms"}function c(i){var f=Math.abs(i);return f>=r?s(i,f,r,"day"):f>=e?s(i,f,e,"hour"):f>=t?s(i,f,t,"minute"):f>=n?s(i,f,n,"second"):i+" ms"}function s(i,f,d,g){var y=f>=d*1.5;return Math.round(i/d)+" "+g+(y?"s":"")}return we}function sr(n){e.debug=e,e.default=e,e.coerce=c,e.disable=o,e.enable=a,e.enabled=u,e.humanize=ur(),e.destroy=s,Object.keys(n).forEach(i=>{e[i]=n[i]}),e.names=[],e.skips=[],e.formatters={};function t(i){let f=0;for(let d=0;d<i.length;d++)f=(f<<5)-f+i.charCodeAt(d),f|=0;return e.colors[Math.abs(f)%e.colors.length]}e.selectColor=t;function e(i){let f,d=null,g,y;function _(...k){if(!_.enabled)return;const x=_,p=Number(new Date),v=p-(f||p);x.diff=v,x.prev=f,x.curr=p,f=p,k[0]=e.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let b=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(T,S)=>{if(T==="%%")return"%";b++;const C=e.formatters[S];if(typeof C=="function"){const A=k[b];T=C.call(x,A),k.splice(b,1),b--}return T}),e.formatArgs.call(x,k),(x.log||e.log).apply(x,k)}return _.namespace=i,_.useColors=e.useColors(),_.color=e.selectColor(i),_.extend=r,_.destroy=e.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(g!==e.namespaces&&(g=e.namespaces,y=e.enabled(i)),y),set:k=>{d=k}}),typeof e.init=="function"&&e.init(_),_}function r(i,f){const d=e(this.namespace+(typeof f>"u"?":":f)+i);return d.log=this.log,d}function a(i){e.save(i),e.namespaces=i,e.names=[],e.skips=[];let f;const d=(typeof i=="string"?i:"").split(/[\s,]+/),g=d.length;for(f=0;f<g;f++)d[f]&&(i=d[f].replace(/\*/g,".*?"),i[0]==="-"?e.skips.push(new RegExp("^"+i.slice(1)+"$")):e.names.push(new RegExp("^"+i+"$")))}function o(){const i=[...e.names.map(l),...e.skips.map(l).map(f=>"-"+f)].join(",");return e.enable(""),i}function u(i){if(i[i.length-1]==="*")return!0;let f,d;for(f=0,d=e.skips.length;f<d;f++)if(e.skips[f].test(i))return!1;for(f=0,d=e.names.length;f<d;f++)if(e.names[f].test(i))return!0;return!1}function l(i){return i.toString().substring(2,i.toString().length-2).replace(/\.\*\?$/,"*")}function c(i){return i instanceof Error?i.stack||i.message:i}function s(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}var lr=sr;(function(n,t){t.formatArgs=r,t.save=a,t.load=o,t.useColors=e,t.storage=u(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;c.splice(1,0,s,"color: inherit");let i=0,f=0;c[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(i++,d==="%c"&&(f=i))}),c.splice(f,0,s)}t.log=console.debug||console.log||(()=>{});function a(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function o(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function u(){try{return localStorage}catch{}}n.exports=lr(t);const{formatters:l}=n.exports;l.j=function(c){try{return JSON.stringify(c)}catch(s){return"[UnexpectedJSONParseError]: "+s.message}}})(Pe,Pe.exports);var cr=Pe.exports,Ee={exports:{}},_e={exports:{}};(function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=t.default})(_e,_e.exports);var fr=_e.exports;(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var e=fr,r=a(e);function a(o){return o&&o.__esModule?o:{default:o}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=t.default})(Ee,Ee.exports);var dr=Ee.exports,Te={exports:{}};(function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=t.default})(Te,Te.exports);var hr=Te.exports,Fe={exports:{}};(function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],n.exports=t.default})(Fe,Fe.exports);var mr=Fe.exports;(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var e=cr,r=i(e),a=dr,o=i(a),u=hr,l=i(u),c=mr,s=i(c);function i(g){return g&&g.__esModule?g:{default:g}}const f=(0,r.default)("youtube-player"),d={};d.proxyEvents=g=>{const y={};for(const _ of l.default){const k="on"+_.slice(0,1).toUpperCase()+_.slice(1);y[k]=x=>{f('event "%s"',k,x),g.trigger(_,x)}}return y},d.promisifyPlayer=(g,y=!1)=>{const _={};for(const k of s.default)y&&o.default[k]?_[k]=(...x)=>g.then(p=>{const v=o.default[k],b=p.getPlayerState(),E=p[k].apply(p,x);return v.stateChangeRequired||Array.isArray(v.acceptableStates)&&!v.acceptableStates.includes(b)?new Promise(T=>{const S=()=>{const C=p.getPlayerState();let A;typeof v.timeout=="number"&&(A=setTimeout(()=>{p.removeEventListener("onStateChange",S),T()},v.timeout)),Array.isArray(v.acceptableStates)&&v.acceptableStates.includes(C)&&(p.removeEventListener("onStateChange",S),clearTimeout(A),T())};p.addEventListener("onStateChange",S)}).then(()=>E):E}):_[k]=(...x)=>g.then(p=>p[k].apply(p,x));return _},t.default=d,n.exports=t.default})(Ce,Ce.exports);var pr=Ce.exports,Se={exports:{}},vr=function(t,e,r){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");typeof e=="function"&&(r=e,e={}),e=e||{},r=r||function(){},o.type=e.type||"text/javascript",o.charset=e.charset||"utf8",o.async="async"in e?!!e.async:!0,o.src=t,e.attrs&&gr(o,e.attrs),e.text&&(o.text=""+e.text);var u="onload"in o?qe:yr;u(o,r),o.onload||qe(o,r),a.appendChild(o)};function gr(n,t){for(var e in t)n.setAttribute(e,t[e])}function qe(n,t){n.onload=function(){this.onerror=this.onload=null,t(null,n)},n.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),n)}}function yr(n,t){n.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,n))}}(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var e=vr,r=a(e);function a(o){return o&&o.__esModule?o:{default:o}}t.default=o=>new Promise(l=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){l(window.YT);return}else{const s=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(s+"//www.youtube.com/iframe_api",i=>{i&&o.trigger("error",i)})}const c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{c&&c(),l(window.YT)}}),n.exports=t.default})(Se,Se.exports);var wr=Se.exports;(function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var e=ir,r=c(e),a=pr,o=c(a),u=wr,l=c(u);function c(i){return i&&i.__esModule?i:{default:i}}let s;t.default=(i,f={},d=!1)=>{const g=(0,r.default)();if(s||(s=(0,l.default)(g)),f.events)throw new Error("Event handlers cannot be overwritten.");if(typeof i=="string"&&!document.getElementById(i))throw new Error('Element "'+i+'" does not exist.');f.events=o.default.proxyEvents(g);const y=new Promise(k=>{typeof i=="object"&&i.playVideo instanceof Function?k(i):s.then(x=>{const p=new x.Player(i,f);return g.on("ready",()=>{k(p)}),null})}),_=o.default.promisifyPlayer(y,d);return _.on=g.on,_.off=g.off,_},n.exports=t.default})(ke,ke.exports);var br=ke.exports;const kr=it(br),Fr={__name:"YouTube",props:{videoId:{type:String,default:""},lessonId:{type:Number,default:0},width:{type:Number,default:640},height:{type:Number,default:564},seek:{type:Number,default:0},classVideo:{type:String,default:"video-container mb-8 border rounded-lg border-dark-900"}},emits:["video-start","video-pause","video-running","video-ended"],setup(n,{emit:t}){const e=n,r=t,a=ze(()=>e.classVideo+" "+(i.value.value?"fancy-background06":""));let o=R(null),u=R(null),l=null,c=R(null),s=R(null),i=R(!0);Ye(()=>{if(e.videoId){const k=e.videoId;l=kr(o.value,{videoId:k,width:e.width,height:e.height}),l.on("stateChange",async function(x){const p=x.data;p===1?(await d(),r("video-start",u.value),g(),y()):p===2?(await d(),r("video-pause",u.value),_()):p===0&&(await d(),r("video-ended",u.value),_())}),l.on("ready",()=>{i.value=!1,e.seek>0&&f(e.seek)})}}),Be(()=>{_()});const f=k=>{l.seekTo(k,!0)},d=async()=>{await l.getCurrentTime().then(function(k){u.value=k})},g=()=>{c.value=setInterval(async()=>{await d(),r("video-running",u.value)},5e3)},y=()=>{s.value=setInterval(async()=>{await d(),r("video-lesson-points",u.value)},1e3)},_=()=>{c.value&&clearInterval(c.value),s.value&&clearInterval(s.value)};return(k,x)=>(U(),z("div",{class:pe(a.value)},[F("div",{ref_key:"videoPlayerRef",ref:o},null,512)],2))}};export{Tr as _,Fr as a,jt as b,dt as c};
