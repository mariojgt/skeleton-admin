import{bI as A,o as n,g as i,d as t,F as k,A as E,a as w,bv as B,B as x,f,u as a,v as H,y as j,b as I,w as D,t as V,l as W,bB as T,bq as L,i as P,br as X,k as Y,m as G,bJ as Q}from"./preset-b92b06ac.js";import{_ as U}from"./Input-d4875ddd.js";import{_ as Z}from"./Password-1cd66784.js";import{_ as ee}from"./Select-ea27f546.js";import{_ as te}from"./Image-92bacb2c.js";import{_ as R}from"./TextMultipleSelector-19872000.js";import{_ as le}from"./Toogle-3b747b72.js";import{X as z,Y as N,V as J}from"./disclosure-6b156a39.js";const oe=["for"],se=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),ne=[se],ae=["id"],ie={class:"modal"},de={class:"modal-box w-11/12 max-w-5xl"},re=["for"],ce=t("h3",{class:"text-lg font-bold"},"This action cannot be undone.",-1),ue=t("p",{class:"py-4"},"Are you sure you want to delete this item?",-1),pe={class:"modal-action"},me=["for"],_e=["for"],he={__name:"delete",props:{id:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onDelete"],setup(h,{emit:c}){const d=h,s=A(),y=async()=>{E.post(d.endpoint,{model:d.model,id:d.id,permission:d.permission}).then(function(u){s.success(u.data.message),c("onDelete")}).catch(function(u){for(const[p,b]of Object.entries(u.response.data.errors))s.error(b[0])})};return(u,p)=>(n(),i(k,null,[t("label",{for:"my-modal-"+d.id,class:"btn btn-error modal-button"},ne,8,oe),t("input",{type:"checkbox",id:"my-modal-"+d.id,class:"modal-toggle"},null,8,ae),t("div",ie,[t("div",de,[t("label",{for:"my-modal-"+d.id,class:"btn btn-sm btn-circle absolute right-2 top-2"},"âœ•",8,re),ce,ue,t("div",pe,[t("label",{for:"my-modal-"+d.id,class:"btn btn-success"},"Close!",8,me),t("label",{for:"my-modal-"+d.id,onClick:y,class:"btn btn-error"},"Delete",8,_e)])])])],64))}},fe=h=>{const c=h.split("/");return new Date(c[2]+"/"+c[1]+"/"+c[0]).toISOString().split("T")[0]},ye=h=>{const c=h.split("/");return new Date(c[2]+"/"+c[1]+"/"+c[0]).toISOString().substr(0,16)},be=h=>h?h.toString():"",ve={key:0},ge={key:1},we={key:2},ke={key:3},$e={key:4},xe={key:5},Ve={key:6},Se={key:7},Ce={key:8},Ue={key:9},De={key:10},Fe={key:11},Oe=["innerHTML"],Me={key:12},K={__name:"formbuilder",props:{columns:{type:Array,default:()=>[]},modelValue:{type:Array,default:()=>[]},editMode:{type:String,default:"false"}},emits:["onFormUpdate"],setup(h,{emit:c}){const d=h;let s=w([]);(()=>{s.value=[];for(const[b,l]of Object.entries(d.columns))if(d.editMode=="false"){if(l.canCreate){let e="";l.type=="toogle"&&(e=!1),s.value.push({key:l.key,label:l.label,type:l.type,nullable:l==null?void 0:l.nullable,unique:l==null?void 0:l.unique,endpoint:l==null?void 0:l.endpoint,displayKey:l==null?void 0:l.displayKey,columns:l==null?void 0:l.columns,model:l==null?void 0:l.model,singleSearch:l==null?void 0:l.singleSearch,relation:l==null?void 0:l.relation,value:e,select_options:l==null?void 0:l.select_options})}}else if(l.canEdit){let e=null;switch(l.type){case"date":e=fe(d.modelValue[l.key]);break;case"timestamp":e=ye(d.modelValue[l.key]);break;case"media":e=d.modelValue[l.key];break;case"model_search":e=d.modelValue[l.key];break;case"pivot_model":e=d.modelValue[l.key];break;default:e=be(d.modelValue[l.key]);break}s.value.push({key:l.key,label:l.label,type:l.type,nullable:l==null?void 0:l.nullable,displayKey:l==null?void 0:l.displayKey,unique:l==null?void 0:l.unique,value:e,endpoint:l==null?void 0:l.endpoint,columns:l==null?void 0:l.columns,model:l==null?void 0:l.model,singleSearch:l==null?void 0:l.singleSearch,relation:l==null?void 0:l.relation,select_options:l==null?void 0:l.select_options})}d.editMode=="true"&&c("onFormUpdate",s.value)})();let u=w(null);B(()=>s.value,()=>{clearTimeout(u.value),u.value=setTimeout(function(){c("onFormUpdate",s.value)},500)},{deep:!0});const p=async(b,l,e)=>{if(e=="name"||e=="title"){const r=s.value.findIndex(o=>o.key=="slug");s.value[r]&&(s.value[r].value=b.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))}};return(b,l)=>(n(!0),i(k,null,x(a(s),(e,r)=>(n(),i("div",{key:r},[e.type=="text"?(n(),i("div",ve,[f(a(U),{type:"text",modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,label:e.label,onKeyup:o=>p(o.target.value,e.type,e.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):e.type=="password"?(n(),i("div",ge,[f(a(Z),{modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="email"?(n(),i("div",we,[f(a(U),{type:"email",modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="date"?(n(),i("div",ke,[f(a(U),{type:"date",modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="timestamp"?(n(),i("div",$e,[f(a(U),{type:"datetime-local",modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="slug"?(n(),i("div",xe,[f(a(U),{type:"text",modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):e.type=="media"?(n(),i("div",Ve,[f(a(te),{label:"image",placeholder:"search",modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,loadData:a(s)[r].value,endpoint:e.endpoint},null,8,["modelValue","onUpdate:modelValue","loadData","endpoint"])])):e.type=="number"?(n(),i("div",Se,[f(a(U),{type:"number",modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,label:e.label,onKeyup:o=>p(o.target.value,e.type,e.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):e.type=="model_search"?(n(),i("div",Ce,[f(a(R),{label:e.label,placeholder:"search",model:e.model,columns:e.columns,singleMode:e.singleSearch,modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,loadData:a(s)[r].value,endpoint:e.endpoint,displayKey:e.displayKey},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey"])])):e.type=="pivot_model"?(n(),i("div",Ue,[f(a(R),{label:e.label,placeholder:"search",model:e.model,columns:e.columns,singleMode:e.singleSearch,modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,loadData:a(s)[r].value,endpoint:e.endpoint,displayKey:e.displayKey},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey"])])):e.type=="toogle"?(n(),i("div",De,[f(a(le),{modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])])):H("",!0),e.type=="icon"?(n(),i("div",Fe,[f(a(U),{type:"text",modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,label:e.label,onKeyup:o=>p(o.target.value,e.type,e.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"]),t("div",{class:"bg-white flex justify-center p-10",innerHTML:a(s)[r].value},null,8,Oe)])):H("",!0),e.type=="select"?(n(),i("div",Me,[f(a(ee),{type:"text",modelValue:a(s)[r].value,"onUpdate:modelValue":o=>a(s)[r].value=o,label:e.label,onKeyup:o=>p(o.target.value,e.type,e.key),options:e.select_options},null,8,["modelValue","onUpdate:modelValue","label","onKeyup","options"])])):H("",!0)]))),128))}},Be=t("label",{for:"my-modal-5",class:"btn btn-primary modal-button"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})])],-1),je=t("input",{type:"checkbox",id:"my-modal-5",class:"modal-toggle"},null,-1),Te={class:"modal text-center"},Pe={key:0,class:"modal-box w-11/12 max-w-5xl"},Ke=t("h3",{class:"font-bold text-lg"},"New",-1),Ae={class:"w-full"},Ee={class:"w-full bg-base-300 p-2"},He={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Le=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"},null,-1),Ie=[Le],We={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},qe=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"},null,-1),Re=[qe],ze={class:"w-full bg-base-300 p-6"},Ne=t("label",{for:"my-modal-5",class:"btn btn-error"},"Close",-1),Je={key:1,class:"modal-box w-11/12 max-w-5xl"},Xe=W('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title">The create method has been disable</h2><p>Try to contact the administrator </p></div></div>',1),Ye=[Xe],Ge={__name:"create",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onCreate"],setup(h,{emit:c}){const d=h,s=A(),y=j(()=>d.columns.filter(e=>e.canCreate).length>0),u=j(()=>{const e=d.columns.filter(g=>g.section),r=d.columns.filter(g=>!g.section),o=e.map(g=>g.section),_=[...new Set(o)],m=[];return _.forEach(g=>{const M=e.filter(F=>F.section==g);m.push({section:g,fields:M})}),{sections:_,fields:r,sectionsWithFields:m}});let p=w(d.columns.filter(e=>e.canCreate));const b=async e=>{if(p.value.length>0)for(const[r,o]of Object.entries(e))for(const[_,m]of Object.entries(p.value))o.key==m.key&&(p.value[_]=o);else p.value=e},l=async()=>{E.post(d.endpoint,{model:d.model,data:p.value,permission:d.permission}).then(function(e){s.success(e.data.message),c("onCreate")}).catch(function(e){for(const[r,o]of Object.entries(e.response.data.errors))s.error(o[0])})};return(e,r)=>(n(),i(k,null,[Be,je,t("div",Te,[y.value?(n(),i("div",Pe,[Ke,t("div",Ae,[t("div",Ee,[(n(!0),i(k,null,x(u.value.sectionsWithFields,(o,_)=>(n(),I(a(J),{as:"div",class:"mt-2",key:_},{default:D(({open:m})=>[f(a(z),{class:"btn btn-primary w-full"},{default:D(()=>[t("span",null,V(o.section),1),m?(n(),i("svg",He,Ie)):(n(),i("svg",We,Re))]),_:2},1024),f(a(N),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:D(()=>[f(K,{columns:o.fields,onOnFormUpdate:b},null,8,["columns"])]),_:2},1024)]),_:2},1024))),128))])]),t("div",ze,[f(K,{columns:u.value.fields,onOnFormUpdate:b},null,8,["columns"])]),t("div",{class:"modal-action"},[Ne,t("label",{for:"my-modal-5",class:"btn btn-success",onClick:l},"Create")])])):(n(),i("div",Je,Ye))])],64))}},Qe=["for"],Ze=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),et=[Ze],tt=["id"],lt={class:"modal text-center"},ot={key:0,class:"modal-box w-11/12 max-w-5xl"},st=t("h3",{class:"font-bold text-lg"},"Edit",-1),nt={class:"w-full"},at={class:"w-full bg-base-300 p-2"},it={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},dt=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"},null,-1),rt=[dt],ct={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},ut=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"},null,-1),pt=[ut],mt={class:"w-full bg-base-300 p-6"},_t={class:"modal-action"},ht=["for"],ft=["for"],yt={key:1,class:"modal-box w-11/12 max-w-5xl"},bt=W('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title">The edit method has been disable</h2><p>Try to contact the administrator </p></div></div>',1),vt=[bt],gt={__name:"edit",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},id:{type:String,default:"0"},modelValue:{type:Array,default:()=>[]},permission:{type:String,default:null}},emits:["onEdit"],setup(h,{emit:c}){const d=h,s=A(),y=j(()=>d.columns.filter(e=>e.canEdit).length>0),u=j(()=>{const e=d.columns.filter(g=>g.section),r=d.columns.filter(g=>!g.section),o=e.map(g=>g.section),_=[...new Set(o)],m=[];return _.forEach(g=>{const M=e.filter(F=>F.section==g);m.push({section:g,fields:M})}),{sections:_,fields:r,sectionsWithFields:m}});let p=w(d.columns.filter(e=>e.canEdit));const b=async e=>{if(p.value.length>0)for(const[r,o]of Object.entries(e))for(const[_,m]of Object.entries(p.value))o.key==m.key&&(p.value[_]=o);else p.value=e},l=async()=>{E.post(d.endpoint,{model:d.model,id:d.id,data:p.value,permission:d.permission}).then(function(e){s.success(e.data.message),c("onEdit")}).catch(function(e){for(const[r,o]of Object.entries(e.response.data.errors))s.error(o[0])})};return(e,r)=>(n(),i(k,null,[t("label",{for:"edit-data-"+d.id,class:"btn btn-info modal-button"},et,8,Qe),t("input",{type:"checkbox",id:"edit-data-"+d.id,class:"modal-toggle"},null,8,tt),t("div",lt,[y.value?(n(),i("div",ot,[st,t("div",nt,[t("div",at,[(n(!0),i(k,null,x(u.value.sectionsWithFields,(o,_)=>(n(),I(a(J),{as:"div",class:"mt-2",key:_,defaultOpen:!0},{default:D(({open:m})=>[f(a(z),{class:"btn btn-primary w-full"},{default:D(()=>[t("span",null,V(o.section),1),m?(n(),i("svg",it,rt)):(n(),i("svg",ct,pt))]),_:2},1024),f(a(N),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:D(()=>[f(K,{columns:o.fields,onOnFormUpdate:b,editMode:"true",modelValue:d.modelValue},null,8,["columns","modelValue"])]),_:2},1024)]),_:2},1024))),128))])]),t("div",mt,[f(K,{columns:u.value.fields,onOnFormUpdate:b,editMode:"true",modelValue:d.modelValue},null,8,["columns","modelValue"])]),t("div",_t,[t("label",{for:"edit-data-"+d.id,class:"btn btn-error"},"Close",8,ht),t("label",{for:"edit-data-"+d.id,class:"btn btn-success",onClick:l},"Edit",8,ft)])])):(n(),i("div",yt,vt))])],64))}},wt={class:"my-2 flex sm:flex-row flex-col p-6"},kt={class:"flex flex-row mb-1 sm:mb-0"},$t={class:"relative pl-4"},xt=W('<option disabled selected>Per page</option><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option>',5),Vt=[xt],St={class:"relative pl-4"},Ct=t("option",{disabled:"",selected:""},"Row",-1),Ut=["value"],Dt={class:"relative pl-4"},Ft=t("option",{disabled:"",selected:""},"Order by",-1),Ot=t("option",{value:"asc"},"Asc",-1),Mt=t("option",{value:"desc"},"Desc",-1),Bt=[Ft,Ot,Mt],jt={class:"block relative pl-4"},Tt={class:"form-control"},Pt={class:"input-group"},Kt=t("button",{class:"btn btn-square btn-primary"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),At={__name:"filter",props:{columns:{type:Array,default:()=>[]}},emits:["onPerPage","onOrderBy","onSearch","onFilter","onFilterReset"],setup(h,{emit:c}){const d=h;let s=w(10),y=w("id"),u=w("asc"),p=w(""),b=w([]);(async()=>{for(const[o,_]of Object.entries(d.columns))_.sortable&&(o==0&&(y.value=_.key),b.value.push({label:_.label,value:_.key}))})(),B(()=>s.value,o=>{c("onPerPage",o)}),B(()=>u.value,o=>{c("onOrderBy",o)}),B(()=>y.value,o=>{c("onFilter",o)});let e=w(null);B(()=>p.value,o=>{clearTimeout(e.value),e.value=setTimeout(function(){c("onSearch",o)},500)});const r=async()=>{s.value=10,y.value="id",u.value="asc",p.value=null,c("onFilterReset",[{perPage:s.value,filterBy:y.value,orderBy:u.value,search:p.value}])};return(o,_)=>(n(),i("div",wt,[t("div",kt,[t("div",$t,[T(t("select",{class:"select select-primary w-full max-w-xs","onUpdate:modelValue":_[0]||(_[0]=m=>P(s)?s.value=m:s=m)},Vt,512),[[L,a(s)]])]),t("div",St,[T(t("select",{class:"select select-primary w-full max-w-xs","onUpdate:modelValue":_[1]||(_[1]=m=>P(y)?y.value=m:y=m),onChange:_[2]||(_[2]=(...m)=>o.filterChange&&o.filterChange(...m))},[Ct,(n(!0),i(k,null,x(a(b),(m,g)=>(n(),i("option",{key:g,value:m.value},V(m.label),9,Ut))),128))],544),[[L,a(y)]])]),t("div",Dt,[T(t("select",{class:"select select-primary w-full max-w-xs","onUpdate:modelValue":_[3]||(_[3]=m=>P(u)?u.value=m:u=m)},Bt,512),[[L,a(u)]])])]),t("div",jt,[t("div",Tt,[t("div",Pt,[T(t("input",{type:"text",placeholder:"Searchâ€¦",class:"input input-bordered","onUpdate:modelValue":_[4]||(_[4]=m=>P(p)?p.value=m:p=m)},null,512),[[X,a(p)]]),Kt])])]),t("div",{class:"block relative pl-4"},[t("button",{class:"btn btn-outline btn-accent",onClick:r}," Reset ")])]))}},Et={class:"px-5 py-5 bg-base-200 border-t flex flex-col xs:flex-row items-center xs:justify-between"},Ht={class:"text-xs xs:text-sm text-primary"},Lt={class:"inline-flex mt-2 xs:mt-0"},It={class:"btn-group"},Wt=["onClick"],qt=["innerHTML"],Rt={__name:"pagination",props:{paginationInfo:{type:Object,default:()=>[]}},emits:["onPagiation"],setup(h,{emit:c}){const d=h,s=async y=>{c("onPagiation",y)};return(y,u)=>(n(),i("div",Et,[t("span",Ht," Showing "+V(d.paginationInfo.currentPage)+" to "+V(d.paginationInfo.perPage)+" of "+V(d.paginationInfo.total)+" Entries ",1),t("div",Lt,[t("div",It,[(n(!0),i(k,null,x(d.paginationInfo.links,(p,b)=>(n(),i("button",{class:Y(["btn btn-md",p.active?"btn-active":""]),key:b,onClick:l=>s(p.url)},[t("span",{innerHTML:p.label},null,8,qt)],10,Wt))),128))])])]))}},zt={key:0},Nt={class:"carousel rounded-box w-96"},Jt={class:"carousel-item w-1/2"},Xt=["src"],Yt={key:1},Gt=["innerHTML"],Qt={key:1},Zt={key:0,class:"badge badge-success mt-3"},el={key:1,class:"badge badge-error mt-3"},tl={key:2},ll={class:"flex flex-col"},ol=["innerHTML"],sl={__name:"tableDataDisplay",props:{tableData:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]}},setup(h){const c=h,d=j(()=>{let s=[];for(const[y,u]of Object.entries(c.columns))s.push({label:u.label,type:u.type,value:c.tableData[u.key]});return s});return(s,y)=>(n(!0),i(k,null,x(d.value,(u,p)=>(n(),i("th",{key:p},[u.type==="media"?(n(),i("div",zt,[t("div",Nt,[(n(!0),i(k,null,x(u.value,(b,l)=>(n(),i("div",Jt,[t("img",{src:b.url.default,class:"w-full"},null,8,Xt)]))),256))])])):(n(),i("div",Yt,[u.type=="icon"?(n(),i("div",{key:0,innerHTML:u.value,class:"bg-white flex justify-center p-10"},null,8,Gt)):u.type==="toogle"?(n(),i("div",Qt,[u.value==1?(n(),i("div",Zt,"Enable")):(n(),i("div",el,"Disable"))])):u.type==="model_search"?(n(),i("div",tl,[t("div",ll,[(n(!0),i(k,null,x(u.value,(b,l)=>(n(),i("div",{class:"badge badge-primary mt-3",key:l},V(l)+" > "+V(b),1))),128))])])):(n(),i("div",{key:3,innerHTML:u.value},null,8,ol))]))]))),128))}},nl={class:"w-full mb-12 xl:mb-0"},al={class:"relative flex flex-col min-w-0 break-words bg-base-200 w-full mb-6 shadow-lg rounded"},il={class:"rounded-t mb-0 px-4 py-3 border-0"},dl={class:"flex flex-wrap items-center"},rl={class:"relative w-full px-4 max-w-full flex-grow flex-1"},cl={class:"text-3xl font-bold text-base-content"},ul={class:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"},pl={class:"overflow-x-auto p-6"},ml={class:"overflow-x-auto"},_l={class:"table table-compact w-full"},hl=t("th",null,"Action",-1),fl={class:"preview border-base-300 bg-base-200 rounded-b-box rounded-tr-box flex min-h-[6rem] min-w-[18rem] max-w-4xl flex-wrap items-center justify-center overflow-x-hidden border bg-cover bg-top p-4 undefined gap-4"},yl={key:1},bl=["for"],vl=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),gl=[vl],wl=t("th",null,"Action",-1),Fl={__name:"Table",props:{tableTitle:{type:String,default:"Table name"},columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},endpointDelete:{type:String,default:""},endpointCreate:{type:String,default:""},endpointEdit:{type:String,default:""},permission:{type:String,default:null},custom_edit_route:{type:String,default:null}},setup(h){const c=h,d=A(),s=async v=>{S(v)};let y=w(10);const u=async v=>{y.value=v,S()};let p=w("id");const b=async v=>{p.value=v,S()};let l=w(null);const e=async v=>{l.value=v,S()};let r=w(null);const o=async v=>{v&&v.length>3&&(r.value=v,S())},_=async()=>{S()},m=async()=>{S()},g=async()=>{S()},M=async v=>{y.value=v.perPage,p.value=v.filterBy,l.value=v.orderBy,r.value=v.search,S()};let F=w([]),q=w([]);const S=async(v=null)=>{v===null&&(v=c.endpoint),E.post(v,{model:c.model,columns:c.columns,perPage:y.value,search:r.value,sort:p.value,direction:l.value,permission:c.permission}).then(function(C){F.value=C.data.data,q.value={currentPage:C.data.current_page,lastPage:C.data.last_page,perPage:C.data.per_page,total:C.data.total,links:C.data.links}}).catch(function(C){for(const[$,O]of Object.entries(C.response.data.errors))d.error(O[0])})};return S(),(v,C)=>(n(),i("div",nl,[t("div",al,[t("div",il,[t("div",dl,[t("div",rl,[t("h1",cl,V(c.tableTitle),1)]),t("div",ul,[G(v.$slots,"new",{},()=>[f(Ge,{columns:c.columns,endpoint:c.endpointCreate,model:c.model,permission:c.permission,onOnCreate:m},null,8,["columns","endpoint","model","permission"])])])])]),f(At,{onOnPerPage:u,onOnOrderBy:e,onOnSearch:o,onOnFilter:b,onOnFilterReset:M,columns:c.columns},null,8,["columns"]),t("div",pl,[t("div",ml,[t("table",_l,[t("thead",null,[t("tr",null,[(n(!0),i(k,null,x(h.columns,($,O)=>(n(),i("th",{key:O},V($.label),1))),128)),hl])]),t("tbody",null,[(n(!0),i(k,null,x(a(F),($,O)=>(n(),i("tr",{key:$},[f(sl,{tableData:$,columns:h.columns},null,8,["tableData","columns"]),t("th",null,[t("div",fl,[f(he,{id:$.id,endpoint:c.endpointDelete,model:c.model,permission:c.permission,onOnDelete:_},null,8,["id","endpoint","model","permission"]),h.custom_edit_route?(n(),i("div",yl,[f(a(Q),{href:h.custom_edit_route+$.id},{default:D(()=>[t("label",{for:"edit-data-"+$.id,class:"btn btn-info modal-button"},gl,8,bl)]),_:2},1032,["href"])])):(n(),I(gt,{key:0,columns:c.columns,endpoint:c.endpointEdit,model:c.model,modelValue:$,id:$.id,permission:c.permission,onOnEdit:g},null,8,["columns","endpoint","model","modelValue","id","permission"]))])])]))),128))]),t("tfoot",null,[t("tr",null,[(n(!0),i(k,null,x(h.columns,($,O)=>(n(),i("th",{key:O},V($.label),1))),128)),wl])])])]),f(Rt,{onOnPagiation:s,paginationInfo:a(q)},null,8,["paginationInfo"])])])]))}};export{Fl as _};
