import{a as Q}from"./axios-087e9270.js";import{C as ze,_ as qe}from"./App.vue_vue_type_script_setup_true_lang-5c99152f.js";import{_ as Le,a as Ge}from"./CommentBox-48c28620.js";import{P as Qe,C as Se}from"./play-921fac74.js";import{c as xe}from"./createLucideIcon-eef21fad.js";import{C as Te}from"./clock-4120c02b.js";import{y as Je,o as k,g as P,d as r,m as Ee,e as g,u as b,s as ge,t as $,aU as Xe,x as E,l as be,a as J,A as Re,b as X,w as D,i as re,Q as H,v as je,z as Ye,F as ye}from"./preset-fafa7a54.js";import{_ as Ke,a as et}from"./YouTube-33f3f570.js";import{_ as we}from"./dynamicIcon.vue_vue_type_script_setup_true_lang-43763e23.js";import tt from"./Sidebar-7785ce70.js";import rt from"./PremiumPrompt-60e7ada5.js";import st from"./RelatedCourses-f9587b26.js";import ot from"./SidebarControl-6899d482.js";import nt from"./EpisodeGuide-2feb8d71.js";import{Q as Ae,V as $e,N as Be}from"./disclosure-f326b96a.js";import"./FlashMessage-726b0cbd.js";import"./ReusableModal-95adb111.js";import"./focus-management-c9bf9661.js";import"./keyboard-69fbd145.js";import"./hidden-81ff31ba.js";import"./open-closed-8c4db5a7.js";import"./SearchSidebar-2c375156.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./x-01198535.js";import"./Frontend_js-f4e6ab4e.js";import"./gamepad-2-dcf2beb7.js";import"./book-open-f1879ab4.js";import"./message-circle-60f6801b.js";import"./Input.vue_vue_type_script_setup_true_lang-7234bc69.js";import"./Password-85fd088f.js";import"./Money-a8d984ae.js";import"./dark-7d5b4154.js";import"./CommentsSingle.vue_vue_type_script_setup_true_lang-36eb510a.js";import"./graduation-cap-5817eb7e.js";import"./shopping-cart-206cbb00.js";import"./DifficultLevel.vue_vue_type_script_setup_true_lang-6b09f616.js";import"./use-resolve-button-type-b1b99412.js";/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=xe("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=xe("ChevronLeftIcon",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=xe("HeartIcon",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),it={class:"relative overflow-hidden rounded-xl bg-dark-500/90 backdrop-blur-sm border border-gray-800/50"},dt={class:"relative p-6 space-y-8"},ct={class:"relative overflow-hidden rounded-xl bg-dark-400/50 p-6"},ut={class:"flex items-start gap-6"},ht={class:"relative hidden md:block w-24 h-24"},pt={class:"flex-1 space-y-4"},ft={class:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-blue-500/10 text-blue-400 text-sm font-medium"},mt={class:"text-2xl md:text-3xl font-bold text-white"},vt={key:0,class:"space-y-2"},gt={class:"flex justify-between items-center text-sm text-gray-400"},bt={class:"relative h-2 w-full bg-dark-600 rounded-full overflow-hidden"},yt={class:"flex flex-col lg:flex-row items-center gap-6"},wt={class:"flex-1 w-full space-y-6"},_t={class:"flex flex-wrap md:flex-nowrap gap-4"},xt={class:"flex flex-1 gap-4"},kt={class:"flex justify-between lg:hidden"},Mt={class:"flex flex-wrap gap-8"},Ct={class:"space-y-1"},It={class:"flex items-center gap-2 text-white"},Pt={class:"space-y-1"},Lt={class:"flex items-center gap-2 text-white"},St=Je({__name:"Lesson",props:{lesson:{type:Object,default:()=>({})},lessonProgress:{type:Number,default:0}},emits:["videoLike","nextEpisode","previousEpisode","completeLesson","watchLater"],setup(B,{emit:s}){const h=B,M=s,T=()=>{M("videoLike",h.lesson.id)},O=()=>{M("nextEpisode",h.lesson.next_lesson_id)},L=()=>{M("previousEpisode",h.lesson.previous_lesson_id)},W=()=>{M("completeLesson",h.lesson.id)},q=()=>{M("watchLater",h.lesson.id)};return(U,y)=>(k(),P("section",it,[y[6]||(y[6]=r("div",{class:"absolute inset-0 bg-gradient-to-br from-blue-600/5 to-purple-600/5"},null,-1)),y[7]||(y[7]=r("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIxMjEyMSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-10"},null,-1)),r("div",dt,[r("div",ct,[r("div",ut,[r("div",ht,[Ee(U.$slots,"default",{},()=>[y[0]||(y[0]=r("div",{class:"absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg opacity-20"},null,-1)),Ee(U.$slots,"default")])]),r("div",pt,[r("div",ft,[g(b(Qe),{class:"w-4 h-4"}),y[1]||(y[1]=ge(" You're Watching "))]),r("h1",mt,$(h.lesson.name),1),B.lessonProgress!==0?(k(),P("div",vt,[r("div",gt,[y[2]||(y[2]=r("span",null,"Progress",-1)),r("span",null,$(B.lessonProgress)+"%",1)]),r("div",bt,[y[3]||(y[3]=r("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 opacity-20"},null,-1)),r("div",{class:"h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300 rounded-full",style:Xe({width:`${B.lessonProgress}%`})},null,4)])])):E("",!0)])])]),r("div",yt,[h.lesson.previous_lesson_id?(k(),P("button",{key:0,onClick:L,class:"hidden lg:flex items-center justify-center w-12 h-12 rounded-xl bg-dark-400 hover:bg-dark-300 transition-all duration-300 group"},[g(b(Oe),{class:"w-6 h-6 text-white group-hover:text-blue-400"})])):E("",!0),r("div",wt,[r("div",_t,[r("button",{onClick:T,class:"group flex items-center justify-center w-12 h-12 rounded-xl bg-dark-400 hover:bg-dark-300 transition-all duration-300"},[g(b(lt),{class:be(["w-6 h-6 transition-colors duration-300",h.lesson.is_mark_as_liked?"text-red-500":"text-white group-hover:text-red-400"]),fill:h.lesson.is_mark_as_liked?"currentColor":"none"},null,8,["class","fill"])]),r("div",xt,[r("button",{onClick:W,class:be(["flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-medium transition-all duration-300",h.lesson.is_completed?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-dark-400 text-white hover:bg-dark-300"])},[g(b(ze),{class:"w-5 h-5"}),r("span",null,$(h.lesson.is_completed?"Completed":"Mark Complete"),1)],2),r("button",{onClick:q,class:be(["flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-medium transition-all duration-300",h.lesson.watch_later?"bg-purple-500/20 text-purple-400 hover:bg-purple-500/30":"bg-dark-400 text-white hover:bg-dark-300"])},[g(b(Te),{class:"w-5 h-5"}),r("span",null,$(h.lesson.watch_later?"In Watchlist":"Watch Later"),1)],2)])]),r("div",kt,[h.lesson.previous_lesson_id?(k(),P("button",{key:0,onClick:L,class:"flex items-center justify-center w-12 h-12 rounded-xl bg-dark-400 hover:bg-dark-300 transition-all duration-300 group"},[g(b(Oe),{class:"w-6 h-6 text-white group-hover:text-blue-400"})])):E("",!0),h.lesson.next_lesson_id?(k(),P("button",{key:1,onClick:O,class:"flex items-center justify-center w-12 h-12 rounded-xl bg-dark-400 hover:bg-dark-300 transition-all duration-300 group"},[g(b(Se),{class:"w-6 h-6 text-white group-hover:text-blue-400"})])):E("",!0)]),r("div",Mt,[r("div",Ct,[y[4]||(y[4]=r("div",{class:"text-sm text-gray-400"},"Runtime",-1)),r("div",It,[g(b(Te),{class:"w-4 h-4 text-blue-400"}),ge(" "+$(h.lesson.lesson_duration),1)])]),r("div",Pt,[y[5]||(y[5]=r("div",{class:"text-sm text-gray-400"},"Published",-1)),r("div",Lt,[g(b(at),{class:"w-4 h-4 text-purple-400"}),ge(" "+$(h.lesson.created_diff),1)])])])]),h.lesson.next_lesson_id?(k(),P("button",{key:1,onClick:O,class:"hidden lg:flex items-center justify-center w-12 h-12 rounded-xl bg-dark-400 hover:bg-dark-300 transition-all duration-300 group"},[g(b(Se),{class:"w-6 h-6 text-white group-hover:text-blue-400"})])):E("",!0)])])]))}});var ke={};(function B(s,h,M,T){var O=!!(s.Worker&&s.Blob&&s.Promise&&s.OffscreenCanvas&&s.OffscreenCanvasRenderingContext2D&&s.HTMLCanvasElement&&s.HTMLCanvasElement.prototype.transferControlToOffscreen&&s.URL&&s.URL.createObjectURL),L=typeof Path2D=="function"&&typeof DOMMatrix=="function",W=function(){if(!s.OffscreenCanvas)return!1;var t=new OffscreenCanvas(1,1),e=t.getContext("2d");e.fillRect(0,0,1,1);var o=t.transferToImageBitmap();try{e.createPattern(o,"no-repeat")}catch{return!1}return!0}();function q(){}function U(t){var e=h.exports.Promise,o=e!==void 0?e:s.Promise;return typeof o=="function"?new o(t):(t(q,q),null)}var y=function(t,e){return{transform:function(o){if(t)return o;if(e.has(o))return e.get(o);var l=new OffscreenCanvas(o.width,o.height),i=l.getContext("2d");return i.drawImage(o,0,0),e.set(o,l),l},clear:function(){e.clear()}}}(W,new Map),V=function(){var t=Math.floor(16.666666666666668),e,o,l={},i=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(d){var c=Math.random();return l[c]=requestAnimationFrame(function n(u){i===u||i+t-1<u?(i=u,delete l[c],d()):l[c]=requestAnimationFrame(n)}),c},o=function(d){l[d]&&cancelAnimationFrame(l[d])}):(e=function(d){return setTimeout(d,t)},o=function(d){return clearTimeout(d)}),{frame:e,cancel:o}}(),se=function(){var t,e,o={};function l(i){function d(c,n){i.postMessage({options:c||{},callback:n})}i.init=function(n){var u=n.transferControlToOffscreen();i.postMessage({canvas:u},[u])},i.fire=function(n,u,m){if(e)return d(n,null),e;var _=Math.random().toString(36).slice(2);return e=U(function(v){function x(I){I.data.callback===_&&(delete o[_],i.removeEventListener("message",x),e=null,y.clear(),m(),v())}i.addEventListener("message",x),d(n,_),o[_]=x.bind(null,{data:{callback:_}})}),e},i.reset=function(){i.postMessage({reset:!0});for(var n in o)o[n](),delete o[n]}}return function(){if(t)return t;if(!M&&O){var i=["var CONFETTI, SIZE = {}, module = {};","("+B.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{t=new Worker(URL.createObjectURL(new Blob([i])))}catch(d){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",d),null}l(t)}return t}}(),ue={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function Y(t,e){return e?e(t):t}function Z(t){return t!=null}function w(t,e,o){return Y(t&&Z(t[e])?t[e]:ue[e],o)}function he(t){return t<0?0:Math.floor(t)}function pe(t,e){return Math.floor(Math.random()*(e-t))+t}function K(t){return parseInt(t,16)}function fe(t){return t.map(me)}function me(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:K(e.substring(0,2)),g:K(e.substring(2,4)),b:K(e.substring(4,6))}}function f(t){var e=w(t,"origin",Object);return e.x=w(e,"x",Number),e.y=w(e,"y",Number),e}function a(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function R(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function oe(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}function ne(t,e,o,l,i,d,c,n,u){t.save(),t.translate(e,o),t.rotate(d),t.scale(l,i),t.arc(0,0,1,c,n,u),t.restore()}function ae(t){var e=t.angle*(Math.PI/180),o=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:t.startVelocity*.5+Math.random()*t.startVelocity,angle2D:-e+(.5*o-Math.random()*o),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:t.color,shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,drift:t.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:t.gravity*3,ovalScalar:.6,scalar:t.scalar,flat:t.flat}}function le(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var o=e.tick++/e.totalTicks,l=e.x+e.random*e.tiltCos,i=e.y+e.random*e.tiltSin,d=e.wobbleX+e.random*e.tiltCos,c=e.wobbleY+e.random*e.tiltSin;if(t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-o)+")",t.beginPath(),L&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))t.fill(de(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(d-l)*.1,Math.abs(c-i)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var n=Math.PI/10*e.wobble,u=Math.abs(d-l)*.1,m=Math.abs(c-i)*.1,_=e.shape.bitmap.width*e.scalar,v=e.shape.bitmap.height*e.scalar,x=new DOMMatrix([Math.cos(n)*u,Math.sin(n)*u,-Math.sin(n)*m,Math.cos(n)*m,e.x,e.y]);x.multiplySelf(new DOMMatrix(e.shape.matrix));var I=t.createPattern(y.transform(e.shape.bitmap),"no-repeat");I.setTransform(x),t.globalAlpha=1-o,t.fillStyle=I,t.fillRect(e.x-_/2,e.y-v/2,_,v),t.globalAlpha=1}else if(e.shape==="circle")t.ellipse?t.ellipse(e.x,e.y,Math.abs(d-l)*e.ovalScalar,Math.abs(c-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):ne(t,e.x,e.y,Math.abs(d-l)*e.ovalScalar,Math.abs(c-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var p=Math.PI/2*3,S=4*e.scalar,j=8*e.scalar,A=e.x,N=e.y,z=5,F=Math.PI/z;z--;)A=e.x+Math.cos(p)*j,N=e.y+Math.sin(p)*j,t.lineTo(A,N),p+=F,A=e.x+Math.cos(p)*S,N=e.y+Math.sin(p)*S,t.lineTo(A,N),p+=F;else t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(i)),t.lineTo(Math.floor(d),Math.floor(c)),t.lineTo(Math.floor(l),Math.floor(e.wobbleY));return t.closePath(),t.fill(),e.tick<e.totalTicks}function ie(t,e,o,l,i){var d=e.slice(),c=t.getContext("2d"),n,u,m=U(function(_){function v(){n=u=null,c.clearRect(0,0,l.width,l.height),y.clear(),i(),_()}function x(){M&&!(l.width===T.width&&l.height===T.height)&&(l.width=t.width=T.width,l.height=t.height=T.height),!l.width&&!l.height&&(o(t),l.width=t.width,l.height=t.height),c.clearRect(0,0,l.width,l.height),d=d.filter(function(I){return le(c,I)}),d.length?n=V.frame(x):v()}n=V.frame(x),u=v});return{addFettis:function(_){return d=d.concat(_),m},canvas:t,promise:m,reset:function(){n&&V.cancel(n),u&&u()}}}function ee(t,e){var o=!t,l=!!w(e||{},"resize"),i=!1,d=w(e,"disableForReducedMotion",Boolean),c=O&&!!w(e||{},"useWorker"),n=c?se():null,u=o?a:R,m=t&&n?!!t.__confetti_initialized:!1,_=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,v;function x(p,S,j){for(var A=w(p,"particleCount",he),N=w(p,"angle",Number),z=w(p,"spread",Number),F=w(p,"startVelocity",Number),Fe=w(p,"decay",Number),Ve=w(p,"gravity",Number),Ne=w(p,"drift",Number),Me=w(p,"colors",fe),Ue=w(p,"ticks",Number),Ce=w(p,"shapes"),De=w(p,"scalar"),He=!!w(p,"flat"),Ie=f(p),Pe=A,ve=[],We=t.width*Ie.x,Ze=t.height*Ie.y;Pe--;)ve.push(ae({x:We,y:Ze,angle:N,spread:z,startVelocity:F,color:Me[Pe%Me.length],shape:Ce[pe(0,Ce.length)],ticks:Ue,decay:Fe,gravity:Ve,drift:Ne,scalar:De,flat:He}));return v?v.addFettis(ve):(v=ie(t,ve,u,S,j),v.promise)}function I(p){var S=d||w(p,"disableForReducedMotion",Boolean),j=w(p,"zIndex",Number);if(S&&_)return U(function(F){F()});o&&v?t=v.canvas:o&&!t&&(t=oe(j),document.body.appendChild(t)),l&&!m&&u(t);var A={width:t.width,height:t.height};n&&!m&&n.init(t),m=!0,n&&(t.__confetti_initialized=!0);function N(){if(n){var F={getBoundingClientRect:function(){if(!o)return t.getBoundingClientRect()}};u(F),n.postMessage({resize:{width:F.width,height:F.height}});return}A.width=A.height=null}function z(){v=null,l&&(i=!1,s.removeEventListener("resize",N)),o&&t&&(document.body.contains(t)&&document.body.removeChild(t),t=null,m=!1)}return l&&!i&&(i=!0,s.addEventListener("resize",N,!1)),n?n.fire(p,A,z):x(p,A,z)}return I.reset=function(){n&&n.reset(),v&&v.reset()},I}var G;function te(){return G||(G=ee(null,{useWorker:!0,resize:!0})),G}function de(t,e,o,l,i,d,c){var n=new Path2D(t),u=new Path2D;u.addPath(n,new DOMMatrix(e));var m=new Path2D;return m.addPath(u,new DOMMatrix([Math.cos(c)*i,Math.sin(c)*i,-Math.sin(c)*d,Math.cos(c)*d,o,l])),m}function ce(t){if(!L)throw new Error("path confetti are not supported in this browser");var e,o;typeof t=="string"?e=t:(e=t.path,o=t.matrix);var l=new Path2D(e),i=document.createElement("canvas"),d=i.getContext("2d");if(!o){for(var c=1e3,n=c,u=c,m=0,_=0,v,x,I=0;I<c;I+=2)for(var p=0;p<c;p+=2)d.isPointInPath(l,I,p,"nonzero")&&(n=Math.min(n,I),u=Math.min(u,p),m=Math.max(m,I),_=Math.max(_,p));v=m-n,x=_-u;var S=10,j=Math.min(S/v,S/x);o=[j,0,0,j,-Math.round(v/2+n)*j,-Math.round(x/2+u)*j]}return{type:"path",path:e,matrix:o}}function C(t){var e,o=1,l="#000000",i='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof t=="string"?e=t:(e=t.text,o="scalar"in t?t.scalar:o,i="fontFamily"in t?t.fontFamily:i,l="color"in t?t.color:l);var d=10*o,c=""+d+"px "+i,n=new OffscreenCanvas(d,d),u=n.getContext("2d");u.font=c;var m=u.measureText(e),_=Math.ceil(m.actualBoundingBoxRight+m.actualBoundingBoxLeft),v=Math.ceil(m.actualBoundingBoxAscent+m.actualBoundingBoxDescent),x=2,I=m.actualBoundingBoxLeft+x,p=m.actualBoundingBoxAscent+x;_+=x+x,v+=x+x,n=new OffscreenCanvas(_,v),u=n.getContext("2d"),u.font=c,u.fillStyle=l,u.fillText(e,I,p);var S=1/o;return{type:"bitmap",bitmap:n.transferToImageBitmap(),matrix:[S,0,0,S,-_*S/2,-v*S/2]}}h.exports=function(){return te().apply(this,arguments)},h.exports.reset=function(){te().reset()},h.exports.create=ee,h.exports.shapeFromPath=ce,h.exports.shapeFromText=C})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ke,!1);const _e=ke.exports;ke.exports.create;const Tt={key:0,class:"bg-dark-100"},Et={class:"py-8 px-4 mx-auto max-w-screen-2xl lg:py-16"},Rt={key:2,class:"my-5 border bg-base-100 border-accent rounded"},jt={class:"h-full p-4 bg-dark-100 border-b border-accent"},At={class:"flex items-center justify-between"},$t={class:"flex justify-between gap-1"},Bt={class:"text-lg font-bold text-neutral"},Ot={class:"mt-2"},Ft={class:"text-2xl font-bold text-neutral hover:underline",target:"_blank"},Vt=["innerHTML"],Nt={key:3},Ut=["src","alt"],Dt={class:"mt-3"},Ht=["innerHTML"],Wt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Zt={class:"flex-shrink-0"},zt={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 text-blue-400"},qt={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 text-green-400"},Gt={class:"flex-grow"},Qt={class:"text-lg font-semibold text-white"},Jt={key:0,class:"text-sm text-gray-300 mt-1"},Xt=["onClick"],Yt={key:1,class:"bg-dark-200"},Kt={class:"py-8 px-4 mx-auto max-w-screen-xl lg:py-16"},er={class:"card bg-dark-blue-100 w-full"},tr=["alt","src"],rr={class:"card-body"},sr={class:"card-title font-bold text-5xl mb-5"},or=["innerHTML"],nr={class:"card-actions justify-start mt-3"},ar={class:"flex justify-between"},lr={class:"mt-1"},Zr={__name:"View",props:{relatedCourses:{type:Object,required:!0},course:{type:Object,required:!0},course_instructor:{type:Object,required:!0},sections:{type:Array,required:!0},current_lesson:{type:Object,required:!0},editor_key:{type:String,required:!0}},setup(B){const s=B;let h=J(!1),M=J(!1),T=J(!1);const O=async f=>{f&&await ye.get(route("course.view",{slug:s.course.slug,lesson:f}),{preserveState:!0,preserveScroll:!0,only:["current_lesson"]})},L=async f=>{H().props.isUserAuth&&await ye.post(route("track.lesson.progress",{lesson:s.current_lesson.data.id}),{progress:f},{preserveState:!0,preserveScroll:!0,only:["current_lesson"]})},W=async f=>{H().props.isUserAuth?(await Q.post(route("track.lesson.complete",s.current_lesson.data.id)).then(function(a){s.current_lesson.data.is_completed=a.data.status}),_e({particleCount:100,spread:100,origin:{y:.6}})):M.value=!0},q=async f=>{H().props.isUserAuth?(await Q.post(route("track.lesson.like",f)).then(function(a){s.current_lesson.data.is_mark_as_liked=a.data.status}),_e({particleCount:100,spread:100,origin:{y:.6}})):M.value=!0},U=async f=>{H().props.isUserAuth?(await Q.post(route("track.lesson.watch.later",f)).then(function(a){s.current_lesson.data.watch_later=a.data.status}),_e({particleCount:100,spread:100,origin:{y:.6}})):M.value=!0};let y=J(null),V=J(null);const se=async f=>{H().props.isUserAuth&&(y.value=f,await Q.post(route("track.lesson.points.progress",s.current_lesson.data.id),{seconds:y.value}).then(function(a){a.data.status&&(V.value=a.data.lessonPoint)}))},ue=async()=>{var f,a,R;(R=(a=(f=s.sections)==null?void 0:f.data[0])==null?void 0:a.children[0])!=null&&R.id&&O(s.sections.data[0].children[0].id)},Y=Re(()=>({src:s.course.media[0].url.default,alt:s.course.media[0].url.alt}));let Z=J(!1);const w=async()=>{H().props.isUserAuth?Z.value=!0:M.value=!0},he=async()=>{H().props.isUserAuth?(T.value=!0,Q.post(route("stripe.product.checkout"),{products:[{id:s.course.id,quantity:1,type:"course"}]}).then(function(f){window.location.href=f.data.session}).catch(function(f){T.value=!1})):M.value=!0},pe=Re(()=>{var f,a;return(a=(f=H().props.subscriptionsProducts)==null?void 0:f.data[0])==null?void 0:a.price}),K=f=>{fe(f)},fe=async f=>{ye.visit(route("course.view",f))},me=async f=>{try{if(f.resource_type==="file"){const R=(await Q.get(route("gamedev.lesson.resources.download",f.id))).data.download_url;window.open(R,"_blank")}else window.open(f.resource_url,"_blank")}catch(a){console.error("Download error:",a)}finally{}};return(f,a)=>(k(),X(qe,{showHeader:!1,showFooter:!1,displayLogin:b(M),onCloseLogin:a[4]||(a[4]=R=>re(M)?M.value=!1:M=!1),displaySubscription:b(Z),onCloseSubscription:a[5]||(a[5]=R=>re(Z)?Z.value=!1:Z=!1),displayLoading:b(T),onCloseLoading:a[6]||(a[6]=R=>re(T)?T.value=!1:T=!1)},{default:D(()=>{var R,oe,ne,ae,le,ie,ee,G,te,de,ce;return[g(tt,{sideBarOpen:b(h),mainImageInfo:Y.value,course:s.course,sections:s.sections,currentLesson:s.current_lesson,onChangeLesson:O,onCloseSidebar:a[0]||(a[0]=C=>re(h)?h.value=!1:h=!1)},null,8,["sideBarOpen","mainImageInfo","course","sections","currentLesson"]),(R=s.current_lesson)!=null&&R.data?(k(),P("section",Tt,[r("div",Et,[s.current_lesson.data.video_accessible?(k(),P(je,{key:0},[s.current_lesson.data.player_type==="vimeo"?(k(),X(Ke,{key:0,lessonUrl:s.current_lesson.data.video_url,"lesson-id":s.current_lesson.data.id,seek:(ne=(oe=s.current_lesson.data)==null?void 0:oe.lesson_progress)==null?void 0:ne.watch_time,onVideoRunning:L,onVideoPause:L,onVideoEnded:a[1]||(a[1]=C=>{L(C),W(C)}),onVideoStart:L,onVideoLessonPoints:se},null,8,["lessonUrl","lesson-id","seek"])):E("",!0),s.current_lesson.data.player_type==="youtube"?(k(),X(et,{key:1,videoId:s.current_lesson.data.video_id,"lesson-id":s.current_lesson.data.id,seek:(le=(ae=s.current_lesson.data)==null?void 0:ae.lesson_progress)==null?void 0:le.watch_time,onVideoRunning:L,onVideoPause:L,onVideoEnded:a[2]||(a[2]=C=>{L(C),W(C)}),onVideoStart:L,onVideoLessonPoints:se},null,8,["videoId","lesson-id","seek"])):E("",!0)],64)):(k(),X(rt,{key:1,current_lesson:B.current_lesson,course:B.course,priceStartOff:pe.value,onSubscribe:w,onCourseCheckout:he},null,8,["current_lesson","course","priceStartOff"])),b(V)?(k(),P("div",Rt,[r("div",jt,[r("div",At,[r("div",$t,[a[7]||(a[7]=r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-white"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),r("span",Bt,$(b(V).seconds)+"s ",1)]),a[8]||(a[8]=r("a",{class:"px-2 py-1 font-bold text-gray-100 bg-gray-600 rounded hover:bg-gray-500",target:"_blank"},"Close",-1))]),r("div",Ot,[r("a",Ft,$(b(V).title),1),r("div",{innerHTML:b(V).content,class:"mt-2 w-full text-lg text-neutral fancy-editor"},null,8,Vt)])])])):E("",!0),s.current_lesson.data.video_accessible?(k(),P("div",Nt,[(ie=s.current_lesson)!=null&&ie.data?(k(),X(St,{key:0,lesson:(ee=s.current_lesson)==null?void 0:ee.data,lessonProgress:(te=(G=s.current_lesson.data)==null?void 0:G.lesson_progress)==null?void 0:te.progress,onNextEpisode:O,onPreviousEpisode:O,onVideoLike:q,onCompleteLesson:W,onWatchLater:U},{default:D(()=>[r("img",{src:s.course.media[0].url.default,alt:s.course.media[0].alt,class:"w-full h-full object-cover rounded-lg"},null,8,Ut)]),_:1},8,["lesson","lessonProgress"])):E("",!0),r("div",Dt,[g(b(Be),null,{default:D(({open:C})=>[g(b(Ae),{class:"flex justify-between bg-dark-200 text-white font-bold text-4xl p-3 rounded-lg w-full text-left hover:bg-dark-blue-200 hover:text-accent"},{default:D(()=>[a[9]||(a[9]=r("span",null,"About This Episode",-1)),g(we,{componentId:"chevronDown"})]),_:1}),g(b($e),{class:"p-2 bg-dark-blue-100"},{default:D(()=>[r("div",{class:"mb-8 text-lg font-normal text-neutral fancy-editor",innerHTML:s.current_lesson.data.description},null,8,Ht)]),_:1})]),_:1}),s.current_lesson.data.resources&&s.current_lesson.data.resources.length>0?(k(),X(b(Be),{key:0,as:"div",class:"mt-3 mb-5"},{default:D(()=>[g(b(Ae),{as:"button",class:"flex items-center justify-between bg-dark-200 text-white font-bold text-2xl p-3 rounded-lg w-full text-left hover:bg-dark-blue-200 hover:text-accent transition-all duration-200"},{default:D(()=>[a[10]||(a[10]=r("span",null,"Lesson Resources",-1)),g(we,{componentId:"chevronDown"})]),_:1}),g(b($e),{as:"div",class:"p-2 bg-dark-300 rounded-lg"},{default:D(()=>[r("div",Wt,[(k(!0),P(je,null,Ye(s.current_lesson.data.resources,(C,t)=>(k(),P("div",{key:t,class:"flex items-center gap-4 bg-dark-blue-500 p-4 rounded-lg hover:bg-dark-blue-300 transition-all duration-300"},[r("div",Zt,[C.resource_type==="link"?(k(),P("svg",zt,a[11]||(a[11]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 10.5L21 3m0 0h-6m6 0v6"},null,-1)]))):C.resource_type==="file"?(k(),P("svg",qt,a[12]||(a[12]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v15m0 0-3-3m3 3 3-3M6 6h12"},null,-1)]))):E("",!0)]),r("div",Gt,[r("h3",Qt,$(C.title),1),C.description?(k(),P("p",Jt,$(C.description),1)):E("",!0)]),r("div",null,[r("a",{onClick:e=>me(C),target:"_blank",class:"btn btn-sm btn-outline text-blue-400 border-blue-400 hover:text-white hover:bg-blue-400 transition-all duration-200"}," Download ",8,Xt)])]))),128))])]),_:1})]),_:1})):E("",!0)]),g(Le,{class:"mt-4",admin:(de=s.course_instructor)==null?void 0:de.data},null,8,["admin"]),g(Ge,{modelId:s.current_lesson.data.id,modelClass:"lesson"},null,8,["modelId"])])):E("",!0),g(st,{relatedCourses:s.relatedCourses,onOpenCourse:K},null,8,["relatedCourses"])])])):(k(),P("section",Yt,[r("div",Kt,[r("div",er,[r("figure",null,[r("img",{alt:Y.value.alt,src:Y.value.src},null,8,tr)]),r("div",rr,[r("h2",sr,$(s.course.title),1),r("div",{class:"generic-content font-bold text-xl text-neutral",innerHTML:s.course.short_description},null,8,or),r("div",nr,[r("a",{onClick:ue,href:"#",class:"inline-flex items-center justify-center h-16 px-10 py-0 text-xl font-semibold text-center text-gray-200 no-underline align-middle transition-all duration-300 ease-in-out bg-transparent border-2 border-white-600 border-solid rounded-full cursor-pointer select-none hover:text-primary hover:bg-accent hover:border-secondary focus:shadow-xs focus:no-underline w-full"},[r("div",ar,[r("div",lr,[g(we,{componentId:"play"})])])])])])]),g(nt,{course:s.course},null,8,["course"]),g(Le,{class:"mt-4",admin:(ce=s.course_instructor)==null?void 0:ce.data},null,8,["admin"])])])),g(ot,{onOpenSidebar:a[3]||(a[3]=C=>re(h)?h.value=!0:h=!0)})]}),_:1},8,["displayLogin","displaySubscription","displayLoading"]))}};export{Zr as default};
