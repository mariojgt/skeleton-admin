import{Q as V}from"./Input.vue_vue_type_style_index_0_scoped_a29b7091_lang-D6UNG1tr.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as g,v as c,q as O,ak as R,k as j,B as v,h as _,F as q,o as w,g as C,d as f,t as y,e as A,w as F,n as T,u as p,i as M,p as z}from"./index-DQfThwAa.js";import{i as G,o as H,E as Q,A as J,T as W,a as B}from"./keyboard-ClX3uzSK.js";import{s as X}from"./use-resolve-button-type-rIUKilHP.js";import{f as Y,u as Z}from"./hidden-CmFwULki.js";function ee(l,s,a){let r=g(a==null?void 0:a.value),t=c(()=>l.value!==void 0);return[c(()=>t.value?l.value:r.value),function(n){return t.value||(r.value=n),s==null?void 0:s(n)}]}function le(l){var s,a;let r=(s=l==null?void 0:l.form)!=null?s:l.closest("form");if(r){for(let t of r.elements)if(t!==l&&(t.tagName==="INPUT"&&t.type==="submit"||t.tagName==="BUTTON"&&t.type==="submit"||t.nodeName==="INPUT"&&t.type==="image")){t.click();return}(a=r.requestSubmit)==null||a.call(r)}}let te=Symbol("GroupContext"),ae=O({name:"Switch",emits:{"update:modelValue":l=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(l,{emit:s,attrs:a,slots:r,expose:t}){var n;let u=(n=l.id)!=null?n:`headlessui-switch-${G()}`,o=R(te,null),[d,h]=ee(c(()=>l.modelValue),e=>s("update:modelValue",e),c(()=>l.defaultChecked));function k(){h(!d.value)}let N=g(null),m=o===null?N:o.switchRef,$=X(c(()=>({as:l.as,type:a.type})),m);t({el:m,$el:m});function E(e){e.preventDefault(),k()}function I(e){e.key===B.Space?(e.preventDefault(),k()):e.key===B.Enter&&le(e.currentTarget)}function D(e){e.preventDefault()}let b=c(()=>{var e,i;return(i=(e=H(m))==null?void 0:e.closest)==null?void 0:i.call(e,"form")});return j(()=>{v([b],()=>{if(!b.value||l.defaultChecked===void 0)return;function e(){h(l.defaultChecked)}return b.value.addEventListener("reset",e),()=>{var i;(i=b.value)==null||i.removeEventListener("reset",e)}},{immediate:!0})}),()=>{let{name:e,value:i,form:P,tabIndex:x,...S}=l,U={checked:d.value},K={id:u,ref:m,role:"switch",type:$.value,tabIndex:x===-1?0:x,"aria-checked":d.value,"aria-labelledby":o==null?void 0:o.labelledby.value,"aria-describedby":o==null?void 0:o.describedby.value,onClick:E,onKeyup:I,onKeypress:D};return _(q,[e!=null&&d.value!=null?_(Y,Q({features:Z.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:d.value,form:P,disabled:S.disabled,name:e,value:i})):null,J({ourProps:K,theirProps:{...a,...W(S,["modelValue","defaultChecked"])},slot:U,attrs:a,slots:r,name:"Switch"})])}}});const ne={class:"fieldset p-4 bg-base-100 border border-base-300 rounded-box w-64"},re={class:"fieldset-legend text-lg font-bold"},oe={class:"fieldset-label flex items-center space-x-2"},ue={key:0,class:"invalid-feedback text-primary mt-1 block",role:"alert"},se={__name:"Toggle",props:{label:String,name:String,id:String,placeholder:String,modelValue:Boolean,class:String},emits:["update:modelValue"],setup(l,{emit:s}){const a=l,r=s;let t=g(null),n=g(!!a.modelValue);return v(()=>{var u;return(u=V().props)==null?void 0:u.errors},u=>{t.value=V().props.errors[a.name]||null}),v(()=>a.modelValue,u=>{n.value=u}),v(n,u=>{r("update:modelValue",u)}),(u,o)=>(w(),C("fieldset",ne,[f("legend",re,y(a.label),1),f("label",oe,[A(p(ae),{modelValue:p(n),"onUpdate:modelValue":o[0]||(o[0]=d=>M(n)?n.value=d:n=d),class:T([p(n)?"bg-primary":"bg-gray-200","relative inline-flex h-6 w-11 items-center rounded-full"])},{default:F(()=>[o[1]||(o[1]=f("span",{class:"sr-only"},"Toggle",-1)),f("span",{class:T([p(n)?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition"])},null,2)]),_:1},8,["modelValue","class"]),f("span",null,y(a.placeholder),1)]),p(t)?(w(),C("span",ue,[f("strong",null,y(p(t)),1)])):z("",!0)]))}},be=L(se,[["__scopeId","data-v-1fefaf54"]]);export{be as T};
