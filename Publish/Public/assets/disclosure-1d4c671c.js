import{I as P,u as k,o as d,A as D,s as N,N as h,a as v}from"./keyboard-9b719613.js";import{au as m,aV as O,g as C,a as c,z as S,q as $,aS as w,bB as H}from"./preset-8daa11fd.js";let B=Symbol("Context");var f=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(f||{});function A(){return E()!==null}function E(){return m(B,null)}function L(e){O(B,e)}var U=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(U||{});let x=Symbol("DisclosureContext");function I(e){let o=m(x,null);if(o===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,I),r}return o}let T=Symbol("DisclosurePanelContext");function V(){return m(T,null)}let Q=C({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:o,attrs:r}){let s=c(e.defaultOpen?0:1),l=c(null),i=c(null),n={buttonId:c(`headlessui-disclosure-button-${P()}`),panelId:c(`headlessui-disclosure-panel-${P()}`),disclosureState:s,panel:l,button:i,toggleDisclosure(){s.value=k(s.value,{0:1,1:0})},closeDisclosure(){s.value!==1&&(s.value=1)},close(t){n.closeDisclosure();let u=(()=>t?t instanceof HTMLElement?t:t.value instanceof HTMLElement?d(t):d(n.button):d(n.button))();u==null||u.focus()}};return O(x,n),L(S(()=>k(s.value,{0:f.Open,1:f.Closed}))),()=>{let{defaultOpen:t,...u}=e,p={open:s.value===0,close:n.close};return D({theirProps:u,ourProps:{},slot:p,slots:o,attrs:r,name:"Disclosure"})}}}),R=C({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:o,slots:r,expose:s}){let l=I("DisclosureButton"),i=V(),n=S(()=>i===null?!1:i.value===l.panelId.value);$(()=>{n.value||e.id!==null&&(l.buttonId.value=e.id)}),w(()=>{n.value||(l.buttonId.value=null)});let t=c(null);s({el:t,$el:t}),n.value||H(()=>{l.button.value=t.value});let u=N(S(()=>({as:e.as,type:o.type})),t);function p(){var a;e.disabled||(n.value?(l.toggleDisclosure(),(a=d(l.button))==null||a.focus()):l.toggleDisclosure())}function b(a){var g;if(!e.disabled)if(n.value)switch(a.key){case v.Space:case v.Enter:a.preventDefault(),a.stopPropagation(),l.toggleDisclosure(),(g=d(l.button))==null||g.focus();break}else switch(a.key){case v.Space:case v.Enter:a.preventDefault(),a.stopPropagation(),l.toggleDisclosure();break}}function y(a){switch(a.key){case v.Space:a.preventDefault();break}}return()=>{var a;let g={open:l.disclosureState.value===0},{id:j,...K}=e,M=n.value?{ref:t,type:u.value,onClick:p,onKeydown:b}:{id:(a=l.buttonId.value)!=null?a:j,ref:t,type:u.value,"aria-expanded":l.disclosureState.value===0,"aria-controls":l.disclosureState.value===0||d(l.panel)?l.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:p,onKeydown:b,onKeyup:y};return D({ourProps:M,theirProps:K,slot:g,attrs:o,slots:r,name:"DisclosureButton"})}}}),F=C({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:o,slots:r,expose:s}){let l=I("DisclosurePanel");$(()=>{e.id!==null&&(l.panelId.value=e.id)}),w(()=>{l.panelId.value=null}),s({el:l.panel,$el:l.panel}),O(T,l.panelId);let i=E(),n=S(()=>i!==null?(i.value&f.Open)===f.Open:l.disclosureState.value===0);return()=>{var t;let u={open:l.disclosureState.value===0,close:l.close},{id:p,...b}=e,y={id:(t=l.panelId.value)!=null?t:p,ref:l.panel};return D({ourProps:y,theirProps:b,slot:u,attrs:o,slots:r,features:h.RenderStrategy|h.Static,visible:n.value,name:"DisclosurePanel"})}}});export{Q as N,R as Q,F as V,f as i,E as l,A as s,L as t};
