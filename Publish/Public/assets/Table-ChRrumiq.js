import{s as ee}from"./index-Dv4gq3Lz.js";import{q as X,a as S,E as bt,g as o,o as s,e,p as D,t as $,y as Y,z as ne,u as y,i as lt,F as T,A as H,G as de,B as Q,k as xe,l as q,v as O,C as gt,d as h,n as L,b as K,H as te,s as xt,f as he,T as oe,w as W,I as kt,D as ye,J as wt,L as ge,M as _t,j as Ue,S as Ie}from"./index-B0GHcI27.js";import{c as j,F as at,T as Te,a as nt,I as Ae,S as Ee}from"./App-CaKBlvLl.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{Q as be,p as me,m as Pe,T as $t,I as fe}from"./Input.vue_vue_type_style_index_0_scoped_a29b7091_lang-BKywS0hb.js";import{_ as Ct}from"./Password-MDKjvgYC.js";import{_ as Mt}from"./Select.vue_vue_type_script_setup_true_lang-HYEyzWWR.js";import{T as ze,_ as St}from"./Chips.vue_vue_type_script_setup_true_lang-C4UItTnF.js";import{t as re,c as Oe,n as ke,s as qe,g as Be,a as Dt,e as Vt,m as Re,b as we,f as ue}from"./format-CzROIt5r.js";const It={class:"form-control"},jt={class:"label"},Ft={class:"text-lg font-bold text-base-content"},Lt={class:"relative mb-4"},Tt=["name","id","placeholder"],At={key:0,class:"alert alert-error mb-4"},Ot={key:1,class:"card bg-base-100 shadow-xl mb-6"},Ht={class:"card-body p-6"},Ut={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},Et=["onClick"],Pt={class:"relative pt-4 px-4"},zt=["src","alt"],qt={class:"card-body p-4 text-center"},Bt={class:"font-bold text-lg mb-2 truncate"},Rt={key:2,class:"card bg-base-100 shadow-xl"},Nt={class:"card-body p-6"},Kt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},Yt={class:"relative pt-4 px-4"},Wt=["src","alt"],Jt={class:"card-body p-4 text-center"},Xt={class:"font-bold text-lg mb-2 truncate"},Qt=["onClick"],Gt=X({__name:"Image",props:{label:{},name:{},id:{},placeholder:{},modelValue:{},endpoint:{},loadData:{}},emits:["update:modelValue"],setup(d,{emit:p}){const a=d;let g=S(""),r=S({data:[]}),u=S(a.modelValue||[]),b=S(null);bt(()=>{u.value=a.loadData||[]});const l=p,i=()=>{de.post(a.endpoint,{search:g.value}).then(_=>{r.value=_.data}).catch(_=>{b.value=_.message})},m=_=>{u.value.find(c=>c.id===_.id)||(u.value.push(_),l("update:modelValue",u.value)),r.value={data:[]}},I=_=>{u.value.splice(_,1),l("update:modelValue",u.value)};return(_,c)=>(s(),o("div",It,[e("label",jt,[e("span",Ft,$(a.label),1)]),e("div",Lt,[c[1]||(c[1]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),Y(e("input",{class:"input input-primary input-bordered w-full pl-10",name:a.name,id:a.id,placeholder:a.placeholder,"onUpdate:modelValue":c[0]||(c[0]=t=>lt(g)?g.value=t:g=t),autocomplete:"off",onKeyup:i},null,40,Tt),[[ne,y(g)]])]),y(b)?(s(),o("div",At,[c[2]||(c[2]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,$(y(b)),1)])):D("",!0),y(r).data[0]?(s(),o("div",Ot,[c[5]||(c[5]=e("div",{class:"card-header px-6 py-4 bg-primary text-primary-content flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("strong",{class:"text-xl"},"Available Items")],-1)),e("div",Ht,[e("div",Ut,[(s(!0),o(T,null,H(y(r).data,(t,n)=>(s(),o("div",{key:t.id,class:"card bg-base-200 hover:bg-base-300 transition-all duration-300 cursor-pointer group",onClick:f=>m(t)},[e("figure",Pt,[e("img",{src:t.url.default,alt:t.name,class:"h-60 w-full object-cover rounded-xl"},null,8,zt),c[3]||(c[3]=e("div",{class:"absolute inset-0 bg-success/0 group-hover:bg-success/10 transition-all duration-300 rounded-xl"},null,-1))]),e("div",qt,[e("h3",Bt,$(t.name),1),c[4]||(c[4]=e("button",{class:"btn btn-success btn-sm w-full gap-2 group-hover:btn-active"},[e("span",null,"Select"),e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1))])],8,Et))),128))])])])):D("",!0),y(u).length>0?(s(),o("div",Rt,[c[8]||(c[8]=e("div",{class:"card-header px-6 py-4 bg-secondary text-secondary-content flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),e("strong",{class:"text-xl"},"Selected Items")],-1)),e("div",Nt,[e("div",Kt,[(s(!0),o(T,null,H(y(u),(t,n)=>(s(),o("div",{key:t.id,class:"card bg-base-200 group"},[e("figure",Yt,[e("img",{src:t.url.default,alt:t.name,class:"h-60 w-full object-cover rounded-xl"},null,8,Wt),c[6]||(c[6]=e("div",{class:"absolute inset-0 bg-error/0 group-hover:bg-error/10 transition-all duration-300 rounded-xl"},null,-1))]),e("div",Jt,[e("h3",Xt,$(t.name),1),e("button",{onClick:f=>I(n),class:"btn btn-error btn-sm w-full gap-2 group-hover:btn-active"},c[7]||(c[7]=[e("span",null,"Remove",-1),e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Qt)])]))),128))])])])):D("",!0)]))}}),Zt={class:"form-control"},es={class:"label"},ts={class:"block text-lg font-bold mb-2"},ss={class:"relative"},ls=["name","id","placeholder"],as={key:0,class:"invalid-feedback text-primary mt-1 block",role:"alert"},ns={key:1,class:"mt-3 rounded-lg overflow-hidden border border-base-300 bg-base-100 shadow-lg"},os={class:"p-2 space-y-2"},rs=["onClick"],is={class:"text-xl font-bold text-black"},ds={key:2,class:"mt-3 rounded-lg overflow-hidden border border-base-300 bg-base-100 shadow-lg"},cs={class:"p-2 space-y-2"},us={class:"text-xl font-bold"},ps=["onClick"],Ne={__name:"TextMultipleSelector",props:{label:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:String,default:""},model:{type:String,default:""},columns:{type:Object,default:null},endpoint:{type:String,default:""},loadData:{type:Object,default:null},singleMode:{type:Boolean,default:!1},displayKey:{type:String,default:"name"}},emits:["update:modelValue"],setup(d,{emit:p}){let a=S(null),g=S(""),r=S([]),u=S([]);Q(()=>{var _;return(_=be().props)==null?void 0:_.errors},_=>{be().props.errors[b.name]&&(a.value=be().props.errors[b.name])});const b=d,l=p,i=async()=>{de.post(b.endpoint,{search:g.value,model:b.model,columns:b.columns}).then(function(_){r.value=_.data}).catch(function(_){for(const[c,t]of Object.entries(_.response.data.errors))message.error(t[0])})},m=_=>{b.singleMode&&(u.value=[]),Array.isArray(u.value)||(u.value=[]),u.value.findIndex(c=>c.id===_.id)===-1&&u.value.push({id:_.id,[b.displayKey]:_[b.displayKey]}),r.value=[],l("update:modelValue",u.value)},I=_=>{u.value.splice(_,1),l("update:modelValue",u.value)};return xe(()=>{b.loadData&&(b.singleMode?u.value=[b.loadData]:u.value=b.loadData)}),(_,c)=>(s(),o("div",Zt,[e("label",es,[e("span",ts,$(b.label),1)]),e("div",ss,[Y(e("input",{class:"input input-primary input-bordered w-full pl-10",name:b.name,id:b.id,placeholder:b.placeholder,autocomplete:"off","onUpdate:modelValue":c[0]||(c[0]=t=>lt(g)?g.value=t:g=t),onKeyup:i},null,40,ls),[[ne,y(g)]]),c[1]||(c[1]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-primary",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1))]),y(a)?(s(),o("span",as,[e("strong",null,$(y(a)),1)])):D("",!0),y(r).data?(s(),o("div",ns,[c[3]||(c[3]=e("div",{class:"px-4 py-3 text-xl font-bold bg-primary text-white"},[e("strong",{class:"flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})]),q(" Available Items ")])],-1)),e("div",os,[(s(!0),o(T,null,H(y(r).data,(t,n)=>(s(),o("div",{key:t.id,onClick:f=>m(t),class:"flex justify-between items-center p-3 bg-white rounded-lg border border-base-200 hover:bg-secondary hover:border-secondary hover:text-white transition-all duration-200 cursor-pointer"},[e("p",is,$(t[b.displayKey]),1),c[2]||(c[2]=e("div",{class:"btn btn-circle btn-success btn-sm"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])],-1))],8,rs))),128))])])):D("",!0),y(u).length>0?(s(),o("div",ds,[c[5]||(c[5]=e("div",{class:"px-4 py-3 text-xl font-bold bg-secondary text-white"},[e("strong",{class:"flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),q(" Selected Items ")])],-1)),e("div",cs,[(s(!0),o(T,null,H(y(u),(t,n)=>(s(),o("div",{key:t.id,class:"flex justify-between items-center p-3 bg-white rounded-lg border border-base-200 hover:bg-base-200 transition-all duration-200"},[e("p",us,$(t[b.displayKey]),1),e("div",{class:"btn btn-circle btn-error btn-sm",onClick:f=>I(n)},c[4]||(c[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,ps)]))),128))])])):D("",!0)]))}};/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=j("AlignCenterIcon",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=j("AlignJustifyIcon",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=j("AlignLeftIcon",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=j("AlignRightIcon",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=j("ArrowDownIcon",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=j("ArrowUpDownIcon",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=j("ArrowUpIcon",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=j("BoldIcon",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=j("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=j("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=j("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=j("ChevronLeftIcon",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=j("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=j("ChevronUpIcon",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=j("CircleHelpIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=j("CirclePlusIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=j("CodeIcon",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=j("DatabaseIcon",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=j("DollarSignIcon",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=j("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=j("EyeOffIcon",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=j("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=j("FileCodeIcon",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=j("FileJsonIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=j("FilePenIcon",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=j("FilterIcon",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=j("HashIcon",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=j("ImageIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=j("ItalicIcon",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=j("LinkIcon",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=j("ListFilterIcon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=j("ListOrderedIcon",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=j("ListIcon",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=j("NavigationIcon",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=j("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=j("QuoteIcon",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=j("RotateCcwIcon",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=j("SaveIcon",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=j("ShieldAlertIcon",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=j("SlidersHorizontalIcon",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=j("StarIcon",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=j("StrikethroughIcon",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=j("TableIcon",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=j("TagIcon",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=j("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=j("TypeIcon",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=j("UnderlineIcon",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=j("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Us={class:"form-control"},Es=["for"],Ps={class:"flex items-center justify-end mb-2"},zs={class:"flex flex-wrap items-center gap-2 p-3 bg-gray-50 border rounded-t-lg"},qs={class:"flex-shrink-0"},Bs={class:"flex gap-1"},Rs=["onClick","title"],Ns={class:"flex gap-1"},Ks=["onClick","title"],Ys={class:"flex gap-1"},Ws=["onClick","title"],Js={key:1,class:"flex gap-1"},Xs=["onClick","title"],Qs=["id","placeholder"],Gs=["innerHTML"],Zs={key:1,class:"mt-1 text-sm text-gray-500 text-right"},el=X({__name:"Input",props:{label:{},name:{},id:{},placeholder:{default:""},modelValue:{},messageClass:{default:"text-red-500 text-sm mt-1"},labelClass:{default:"block text-lg font-bold mb-2"},inputClass:{default:"border border-gray-300 rounded-b-lg"},required:{type:Boolean,default:!1},minLength:{},maxLength:{}},emits:["update:modelValue","blur"],setup(d,{emit:p}){const a=d,g=p,r=S(null),u=S(null),b=be(),l=S(!1),i=S(!1),m=S(!1),I=[{command:"bold",icon:je,title:"Bold"},{command:"italic",icon:Ye,title:"Italic"},{command:"underline",icon:Hs,title:"Underline"},{command:"strikeThrough",icon:Ts,title:"Strike Through"},{command:"createLink",icon:We,title:"Insert Link"},{command:"code",icon:Ke,title:"Code"},{command:"blockquote",icon:Je,title:"Quote"}],_=[{command:"insertUnorderedList",icon:ct,title:"Bullet List"},{command:"insertOrderedList",icon:Is,title:"Numbered List"}],c=[{command:"justifyLeft",icon:fs,title:"Align Left"},{command:"justifyCenter",icon:vs,title:"Align Center"},{command:"justifyRight",icon:hs,title:"Align Right"},{command:"justifyFull",icon:ms,title:"Justify"}],t=[{command:"bold",icon:je,title:"Bold",syntax:{prefix:"**",suffix:"**"}},{command:"italic",icon:Ye,title:"Italic",syntax:{prefix:"_",suffix:"_"}},{command:"heading",icon:je,title:"Heading",syntax:{prefix:"# ",suffix:""}},{command:"link",icon:We,title:"Link",syntax:{prefix:"[",suffix:"](url)"}},{command:"code",icon:Ke,title:"Code",syntax:{prefix:"`",suffix:"`"}},{command:"quote",icon:Je,title:"Quote",syntax:{prefix:"> ",suffix:""}},{command:"togglePreview",icon:_e,title:"Toggle Preview"}],n=O(()=>{var M;return r.value&&((M=r.value.textContent)==null?void 0:M.length)||0}),f=O(()=>r.value?me.sanitize(Pe(r.value.textContent||"")):""),C=()=>{l.value||!r.value||(g("update:modelValue",r.value.innerHTML),le())},k=(M,A=null)=>{if(r.value){if(M==="toggleMode"){v();return}if(M==="togglePreview"){m.value=!m.value;return}r.value.focus();try{if(i.value)x(M);else if(M==="createLink"){const F=prompt("Enter URL:");F&&document.execCommand(M,!1,F)}else M==="formatBlock"?document.execCommand(M,!1,`<${A}>`):document.execCommand(M,!1,A);C()}catch(F){console.error("Format error:",F)}}},x=M=>{if(!r.value)return;const A=t.find(ie=>ie.command===M);if(!(A!=null&&A.syntax))return;const{prefix:F,suffix:V}=A.syntax,U=window.getSelection(),z=U==null?void 0:U.getRangeAt(0);if(!z)return;const N=z.toString(),J=F+N+V;document.execCommand("insertText",!1,J)},v=async()=>{if(!r.value)return;const M=r.value.innerHTML;if(i.value=!i.value,i.value){const F=new $t().turndown(M);r.value.innerHTML=F}else{const A=Pe(M);r.value.innerHTML=me.sanitize(A)}C()},w=M=>document.queryCommandState(M),B=M=>{var V,U;M.preventDefault();const A=(V=M.clipboardData)==null?void 0:V.getData("text/html"),F=(U=M.clipboardData)==null?void 0:U.getData("text/plain");if(i.value)F&&document.execCommand("insertText",!1,F);else if(A){const z=me.sanitize(A,{ALLOWED_TAGS:["p","b","i","em","strong","a","ul","ol","li","br","h1","h2","h3","h4","h5","h6"],ALLOWED_ATTR:["href"]});document.execCommand("insertHTML",!1,z)}else F&&document.execCommand("insertText",!1,F);C()},G=M=>{g("blur",M),le()},le=()=>{var A;u.value=null;const M=((A=r.value)==null?void 0:A.textContent)||"";if(a.required&&!M.trim()){u.value=`${a.label} is required`;return}if(a.minLength&&M.length<a.minLength){u.value=`Minimum length is ${a.minLength} characters`;return}if(a.maxLength&&M.length>a.maxLength){u.value=`Maximum length is ${a.maxLength} characters`;return}},ce=()=>{if(!r.value)return;const M=()=>{l.value=!0},A=()=>{l.value=!1,C()};return r.value.addEventListener("compositionstart",M),r.value.addEventListener("compositionend",A),a.modelValue&&(r.value.innerHTML=me.sanitize(a.modelValue)),!a.modelValue&&a.placeholder&&(r.value.innerHTML=`<p class="text-gray-400">${a.placeholder}</p>`),()=>{r.value&&(r.value.removeEventListener("compositionstart",M),r.value.removeEventListener("compositionend",A))}};return Q(()=>a.modelValue,M=>{if(!r.value||l.value)return;const A=r.value.innerHTML;if(M!==A){const F=window.getSelection(),V=F==null?void 0:F.getRangeAt(0);r.value.innerHTML=me.sanitize(M||""),V&&F&&(F.removeAllRanges(),F.addRange(V))}}),Q(()=>b.props.errors,M=>{M&&M[a.name]?u.value=M[a.name]:u.value=null},{deep:!0}),xe(()=>{const M=ce();gt(()=>M==null?void 0:M())}),(M,A)=>(s(),o("div",Us,[e("label",{for:M.id,class:"label"},[e("span",{class:L(M.labelClass)},$(M.label),3)],8,Es),e("div",Ps,[e("button",{onClick:A[0]||(A[0]=F=>k("toggleMode")),class:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary transition-colors"},[(s(),K(te(i.value?y(Cs):y(at)),{class:"w-4 h-4"})),e("span",null,$(i.value?"Switch to HTML":"Switch to Markdown"),1)])]),e("div",zs,[i.value?(s(),o("div",Js,[(s(),o(T,null,H(t,(F,V)=>e("button",{key:V,onClick:he(U=>k(F.command),["prevent"]),title:F.title,class:"p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary"},[(s(),K(te(F.icon),{class:"w-4 h-4"}))],8,Xs)),64))])):(s(),o(T,{key:0},[e("div",qs,[e("select",{onChange:A[1]||(A[1]=F=>k("formatBlock",F.target.value)),class:"px-3 py-1.5 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary"},A[2]||(A[2]=[xt('<option value="p" data-v-ed8cce78>Paragraph</option><option value="h1" data-v-ed8cce78>Heading 1</option><option value="h2" data-v-ed8cce78>Heading 2</option><option value="h3" data-v-ed8cce78>Heading 3</option><option value="h4" data-v-ed8cce78>Heading 4</option><option value="h5" data-v-ed8cce78>Heading 5</option><option value="h6" data-v-ed8cce78>Heading 6</option>',7)]),32)]),A[3]||(A[3]=e("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e("div",Bs,[(s(),o(T,null,H(I,(F,V)=>e("button",{key:V,onClick:he(U=>k(F.command),["prevent"]),title:F.title,class:L(["p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary",{"bg-gray-100 text-primary border-primary":w(F.command)}])},[(s(),K(te(F.icon),{class:"w-4 h-4"}))],10,Rs)),64))]),A[4]||(A[4]=e("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e("div",Ns,[(s(),o(T,null,H(_,(F,V)=>e("button",{key:V,onClick:he(U=>k(F.command),["prevent"]),title:F.title,class:L(["p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary",{"bg-gray-100 text-primary border-primary":w(F.command)}])},[(s(),K(te(F.icon),{class:"w-4 h-4"}))],10,Ks)),64))]),A[5]||(A[5]=e("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e("div",Ys,[(s(),o(T,null,H(c,(F,V)=>e("button",{key:V,onClick:he(U=>k(F.command),["prevent"]),title:F.title,class:L(["p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary",{"bg-gray-100 text-primary border-primary":w(F.command)}])},[(s(),K(te(F.icon),{class:"w-4 h-4"}))],10,Ws)),64))])],64))]),e("div",{ref_key:"editorRef",ref:r,id:M.id,contenteditable:"true",spellcheck:"true",dir:"ltr",placeholder:M.placeholder,onInput:C,onPaste:B,onBlur:G,class:L([M.inputClass,"min-h-[200px] max-h-[600px] overflow-y-auto p-4 focus:outline-none",{error:u.value},{"font-mono":i.value}])},null,42,Qs),i.value&&m.value?(s(),o("div",{key:0,class:"mt-4 p-4 border rounded-lg prose max-w-none",innerHTML:f.value},null,8,Gs)):D("",!0),M.maxLength?(s(),o("div",Zs,$(n.value)+" / "+$(M.maxLength)+" characters ",1)):D("",!0),h(oe,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:W(()=>[u.value?(s(),o("span",{key:0,class:L(M.messageClass),role:"alert","aria-live":"polite"},[e("strong",null,$(u.value),1)],2)):D("",!0)]),_:1})]))}}),tl=se(el,[["__scopeId","data-v-ed8cce78"]]);function Ce(d,p){const a=+re(d)-+re(p);return a<0?-1:a>0?1:a}function vt(d){return Oe(d,Date.now())}function mt(d,p,a){const[g,r]=ke(a==null?void 0:a.in,d,p);return+qe(g)==+qe(r)}function sl(d,p,a){const[g,r]=ke(a==null?void 0:a.in,d,p),u=g.getFullYear()-r.getFullYear(),b=g.getMonth()-r.getMonth();return u*12+b}function ll(d){return p=>{const g=(d?Math[d]:Math.trunc)(p);return g===0?0:g}}function al(d,p){return+re(d)-+re(p)}function nl(d,p){const a=re(d,p==null?void 0:p.in);return a.setHours(23,59,59,999),a}function ft(d,p){const a=re(d,p==null?void 0:p.in),g=a.getMonth();return a.setFullYear(a.getFullYear(),g+1,0),a.setHours(23,59,59,999),a}function ol(d,p){const a=re(d,p==null?void 0:p.in);return+nl(a,p)==+ft(a,p)}function rl(d,p,a){const[g,r,u]=ke(a==null?void 0:a.in,d,d,p),b=Ce(r,u),l=Math.abs(sl(r,u));if(l<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-b*l);let i=Ce(r,u)===-b;ol(g)&&l===1&&Ce(g,u)===1&&(i=!1);const m=b*(l-+i);return m===0?0:m}function il(d,p,a){const g=al(d,p)/1e3;return ll(a==null?void 0:a.roundingMethod)(g)}function dl(d,p){const[a,g]=ke(d,p.start,p.end);return{start:a,end:g}}function cl(d,p){const{start:a,end:g}=dl(p==null?void 0:p.in,d);let r=+a>+g;const u=r?+a:+g,b=r?g:a;b.setHours(0,0,0,0);let l=1;const i=[];for(;+b<=u;)i.push(Oe(a,b)),b.setDate(b.getDate()+l),b.setHours(0,0,0,0);return r?i.reverse():i}function ul(d,p){const a=re(d,p==null?void 0:p.in);return a.setDate(1),a.setHours(0,0,0,0),a}function pl(d,p,a){const g=Dt(),r=(a==null?void 0:a.locale)??g.locale??Vt,u=2520,b=Ce(d,p);if(isNaN(b))throw new RangeError("Invalid time value");const l=Object.assign({},a,{addSuffix:a==null?void 0:a.addSuffix,comparison:b}),[i,m]=ke(a==null?void 0:a.in,...b>0?[p,d]:[d,p]),I=il(m,i),_=(Be(m)-Be(i))/1e3,c=Math.round((I-_)/60);let t;if(c<2)return a!=null&&a.includeSeconds?I<5?r.formatDistance("lessThanXSeconds",5,l):I<10?r.formatDistance("lessThanXSeconds",10,l):I<20?r.formatDistance("lessThanXSeconds",20,l):I<40?r.formatDistance("halfAMinute",0,l):I<60?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",1,l):c===0?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",c,l);if(c<45)return r.formatDistance("xMinutes",c,l);if(c<90)return r.formatDistance("aboutXHours",1,l);if(c<Re){const n=Math.round(c/60);return r.formatDistance("aboutXHours",n,l)}else{if(c<u)return r.formatDistance("xDays",1,l);if(c<we){const n=Math.round(c/Re);return r.formatDistance("xDays",n,l)}else if(c<we*2)return t=Math.round(c/we),r.formatDistance("aboutXMonths",t,l)}if(t=rl(m,i),t<12){const n=Math.round(c/we);return r.formatDistance("xMonths",n,l)}else{const n=t%12,f=Math.trunc(t/12);return n<3?r.formatDistance("aboutXYears",f,l):n<9?r.formatDistance("overXYears",f,l):r.formatDistance("almostXYears",f+1,l)}}function vl(d,p){return pl(d,vt(d),p)}function ml(d,p){return mt(Oe(d,d),vt(d))}const fl={class:"form-control"},hl=["for"],yl=["id","name"],bl={class:"relative"},gl={class:"flex items-center gap-2"},xl={class:"text-gray-700"},kl={key:0,class:"absolute z-50 w-full mt-1 bg-white border rounded-lg shadow-lg"},wl={class:"p-4 space-y-4"},_l={class:"flex items-center justify-between mb-4"},$l={class:"flex items-center gap-2"},Cl={class:"flex gap-1"},Ml={key:0,class:"absolute top-16 left-4 bg-white border rounded-lg shadow-lg p-2 z-10"},Sl={class:"grid grid-cols-4 gap-1 max-h-48 overflow-y-auto"},Dl=["onClick"],Vl={key:1,class:"absolute top-16 left-24 bg-white border rounded-lg shadow-lg p-2 z-10"},Il={class:"grid grid-cols-3 gap-1"},jl=["onClick"],Fl={class:"grid grid-cols-7 mb-1"},Ll={class:"grid grid-cols-7 gap-1"},Tl=["onClick"],Al={key:0,class:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-primary rounded-full"},Ol={class:"flex items-center justify-center gap-4 pt-4 border-t"},Hl={class:"flex items-center gap-2 bg-gray-50 p-2 rounded-lg"},Ul=["value"],El=["value"],Pl={class:"flex flex-wrap gap-2 pt-3 border-t"},zl=["onClick"],ql=X({__name:"Input",props:{label:{},name:{},id:{},placeholder:{default:""},modelValue:{},messageClass:{default:"text-red-500 text-sm mt-1"},labelClass:{default:"block text-lg font-bold mb-2"},inputClass:{default:"input input-primary input-bordered w-full"},required:{type:Boolean,default:!1},min:{},max:{}},emits:["update:modelValue","blur"],setup(d,{emit:p}){const a=d,g=p,r=S(!1),u=S(!1),b=S(!1),l=S(new Date),i=S(null),m=S(0),I=S(0),_=S(null),c=be(),t=[{label:"Now",value:new Date},{label:"Start of Day",value:new Date().setHours(0,0,0,0)},{label:"End of Day",value:new Date().setHours(23,59,59,999)},{label:"Tomorrow",value:new Date().setDate(new Date().getDate()+1)}],n=["Su","Mo","Tu","We","Th","Fr","Sa"],f=Array.from({length:60},(E,R)=>R),C=["January","February","March","April","May","June","July","August","September","October","November","December"],k=O(()=>{const E=new Date().getFullYear();return Array.from({length:100},(R,Ve)=>E-50+Ve)}),x=O(()=>ue(l.value,"MMMM")),v=O(()=>l.value.getFullYear()),w=O(()=>{const E=ul(l.value),R=ft(l.value);return cl({start:E,end:R})}),B=O({get:()=>a.modelValue,set:E=>g("update:modelValue",E)}),G=O(()=>i.value?ue(i.value,"MMM d, yyyy HH:mm"):""),le=()=>{r.value=!r.value,u.value=!1,b.value=!1},ce=()=>{r.value=!1,u.value=!1,b.value=!1},M=E=>{l.value=new Date(E,l.value.getMonth(),1),u.value=!1},A=E=>{l.value=new Date(l.value.getFullYear(),E,1),b.value=!1},F=()=>{l.value=new Date(l.value.getFullYear(),l.value.getMonth()-1)},V=()=>{l.value=new Date(l.value.getFullYear(),l.value.getMonth()+1)},U=E=>{i.value=new Date(E),i.value.setHours(m.value),i.value.setMinutes(I.value),J()},z=()=>{i.value&&(i.value.setHours(m.value),i.value.setMinutes(I.value),J())},N=E=>{const R=new Date(E);i.value=R,m.value=R.getHours(),I.value=R.getMinutes(),J(),ce()},J=()=>{i.value&&(B.value=ue(i.value,"yyyy-MM-dd'T'HH:mm"),yt())},ie=E=>i.value&&mt(E,i.value),He=E=>E.getMonth()===l.value.getMonth(),ht=E=>ml(E),yt=()=>{if(_.value=null,a.required&&!B.value){_.value=`${a.label} is required`;return}if(a.min&&B.value<a.min){_.value=`Date must be after ${ue(new Date(a.min),"MMM d, yyyy HH:mm")}`;return}if(a.max&&B.value>a.max){_.value=`Date must be before ${ue(new Date(a.max),"MMM d, yyyy HH:mm")}`;return}};return Q(()=>c.props.errors,E=>{E&&E[a.name]?_.value=E[a.name]:_.value=null},{deep:!0}),Q(()=>a.modelValue,E=>{if(E){const R=new Date(E);i.value=R,m.value=R.getHours(),I.value=R.getMinutes(),l.value=R}},{immediate:!0}),(E,R)=>{const Ve=kt("click-outside");return s(),o("div",fl,[e("label",{for:E.id,class:"label"},[e("span",{class:L(E.labelClass)},$(E.label),3)],8,hl),Y(e("input",{id:E.id,name:E.name,type:"datetime-local","onUpdate:modelValue":R[0]||(R[0]=P=>B.value=P),class:"hidden"},null,8,yl),[[ne,B.value]]),e("div",bl,[e("button",{type:"button",onClick:le,class:L([E.inputClass,"flex items-center justify-between w-full px-4 py-2",{error:_.value}])},[e("span",gl,[h(y(Me),{class:"w-5 h-5 text-gray-500"}),e("span",xl,$(G.value||E.placeholder||"Select date and time"),1)]),h(y(Z),{class:L(["w-5 h-5 text-gray-500 transition-transform",{"rotate-180":r.value}])},null,8,["class"])],2),r.value?Y((s(),o("div",kl,[e("div",wl,[e("div",_l,[e("div",$l,[e("button",{onClick:R[1]||(R[1]=()=>u.value=!u.value),class:"px-3 py-1 text-sm font-semibold hover:bg-gray-100 rounded-full transition-colors"},[q($(v.value)+" ",1),h(y(Z),{class:L(["w-4 h-4 inline-block ml-1",{"rotate-180":u.value}])},null,8,["class"])]),e("button",{class:"text-gray-700 font-medium hover:bg-gray-100 px-3 py-1 rounded-full",onClick:R[2]||(R[2]=()=>b.value=!b.value)},[q($(x.value)+" ",1),h(y(Z),{class:L(["w-4 h-4 inline-block ml-1",{"rotate-180":b.value}])},null,8,["class"])])]),e("div",Cl,[e("button",{onClick:F,class:"p-2 hover:bg-gray-100 rounded-full transition-colors"},[h(y(ot),{class:"w-4 h-4"})]),e("button",{onClick:V,class:"p-2 hover:bg-gray-100 rounded-full transition-colors"},[h(y(rt),{class:"w-4 h-4"})])])]),u.value?(s(),o("div",Ml,[e("div",Sl,[(s(!0),o(T,null,H(k.value,P=>(s(),o("button",{key:P,onClick:ve=>M(P),class:L(["px-2 py-1 text-sm rounded hover:bg-gray-100 transition-colors",{"bg-primary/10 text-primary font-semibold":P===v.value}])},$(P),11,Dl))),128))])])):D("",!0),b.value?(s(),o("div",Vl,[e("div",Il,[(s(),o(T,null,H(C,(P,ve)=>e("button",{key:P,onClick:Vi=>A(ve),class:L(["px-3 py-1 text-sm rounded hover:bg-gray-100 transition-colors",{"bg-primary/10 text-primary font-semibold":ve===l.value.getMonth()}])},$(P),11,jl)),64))])])):D("",!0),e("div",Fl,[(s(),o(T,null,H(n,P=>e("span",{key:P,class:"text-center text-sm text-gray-500 font-medium"},$(P),1)),64))]),e("div",Ll,[(s(!0),o(T,null,H(w.value,P=>(s(),o("button",{key:P.toISOString(),onClick:ve=>U(P),class:L(["p-2 text-sm rounded-full hover:bg-gray-100 transition-colors relative group",{"bg-primary/10 text-primary font-semibold":ie(P),"text-gray-400":!He(P),"text-gray-900":He(P)}])},[q($(P.getDate())+" ",1),ht(P)?(s(),o("div",Al)):D("",!0)],10,Tl))),128))]),e("div",Ol,[e("div",Hl,[Y(e("select",{"onUpdate:modelValue":R[3]||(R[3]=P=>m.value=P),class:"w-16 p-1 bg-white border rounded shadow-sm focus:ring-1 focus:ring-primary",onChange:z},[(s(),o(T,null,H(24,P=>e("option",{key:P,value:P-1},$(String(P-1).padStart(2,"0")),9,Ul)),64))],544),[[ye,m.value]]),R[5]||(R[5]=e("span",{class:"text-gray-500 font-medium"},":",-1)),Y(e("select",{"onUpdate:modelValue":R[4]||(R[4]=P=>I.value=P),class:"w-16 p-1 bg-white border rounded shadow-sm focus:ring-1 focus:ring-primary",onChange:z},[(s(!0),o(T,null,H(y(f),P=>(s(),o("option",{key:P,value:P},$(String(P).padStart(2,"0")),9,El))),128))],544),[[ye,I.value]])])]),e("div",Pl,[(s(),o(T,null,H(t,P=>e("button",{key:P.label,onClick:ve=>N(P.value),class:"px-3 py-1 text-sm text-gray-600 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors"},$(P.label),9,zl)),64))])])])),[[Ve,ce]]):D("",!0)]),h(oe,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:W(()=>[_.value?(s(),o("span",{key:0,class:L(E.messageClass),role:"alert","aria-live":"polite"},[e("strong",null,$(_.value),1)],2)):D("",!0)]),_:1})])}}}),Bl=se(ql,[["__scopeId","data-v-a29b7091"]]),Rl={key:0,class:"fixed inset-0 z-50 overflow-hidden"},Nl={class:"fixed inset-0 flex items-center justify-center p-4"},Kl={key:0,class:"relative bg-base-100 rounded-2xl shadow-2xl w-full max-w-md transform transition-all"},Yl={key:0,class:"absolute inset-0 bg-base-100/70 backdrop-blur-sm flex items-center justify-center z-50 rounded-2xl"},Wl={class:"p-6"},Jl={class:"flex justify-center mb-6"},Xl={class:"w-20 h-20 rounded-full bg-error/20 flex items-center justify-center animate-pulse"},Ql={class:"text-center space-y-4"},Gl={class:"text-base-content/70"},Zl={class:"mt-8 flex gap-4"},ea=["disabled"],ta=["disabled"],sa=X({__name:"delete",props:{id:{type:Number,default:0},model:{type:String,default:""},endpoint:{type:String,default:""},permission:{type:String,default:null}},emits:["onDelete"],setup(d,{emit:p}){const a=S(!1),g=S(!1),r=d,u=p,b=async()=>{var l,i,m,I;if(!g.value)try{g.value=!0;const _=await de.post(r.endpoint,{model:r.model,id:r.id,permission:r.permission});ee("success",_.data.message,"success"),u("onDelete"),a.value=!1}catch(_){const c=((i=(l=_.response)==null?void 0:l.data)==null?void 0:i.message)||"An error occurred while deleting the item";if((I=(m=_.response)==null?void 0:m.data)!=null&&I.errors){const t=_.response.data.errors;Object.values(t).forEach(n=>{Array.isArray(n)&&ee("error",n[0],"error")})}else ee("error",c,"error")}finally{g.value=!1}};return(l,i)=>(s(),o(T,null,[e("button",{onClick:i[0]||(i[0]=m=>a.value=!0),class:"btn btn-error btn-sm gap-2 group relative overflow-hidden hover:shadow-lg transition-all duration-300","aria-label":"Delete item"},[h(y(Qe),{class:"w-4 h-4 transform transition-all duration-300 group-hover:scale-110"}),i[4]||(i[4]=e("div",{class:"absolute inset-0 bg-white/20 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"},null,-1))]),h(oe,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:W(()=>[a.value?(s(),o("div",Rl,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:i[1]||(i[1]=m=>a.value=!1)}),e("div",Nl,[h(oe,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:W(()=>[a.value?(s(),o("div",Kl,[g.value?(s(),o("div",Yl,i[5]||(i[5]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"loading loading-spinner loading-lg text-error"}),e("p",{class:"text-sm font-medium text-base-content/70"},"Deleting...")],-1)]))):D("",!0),e("div",Wl,[e("button",{onClick:i[2]||(i[2]=m=>a.value=!1),class:"btn btn-sm btn-circle btn-ghost absolute right-4 top-4 hover:rotate-90 transition-transform duration-200","aria-label":"Close modal"},[h(y(ae),{class:"w-4 h-4"})]),e("div",Jl,[e("div",Xl,[h(y(Te),{class:"w-10 h-10 text-error"})])]),e("div",Ql,[i[6]||(i[6]=e("h3",{class:"text-2xl font-bold text-base-content"}," Confirm Deletion ",-1)),e("p",Gl," Are you sure you want to delete item #"+$(r.id)+"? ",1),i[7]||(i[7]=e("p",{class:"text-sm text-error font-medium"}," This action cannot be undone. ",-1))]),e("div",Zl,[e("button",{onClick:i[3]||(i[3]=m=>a.value=!1),class:"btn btn-ghost flex-1 hover:bg-base-200",disabled:g.value}," Cancel ",8,ea),e("button",{onClick:b,class:"btn btn-error flex-1 gap-2",disabled:g.value},[h(y(Qe),{class:L(["w-4 h-4",{"animate-spin":g.value}])},null,8,["class"]),q(" "+$(g.value?"Deleting...":"Delete"),1)],8,ta)])])])):D("",!0)]),_:1})])])):D("",!0)]),_:1})],64))}}),Ge=se(sa,[["__scopeId","data-v-5a8fcd37"]]),la=d=>{if(!d)return"";let p;if(d.includes("T"))p=new Date(d);else{const a=d.split("/");p=new Date(`${a[2]}-${a[1]}-${a[0]}`)}return p.toISOString().split("T")[0]},aa=d=>{const p=d.split("/");return new Date(p[2]+"/"+p[1]+"/"+p[0]).toISOString().substr(0,16)},na=d=>d?d.toString():"",oa={key:0},ra={key:1},ia={key:2},da={key:3},ca={key:4},ua={key:5},pa={key:6},va={key:7},ma={key:8},fa={key:9},ha={key:10},ya={key:11},ba={key:12},ga={key:13},xa={key:14},ka={class:"form-control mt-1"},wa={class:"label"},_a={class:"label-text"},$a=["onKeyup","onUpdate:modelValue","error"],Ca={class:"flex justify-center bg-base-100 rounded mt-5"},Ma=["innerHTML"],Sa={key:15},Da={key:16,class:"text-error text-sm mt-1"},Va={__name:"FormFields",props:{fields:{type:Array,required:!0}},emits:["update:fields"],setup(d,{emit:p}){const a=d,g=p;Q(()=>a.fields,u=>{g("update:fields",u)},{deep:!0});const r=(u,b,l)=>{if(l==="name"||l==="title"){const i=a.fields.findIndex(m=>m.key==="slug");i!==-1&&(a.fields[i].value=u.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))}};return(u,b)=>(s(),o("div",null,[(s(!0),o(T,null,H(d.fields,(l,i)=>(s(),o("div",{key:i},[l.type=="text"?(s(),o("div",oa,[h(y(fe),{type:"text",modelValue:d.fields[i].value,"onUpdate:modelValue":m=>d.fields[i].value=m,label:l.label,error:l.error,onKeyup:m=>r(m.target.value,l.type,l.key)},null,8,["modelValue","onUpdate:modelValue","label","error","onKeyup"])])):l.type=="password"?(s(),o("div",ra,[h(y(Ct),{modelValue:d.fields[i].value,"onUpdate:modelValue":m=>d.fields[i].value=m,label:l.label,error:l.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):l.type=="email"?(s(),o("div",ia,[h(y(fe),{type:"email",modelValue:d.fields[i].value,"onUpdate:modelValue":m=>d.fields[i].value=m,label:l.label,error:l.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):l.type=="date"?(s(),o("div",da,[h(y(fe),{type:"date",modelValue:d.fields[i].value,"onUpdate:modelValue":m=>d.fields[i].value=m,label:l.label,error:l.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):l.type=="timestamp"?(s(),o("div",ca,[h(y(Bl),{label:l.label,name:l.key,id:l.key,modelValue:d.fields[i].value,"onUpdate:modelValue":m=>d.fields[i].value=m,placeholder:"Select date and time",required:"",error:l.error,min:"2024-01-16T00:00",max:"2025-12-31T23:59"},null,8,["label","name","id","modelValue","onUpdate:modelValue","error"])])):l.type=="slug"?(s(),o("div",ua,[h(y(fe),{type:"text",modelValue:d.fields[i].value,"onUpdate:modelValue":m=>d.fields[i].value=m,label:l.label,error:l.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):l.type=="media"?(s(),o("div",pa,[h(y(Gt),{label:"image",placeholder:"search",modelValue:d.fields[i].value,"onUpdate:modelValue":m=>d.fields[i].value=m,loadData:d.fields[i].value,endpoint:l.endpoint,error:l.error},null,8,["modelValue","onUpdate:modelValue","loadData","endpoint","error"])])):l.type=="number"?(s(),o("div",va,[h(y(fe),{type:"number",modelValue:d.fields[i].value,"onUpdate:modelValue":m=>d.fields[i].value=m,label:l.label,onKeyup:m=>r(m.target.value,l.type,l.key),error:l.error},null,8,["modelValue","onUpdate:modelValue","label","onKeyup","error"])])):l.type=="model_search"?(s(),o("div",ma,[h(y(Ne),{label:l.label,placeholder:"search",model:l.model,columns:l.columns,singleMode:l.singleSearch,modelValue:d.fields[i].value,"onUpdate:modelValue":m=>d.fields[i].value=m,loadData:d.fields[i].value,endpoint:l.endpoint,displayKey:l.displayKey,error:l.error},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey","error"])])):l.type=="pivot_model"?(s(),o("div",fa,[h(y(Ne),{label:l.label,placeholder:"search",model:l.model,columns:l.columns,singleMode:l.singleSearch,modelValue:d.fields[i].value,"onUpdate:modelValue":m=>d.fields[i].value=m,loadData:d.fields[i].value,endpoint:l.endpoint,displayKey:l.displayKey,error:l.error},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey","error"])])):l.type=="editor"?(s(),o("div",ha,[h(y(tl),{label:l.label,name:l.key,id:l.key+"-editor",placeholder:"Start typing...",modelValue:d.fields[i].value,"onUpdate:modelValue":m=>d.fields[i].value=m,required:"",minLength:10,maxLength:1e3,error:l.error},null,8,["label","name","id","modelValue","onUpdate:modelValue","error"])])):l.type=="Toggle"?(s(),o("div",ya,[h(y(ze),{modelValue:d.fields[i].value,"onUpdate:modelValue":m=>d.fields[i].value=m,label:l.label,error:l.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):l.type=="boolean"?(s(),o("div",ba,[h(y(ze),{modelValue:d.fields[i].value,"onUpdate:modelValue":m=>d.fields[i].value=m,label:l.label,error:l.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):l.type=="chips"?(s(),o("div",ga,[h(y(St),{modelValue:d.fields[i].value,"onUpdate:modelValue":m=>d.fields[i].value=m,label:l.label,error:l.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):l.type=="icon"?(s(),o("div",xa,[e("label",ka,[e("div",wa,[e("span",_a,$(l.label),1)]),Y(e("textarea",{class:"textarea textarea-primary h-24",onKeyup:m=>r(m.target.value,l.type,l.key),"onUpdate:modelValue":m=>d.fields[i].value=m,placeholder:"Bio",error:l.error},null,40,$a),[[ne,d.fields[i].value]])]),e("div",Ca,[e("div",{class:"flex p-10 w-52",innerHTML:d.fields[i].value},null,8,Ma)])])):l.type=="select"?(s(),o("div",Sa,[h(y(Mt),{modelValue:d.fields[i].value,"onUpdate:modelValue":m=>d.fields[i].value=m,label:l.label,options:l.select_options,error:l.error},null,8,["modelValue","onUpdate:modelValue","label","options","error"])])):D("",!0),l.error?(s(),o("div",Da,$(l.error),1)):D("",!0)]))),128))]))}},Ze=se(Va,[["__scopeId","data-v-bd2da00c"]]),Ia={key:0,class:"mb-4"},ja={class:"tabs tabs-boxed bg-base-300 p-1"},Fa=["onClick"],La={class:"mt-4"},Ta={key:1},Aa={__name:"FormBuilder",props:{columns:{type:Array,default:()=>[]},modelValue:{type:Object,default:()=>({})},editMode:{type:String,default:"false"},errors:{type:Object,default:()=>({})}},emits:["onFormUpdate"],setup(d,{emit:p}){const a=d,g=p,r=S([]),u=S(""),b=O(()=>r.value.some(c=>c.tab)),l=O(()=>{const c=[...new Set(r.value.filter(t=>t.tab).map(t=>t.tab))];return c.length>0&&!u.value&&(u.value=c[0]),c}),i=c=>r.value.filter(t=>t.tab===c),m=c=>{c.forEach(t=>{const n=r.value.findIndex(f=>f.key===t.key);n!==-1&&(r.value[n]=t)}),g("onFormUpdate",r.value)},I=()=>{const c=[];a.columns.forEach(t=>{var k;const n=a.editMode==="false",f=a.editMode==="true";if(n&&t.canCreate||f&&t.canEdit){let x="";n?(t.type==="Toggle"||t.type==="boolean")&&(x=!1):f&&(x=_(t,a.modelValue));const v={...t,value:x,select_options:((k=t==null?void 0:t.options)==null?void 0:k.options)||(t==null?void 0:t.options),error:a.errors[t.key.toLowerCase()]||null};c.push(v)}}),r.value=c,a.editMode==="true"&&g("onFormUpdate",r.value)};Q(()=>a.errors,c=>{if(Object.keys(c).length>0){const t=r.value.map(n=>({...n,error:c[n.key.toLowerCase()]||null}));r.value=t,g("onFormUpdate",r.value)}},{deep:!0,immediate:!0});const _=(c,t)=>{switch(c.type){case"date":return la(t[c.key]);case"timestamp":return aa(t[c.key]);case"media":case"model_search":case"pivot_model":case"boolean":case"chips":return t[c.key];default:return na(t[c.key])}};return xe(I),(c,t)=>(s(),o("div",null,[b.value?(s(),o("div",Ia,[e("div",ja,[(s(!0),o(T,null,H(l.value,n=>(s(),o("button",{key:n,class:L(["tab flex-1 transition-all duration-200",{"tab-active":u.value===n}]),onClick:f=>u.value=n},$(n),11,Fa))),128))]),e("div",La,[(s(!0),o(T,null,H(l.value,n=>Y((s(),o("div",{key:n},[h(Ze,{fields:i(n),"onUpdate:fields":m},null,8,["fields"])])),[[wt,u.value===n]])),128))])])):(s(),o("div",Ta,[h(Ze,{fields:r.value,"onUpdate:fields":m},null,8,["fields"])]))]))}},Se=se(Aa,[["__scopeId","data-v-7017802f"]]),Oa={key:0,class:"fixed inset-0 z-50 overflow-hidden"},Ha={class:"relative min-h-screen flex items-center justify-center p-0 md:p-4"},Ua={key:0,class:"relative bg-base-100 rounded-none md:rounded-2xl shadow-2xl flex flex-col w-full min-h-screen md:min-h-[80vh] md:max-h-[90vh] md:w-11/12 max-w-7xl transform transition-all"},Ea={key:0,class:"absolute inset-0 bg-base-100/70 backdrop-blur-sm flex items-center justify-center z-50"},Pa={class:"sticky top-0 z-10 bg-base-200 px-6 py-4 border-b border-base-content/10"},za={class:"flex flex-col sm:flex-row justify-between gap-4"},qa={class:"text-lg font-semibold flex items-center gap-3 text-base-content"},Ba={class:"flex items-center gap-2"},Ra={class:"flex items-center gap-3"},Na=["disabled"],Ka={class:"mt-4 alert alert-error shadow-lg",key:"error-alert"},Ya={class:"flex-1 overflow-auto p-6 custom-scrollbar"},Wa={class:"container mx-auto max-w-5xl"},Ja={class:"grid gap-6 lg:grid-cols-12"},Xa={class:"lg:col-span-8 space-y-6"},Qa={key:0,class:"w-full space-y-4"},Ga=["checked"],Za={class:"collapse-title text-lg font-medium flex items-center gap-3 pr-12"},en={class:"collapse-content bg-base-100/50"},tn={class:"pt-4"},sn={key:1,class:"card bg-base-200 shadow-lg border border-base-content/10 hover:shadow-xl transition-all duration-200"},ln={class:"card-body"},an={class:"lg:col-span-4 space-y-4"},nn={class:"card bg-base-200 shadow-lg hover:shadow-xl transition-all duration-200"},on={class:"card-body"},rn={class:"text-sm font-medium text-base-content flex items-center gap-2"},dn={class:"card bg-base-200 shadow-lg hover:shadow-xl transition-all duration-200"},cn={class:"card-body"},un={class:"text-sm font-medium text-base-content flex items-center gap-2"},pn={class:"text-sm text-base-content/70 mt-2 space-y-3"},vn={class:"flex items-start gap-2"},mn={class:"rounded-full bg-success/20 p-1 mt-0.5"},fn={class:"flex items-start gap-2"},hn={class:"rounded-full bg-success/20 p-1 mt-0.5"},yn={class:"flex items-start gap-2"},bn={class:"rounded-full bg-success/20 p-1 mt-0.5"},gn={key:1,class:"modal-box w-11/12 max-w-lg bg-base-100"},xn={class:"card shadow-xl"},kn={class:"card-body items-center text-center space-y-6"},wn={class:"w-20 h-20 rounded-full bg-warning/20 flex items-center justify-center animate-pulse"},_n=X({__name:"create",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},permission:{type:String,default:null}},emits:["onCreate"],setup(d,{emit:p}){const a=S(!1),g=S(!1),r=S({}),u=d,b=p,l=O(()=>u.columns.some(c=>c.canCreate)),i=O(()=>{const c=u.columns.filter(f=>f.section),t=u.columns.filter(f=>!f.section),n=[...new Set(c.map(f=>f.section))];return{sections:n,fields:t,sectionsWithFields:n.map(f=>({section:f,fields:c.filter(C=>C.section===f)}))}}),m=S(u.columns.filter(c=>c.canCreate)),I=c=>{m.value.length>0?c.forEach(t=>{const n=m.value.findIndex(f=>f.key===t.key);n!==-1&&(m.value[n]=t)}):m.value=c},_=async()=>{var c,t;if(!g.value)try{g.value=!0,r.value={};const n=await de.post(u.endpoint,{model:u.model,data:m.value,permission:u.permission});ee("success","Entry created successfully","success"),b("onCreate"),a.value=!1}catch(n){if(r.value={},(t=(c=n.response)==null?void 0:c.data)!=null&&t.errors){const f=n.response.data.errors;Array.isArray(f)?f.forEach(C=>{if(Array.isArray(C)&&C.length>0){const k=C[0],x=k.match(/The (.*?) (field )?(is required|must be|invalid|already exists)/i);if(x){const v=x[1].toLowerCase().replace(" ","_");r.value[v]=k}}}):typeof f=="object"&&Object.entries(f).forEach(([C,k])=>{Array.isArray(k)&&k.length>0&&(r.value[C]=k[0])}),Object.values(r.value).forEach(C=>{ee("error",C,"error")})}else n.message&&ee("error",n.message,"error")}finally{g.value=!1}};return(c,t)=>(s(),o(T,null,[e("button",{onClick:t[0]||(t[0]=n=>a.value=!0),class:"btn btn-primary gap-2 group relative overflow-hidden hover:shadow-lg transition-all duration-300"},[h(y(xs),{class:"w-5 h-5 transform transition-all duration-300 group-hover:rotate-90"}),t[5]||(t[5]=e("span",{class:"hidden md:inline"},"Create New",-1)),t[6]||(t[6]=e("div",{class:"absolute inset-0 bg-white/20 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"},null,-1))]),h(oe,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:W(()=>[a.value?(s(),o("div",Oa,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:t[1]||(t[1]=n=>a.value=!1)}),e("div",Ha,[h(oe,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:W(()=>[l.value?(s(),o("div",Ua,[g.value?(s(),o("div",Ea,t[7]||(t[7]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"loading loading-spinner loading-lg text-primary"}),e("p",{class:"text-sm font-medium text-base-content/70"},"Processing...")],-1)]))):D("",!0),e("div",Pa,[e("div",za,[e("h2",qa,[e("button",{onClick:t[2]||(t[2]=n=>a.value=!1),class:"btn btn-sm btn-circle btn-ghost hover:bg-base-300 hover:rotate-90 transition-all duration-200"},[h(y(ae),{class:"w-5 h-5"})]),e("div",Ba,[h(y(Ss),{class:"w-5 h-5 text-primary"}),t[8]||(t[8]=e("span",null,"Create New Entry",-1))])]),e("div",Ra,[e("button",{onClick:t[3]||(t[3]=n=>a.value=!1),class:"btn btn-ghost btn-sm hover:bg-base-300"}," Cancel "),e("button",{onClick:_,disabled:g.value,class:"btn btn-primary btn-sm gap-2 min-w-[100px]"},[h(y(ut),{class:L(["w-4 h-4",{"animate-spin":g.value}])},null,8,["class"]),q(" "+$(g.value?"Creating...":"Create"),1)],8,Na)])]),h(ge,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 -translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-4"},{default:W(()=>[Object.keys(r.value).length>0?(s(),o("div",Ka,[h(y(Te),{class:"w-5 h-5 flex-shrink-0"}),t[9]||(t[9]=e("div",null,[e("h3",{class:"font-bold"},"Please correct the following errors"),e("div",{class:"text-xs opacity-75"},"Review the highlighted fields below")],-1))])):D("",!0)]),_:1})]),e("div",Ya,[e("div",Wa,[e("div",Ja,[e("div",Xa,[h(ge,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-4"},{default:W(()=>[i.value.sectionsWithFields.length>0?(s(),o("div",Qa,[(s(!0),o(T,null,H(i.value.sectionsWithFields,(n,f)=>(s(),o("div",{key:n.section,class:"collapse collapse-plus bg-base-200 rounded-box border border-base-content/10 hover:border-primary/30 transition-all duration-200 shadow-sm hover:shadow-md"},[e("input",{type:"checkbox",checked:f===0},null,8,Ga),e("div",Za,[h(y(nt),{class:"w-5 h-5 text-primary"}),q(" "+$(n.section),1)]),e("div",en,[e("div",tn,[h(Se,{columns:n.fields,errors:r.value,onOnFormUpdate:I},null,8,["columns","errors"])])])]))),128))])):D("",!0),i.value.fields.length>0?(s(),o("div",sn,[e("div",ln,[h(Se,{columns:i.value.fields,errors:r.value,onOnFormUpdate:I},null,8,["columns","errors"])])])):D("",!0)]),_:1})]),e("div",an,[e("div",nn,[e("div",on,[e("h3",rn,[h(y(Ae),{class:"w-4 h-4 text-primary"}),t[10]||(t[10]=q(" Information "))]),t[11]||(t[11]=e("div",{class:"text-sm text-base-content/70 mt-2 space-y-2"},[e("p",null,"Fill in the required information to create a new entry."),e("p",null,[q("All fields marked with "),e("span",{class:"text-error"},"*"),q(" are required.")])],-1))])]),e("div",dn,[e("div",cn,[e("h3",un,[h(y(gs),{class:"w-4 h-4 text-primary"}),t[12]||(t[12]=q(" Quick Tips "))]),e("ul",pn,[e("li",vn,[e("div",mn,[h(y(pe),{class:"w-3 h-3 text-success"})]),t[13]||(t[13]=e("span",null,"Use sections to organize related fields",-1))]),e("li",fn,[e("div",hn,[h(y(pe),{class:"w-3 h-3 text-success"})]),t[14]||(t[14]=e("span",null,"Preview changes before submitting",-1))]),e("li",yn,[e("div",bn,[h(y(pe),{class:"w-3 h-3 text-success"})]),t[15]||(t[15]=e("span",null,"All changes are saved automatically",-1))])])])])])])])])])):(s(),o("div",gn,[e("div",xn,[e("div",kn,[e("div",wn,[h(y(Fs),{class:"w-10 h-10 text-warning"})]),t[16]||(t[16]=e("div",{class:"space-y-2"},[e("h2",{class:"text-2xl font-bold text-error"},"Access Denied"),e("p",{class:"text-base-content/80"},"You don't have permission to create new entries."),e("p",{class:"text-base-content/60 text-sm"},"Please contact your system administrator for access.")],-1)),e("button",{onClick:t[4]||(t[4]=n=>a.value=!1),class:"btn btn-ghost btn-sm hover:bg-base-200"}," Close ")])])]))]),_:1})])])):D("",!0)]),_:1})],64))}}),$n=se(_n,[["__scopeId","data-v-845adc09"]]),Cn={key:0,class:"fixed inset-0 z-50 overflow-hidden"},Mn={class:"relative min-h-screen flex items-center justify-center p-0 md:p-4"},Sn={class:"relative bg-base-100 rounded-none md:rounded-2xl shadow-2xl flex flex-col w-full min-h-screen md:min-h-[80vh] md:max-h-[90vh] md:w-11/12 max-w-7xl transform transition-all"},Dn={key:0,class:"absolute inset-0 bg-base-100/70 backdrop-blur-sm flex items-center justify-center z-50"},Vn={class:"sticky top-0 z-10 bg-base-200 px-6 py-4 border-b border-base-content/10"},In={class:"flex flex-col sm:flex-row justify-between gap-4"},jn={class:"text-lg font-semibold flex items-center gap-3 text-base-content"},Fn={class:"flex items-center gap-2"},Ln={class:"flex items-center gap-3"},Tn=["disabled"],An={class:"mt-4 alert alert-error shadow-lg",key:"error-alert"},On={class:"flex-1 overflow-auto p-6 custom-scrollbar"},Hn={class:"container mx-auto max-w-5xl"},Un={class:"grid gap-6 lg:grid-cols-12"},En={class:"lg:col-span-8 space-y-6"},Pn={key:0,class:"w-full space-y-4"},zn=["checked"],qn={class:"collapse-title text-lg font-medium flex items-center gap-3 pr-12"},Bn={class:"collapse-content bg-base-100/50"},Rn={class:"pt-4"},Nn={key:1,class:"card bg-base-200 shadow-lg border border-base-content/10 hover:shadow-xl transition-all duration-200"},Kn={class:"card-body"},Yn={class:"lg:col-span-4 space-y-4"},Wn={class:"card bg-base-200 shadow-lg hover:shadow-xl transition-all duration-200"},Jn={class:"card-body"},Xn={class:"text-sm font-medium text-base-content flex items-center gap-2"},Qn={class:"mt-3 space-y-3 divide-y divide-base-content/10"},Gn={class:"flex justify-between items-center py-2"},Zn={class:"font-medium text-base-content"},eo={class:"flex justify-between items-center py-2"},to={class:"font-medium text-base-content flex items-center gap-2"},so={class:"card bg-base-200 shadow-lg hover:shadow-xl transition-all duration-200"},lo={class:"card-body"},ao={class:"text-sm font-medium text-base-content flex items-center gap-2"},no={class:"mt-3 space-y-1"},oo=["onClick"],ro={class:"flex items-center gap-2"},io={key:0,class:"text-error"},co=X({__name:"edit",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},id:{type:Number,default:0},modelValue:{type:Object,default:()=>({})},permission:{type:String,default:null}},emits:["onEdit"],setup(d,{emit:p}){const a=S(!1),g=S(!1),r=S({}),u=d,b=p,l=S(u.columns.filter(c=>c.canEdit)),i=O(()=>{const c=u.columns.filter(f=>f.section),t=u.columns.filter(f=>!f.section),n=[...new Set(c.map(f=>f.section))];return{sections:n,fields:t,sectionsWithFields:n.map(f=>({section:f,fields:c.filter(C=>C.section===f)}))}}),m=c=>{l.value.length>0?c.forEach(t=>{const n=l.value.findIndex(f=>f.key===t.key);n!==-1&&(l.value[n]=t)}):l.value=c},I=async()=>{var c,t;if(!g.value)try{g.value=!0,r.value={};const n=await de.post(u.endpoint,{model:u.model,id:u.id,data:l.value,permission:u.permission});ee("success",n.data.message,"success"),b("onEdit"),a.value=!1}catch(n){if((t=(c=n.response)==null?void 0:c.data)!=null&&t.errors){const f=n.response.data.errors;Array.isArray(f)?f.forEach(C=>{if(Array.isArray(C)&&C.length>0){const k=C[0],x=k.match(/The (.*?) (field )?(is required|must be|invalid|already exists)/i);if(x){const v=x[1].toLowerCase().replace(" ","_");r.value[v]=k}}}):Object.entries(f).forEach(([C,k])=>{Array.isArray(k)&&k.length>0&&(r.value[C.toLowerCase()]=k[0])}),Object.values(r.value).forEach(C=>{ee("error",C,"error")})}else ee("error","An error occurred while saving changes. Please try again.","error")}finally{g.value=!1}},_=c=>{var n;const t=document.querySelector(`[data-field-key="${c}"]`);if(t){const f=t.closest(".collapse-content");if(f){const C=(n=f.parentElement)==null?void 0:n.querySelector('input[type="checkbox"]');C&&!C.checked&&(C.checked=!0)}setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),t.classList.add("highlight-field"),setTimeout(()=>{t.classList.remove("highlight-field")},2e3)},300)}};return(c,t)=>(s(),o(T,null,[e("button",{onClick:t[0]||(t[0]=n=>a.value=!0),class:"btn btn-primary btn-sm gap-2 group relative overflow-hidden hover:shadow-lg transition-all duration-300"},[h(y($e),{class:"w-4 h-4 transform transition-all duration-300 group-hover:rotate-12"}),t[4]||(t[4]=e("span",{class:"hidden md:inline"},"Edit",-1)),t[5]||(t[5]=e("div",{class:"absolute inset-0 bg-white/20 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"},null,-1))]),h(oe,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:W(()=>[a.value?(s(),o("div",Cn,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:t[1]||(t[1]=n=>a.value=!1)}),e("div",Mn,[h(oe,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:W(()=>{var n;return[e("div",Sn,[g.value?(s(),o("div",Dn,t[6]||(t[6]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"loading loading-spinner loading-lg text-primary"}),e("p",{class:"text-sm font-medium text-base-content/70"},"Saving changes...")],-1)]))):D("",!0),e("div",Vn,[e("div",In,[e("h2",jn,[e("button",{onClick:t[2]||(t[2]=f=>a.value=!1),class:"btn btn-sm btn-circle btn-ghost hover:bg-base-300 hover:rotate-90 transition-all duration-200"},[h(y(ae),{class:"w-5 h-5"})]),e("div",Fn,[h(y(dt),{class:"w-5 h-5 text-primary"}),e("span",null,"Edit Item "+$(u.id),1)])]),e("div",Ln,[e("button",{onClick:t[3]||(t[3]=f=>a.value=!1),class:"btn btn-ghost btn-sm hover:bg-base-300"}," Cancel "),e("button",{onClick:I,disabled:g.value,class:"btn btn-primary btn-sm gap-2 min-w-[120px]"},[h(y(ut),{class:L(["w-4 h-4",{"animate-spin":g.value}])},null,8,["class"]),q(" "+$(g.value?"Saving...":"Save Changes"),1)],8,Tn)])]),h(ge,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 -translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-4"},{default:W(()=>[Object.keys(r.value).length>0?(s(),o("div",An,[h(y(Te),{class:"w-5 h-5 flex-shrink-0"}),t[7]||(t[7]=e("div",null,[e("h3",{class:"font-bold"},"Please correct the following errors"),e("div",{class:"text-xs opacity-75"},"Review the highlighted fields below")],-1))])):D("",!0)]),_:1})]),e("div",On,[e("div",Hn,[e("div",Un,[e("div",En,[h(ge,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-4"},{default:W(()=>[i.value.sectionsWithFields.length>0?(s(),o("div",Pn,[(s(!0),o(T,null,H(i.value.sectionsWithFields,(f,C)=>(s(),o("div",{key:f.section,class:"collapse collapse-plus bg-base-200 rounded-box border border-base-content/10 hover:border-primary/30 transition-all duration-200 shadow-sm hover:shadow-md"},[e("input",{type:"checkbox",checked:C===0},null,8,zn),e("div",qn,[h(y(nt),{class:"w-5 h-5 text-primary"}),q(" "+$(f.section),1)]),e("div",Bn,[e("div",Rn,[h(Se,{columns:f.fields,errors:r.value,onOnFormUpdate:m,editMode:"true",modelValue:u.modelValue},null,8,["columns","errors","modelValue"])])])]))),128))])):D("",!0),i.value.fields.length>0?(s(),o("div",Nn,[e("div",Kn,[h(Se,{columns:i.value.fields,errors:r.value,onOnFormUpdate:m,editMode:"true",modelValue:u.modelValue},null,8,["columns","errors","modelValue"])])])):D("",!0)]),_:1})]),e("div",Yn,[e("div",Wn,[e("div",Jn,[e("h3",Xn,[h(y(Ae),{class:"w-4 h-4 text-primary"}),t[8]||(t[8]=q(" Information "))]),e("div",Qn,[e("div",Gn,[t[9]||(t[9]=e("span",{class:"text-sm text-base-content/70"},"ID:",-1)),e("span",Zn,$(u.id),1)]),e("div",eo,[t[10]||(t[10]=e("span",{class:"text-sm text-base-content/70"},"Last Updated:",-1)),e("span",to,[h(y(Me),{class:"w-4 h-4 text-primary"}),q(" "+$(new Date((n=u.modelValue)==null?void 0:n.updated_at).toLocaleDateString()),1)])])])])]),e("div",so,[e("div",lo,[e("h3",ao,[h(y(js),{class:"w-4 h-4 text-primary"}),t[11]||(t[11]=q(" Quick Navigation "))]),e("div",no,[(s(!0),o(T,null,H(l.value,f=>(s(),o("button",{key:f.key,onClick:C=>_(f.key),class:L(["w-full text-left px-3 py-2 text-sm rounded-btn transition-all duration-200",[r.value[f.key]?"text-error bg-error/10 hover:bg-error/20":"text-base-content hover:bg-base-100"]])},[e("div",ro,[r.value[f.key]?(s(),o("span",io,"●")):D("",!0),q(" "+$(f.label),1)])],10,oo))),128))])])])])])])])])]}),_:1})])])):D("",!0)]),_:1})],64))}}),et=se(co,[["__scopeId","data-v-14932ed5"]]),uo={class:"bg-base-100 rounded-xl shadow-lg transition-all duration-300 hover:shadow-xl"},po={class:"p-4"},vo={class:"md:hidden w-full mb-4"},mo={class:"flex items-center gap-2"},fo={class:"grid gap-3 sm:grid-cols-3"},ho={class:"dropdown dropdown-hover"},yo={tabindex:"0",class:"btn btn-ghost w-full justify-between gap-2 normal-case"},bo={class:"flex items-center gap-2 text-base-content/70"},go={tabindex:"0",class:"dropdown-content z-10 menu p-2 shadow-lg bg-base-200 rounded-box w-52"},xo=["onClick"],ko={class:"dropdown dropdown-hover"},wo={tabindex:"0",class:"btn btn-ghost w-full justify-between gap-2 normal-case"},_o={class:"flex items-center gap-2 text-base-content/70"},$o={class:"truncate"},Co={tabindex:"0",class:"dropdown-content z-10 menu p-2 shadow-lg bg-base-200 rounded-box w-52"},Mo=["onClick"],So={class:"dropdown dropdown-hover"},Do={tabindex:"0",class:"btn btn-ghost w-full justify-between gap-2 normal-case"},Vo={class:"flex items-center gap-2 text-base-content/70"},Io={tabindex:"0",class:"dropdown-content z-10 menu p-2 shadow-lg bg-base-200 rounded-box w-52"},jo={class:"join w-full sm:w-auto"},Fo={class:"relative flex-1"},Lo=["disabled"],To={key:"search",class:"badge badge-primary gap-2 p-3"},Ao={key:"filter",class:"badge badge-secondary gap-2 p-3"},Oo={key:"perPage",class:"badge badge-accent gap-2 p-3"},Ho=X({__name:"filter",props:{columns:{}},emits:["onPerPage","onOrderBy","onSearch","onFilter","onFilterReset"],setup(d,{emit:p}){const a=d,g=p,r=S(!1),u=S(10),b=S(""),l=S("asc"),i=S(""),m=S([]),I=O(()=>{const x=m.value.find(v=>v.value===b.value);return(x==null?void 0:x.label)||""}),_=O(()=>i.value||b.value||u.value!==10||l.value!=="asc"),c=(x,v)=>{let w;return(...B)=>{clearTimeout(w),w=setTimeout(()=>x(...B),v)}},t=()=>{const x=a.columns.filter(v=>v.sortable);m.value=x.map(v=>({label:v.label,value:v.key}))},n=()=>{i.value="",g("onSearch","")},f=()=>{i.value&&k(i.value)},C=()=>{u.value=10,b.value="",l.value="asc",i.value="",r.value=!1,g("onFilterReset",{perPage:10,filterBy:"",orderBy:"asc",search:null})},k=c(x=>{g("onSearch",x)},300);return Q(u,x=>g("onPerPage",x)),Q(l,x=>g("onOrderBy",x)),Q(b,x=>g("onFilter",x)),Q(i,x=>{x&&k(x)}),xe(t),(x,v)=>(s(),o("div",uo,[e("div",po,[e("div",vo,[e("button",{onClick:v[0]||(v[0]=w=>r.value=!r.value),class:"btn btn-ghost w-full justify-between group"},[e("span",mo,[h(y(pt),{class:"w-4 h-4 text-primary"}),e("span",null,$(r.value?"Hide Filters":"Show Filters"),1)]),h(y(Z),{class:L(["w-4 h-4 transition-transform duration-300",{"rotate-180":r.value}])},null,8,["class"])])]),e("div",{class:L(["grid gap-4 transition-all duration-300",["md:grid-cols-[1fr_auto]",r.value?"grid-cols-1":"hidden md:grid"]])},[e("div",fo,[e("div",ho,[e("label",yo,[e("div",bo,[h(y(Vs),{class:"w-4 h-4"}),e("span",null,$(u.value)+" per page",1)]),h(y(Z),{class:"w-4 h-4"})]),e("ul",go,[(s(),o(T,null,H([10,25,50,100],w=>e("li",{key:w},[e("button",{onClick:B=>u.value=w,class:L([{active:u.value===w},"flex items-center gap-2"])},[u.value===w?(s(),K(y(pe),{key:0,class:"w-4 h-4"})):D("",!0),e("span",null,$(w)+" items",1)],10,xo)])),64))])]),e("div",ko,[e("label",wo,[e("div",_o,[h(y(it),{class:"w-4 h-4"}),e("span",$o,$(I.value||"Filter by"),1)]),h(y(Z),{class:"w-4 h-4"})]),e("ul",Co,[(s(!0),o(T,null,H(m.value,w=>(s(),o("li",{key:w.value},[e("button",{onClick:B=>b.value=w.value,class:L([{active:b.value===w.value},"flex items-center gap-2"])},[b.value===w.value?(s(),K(y(pe),{key:0,class:"w-4 h-4"})):D("",!0),e("span",null,$(w.label),1)],10,Mo)]))),128))])]),e("div",So,[e("label",Do,[e("div",Vo,[(s(),K(te(l.value==="asc"?y(Le):y(Fe)),{class:"w-4 h-4"})),e("span",null,$(l.value==="asc"?"Ascending":"Descending"),1)]),h(y(Z),{class:"w-4 h-4"})]),e("ul",Io,[e("li",null,[e("button",{onClick:v[1]||(v[1]=w=>l.value="asc"),class:L([{active:l.value==="asc"},"flex items-center gap-2"])},[h(y(Le),{class:"w-4 h-4"}),v[6]||(v[6]=e("span",null,"Ascending",-1))],2)]),e("li",null,[e("button",{onClick:v[2]||(v[2]=w=>l.value="desc"),class:L([{active:l.value==="desc"},"flex items-center gap-2"])},[h(y(Fe),{class:"w-4 h-4"}),v[7]||(v[7]=e("span",null,"Descending",-1))],2)])])])]),e("div",jo,[e("div",Fo,[Y(e("input",{"onUpdate:modelValue":v[3]||(v[3]=w=>i.value=w),type:"text",placeholder:"Search...",class:L(["input input-bordered join-item w-full pl-10",{"pr-9":i.value}]),onKeyup:_t(f,["enter"])},null,34),[[ne,i.value]]),h(y(Ee),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-base-content/40"}),i.value?(s(),o("button",{key:0,onClick:n,class:"absolute right-3 top-1/2 -translate-y-1/2 text-base-content/40 hover:text-base-content transition-colors"},[h(y(ae),{class:"w-4 h-4"})])):D("",!0)]),e("button",{class:"btn btn-primary join-item",onClick:f},[h(y(Ee),{class:"w-4 h-4"}),v[8]||(v[8]=e("span",{class:"hidden sm:inline"},"Search",-1))]),e("button",{class:"btn btn-secondary join-item group",onClick:C,disabled:!_.value},[h(y(De),{class:"w-4 h-4 group-hover:rotate-180 transition-transform duration-300"}),v[9]||(v[9]=e("span",{class:"hidden sm:inline"},"Reset",-1))],8,Lo)])],2),h(ge,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2",class:"flex flex-wrap gap-2 mt-4"},{default:W(()=>[i.value?(s(),o("div",To,[v[10]||(v[10]=e("span",{class:"text-xs opacity-70"},"Search:",-1)),e("span",null,$(i.value),1),e("button",{onClick:n,class:"hover:text-error"},[h(y(ae),{class:"w-3 h-3"})])])):D("",!0),b.value?(s(),o("div",Ao,[v[11]||(v[11]=e("span",{class:"text-xs opacity-70"},"Filter:",-1)),e("span",null,$(I.value),1),e("button",{onClick:v[4]||(v[4]=w=>b.value=""),class:"hover:text-error"},[h(y(ae),{class:"w-3 h-3"})])])):D("",!0),u.value!==10?(s(),o("div",Oo,[v[12]||(v[12]=e("span",{class:"text-xs opacity-70"},"Show:",-1)),e("span",null,$(u.value)+" items",1),e("button",{onClick:v[5]||(v[5]=w=>u.value=10),class:"hover:text-error"},[h(y(ae),{class:"w-3 h-3"})])])):D("",!0)]),_:1})])]))}}),Uo=se(Ho,[["__scopeId","data-v-ad888cac"]]),Eo={class:"bg-base-100 border-t px-4 py-3 sm:px-6"},Po={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},zo={class:"text-sm text-base-content/70"},qo={class:"font-medium"},Bo={class:"font-semibold text-primary"},Ro={class:"font-semibold text-primary"},No={class:"font-semibold text-primary"},Ko={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},Yo=["disabled"],Wo=["onClick"],Jo={key:1,class:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-base-content ring-1 ring-inset ring-base-300 focus:outline-offset-0"},Xo=["disabled"],Qo=X({__name:"pagination",props:{paginationInfo:{default:()=>({currentPage:1,lastPage:1,perPage:10,total:0,links:[]})},endpoint:{default:""}},emits:["onPagiation"],setup(d,{emit:p}){const a=d,g=p,r=O(()=>a.paginationInfo.currentPage||1),u=O(()=>a.paginationInfo.lastPage||1),b=O(()=>a.paginationInfo.perPage||10),l=O(()=>a.paginationInfo.total||0),i=O(()=>{const c=r.value,t=u.value,n=2,f=[],C=[];f.push(1);for(let x=Math.max(2,c-n);x<=Math.min(t-1,c+n);x++)f.push(x);t>1&&f.push(t);let k;for(const x of f)typeof k=="number"&&(x-k===2?C.push(k+1):x-k!==1&&C.push("...")),C.push(x),k=typeof x=="number"?x:k;return C}),m=c=>{if(c===r.value)return;const t=a.endpoint+`?page=${c}`;g("onPagiation",t)},I=()=>{r.value<u.value&&m(r.value+1)},_=()=>{r.value>1&&m(r.value-1)};return(c,t)=>(s(),o("div",Eo,[e("div",Po,[e("div",zo,[e("p",qo,[t[0]||(t[0]=q(" Showing ")),e("span",Bo,$(Math.max(1,(r.value-1)*b.value+1)),1),t[1]||(t[1]=q(" to ")),e("span",Ro,$(Math.min(r.value*b.value,l.value)),1),t[2]||(t[2]=q(" of ")),e("span",No,$(l.value),1),t[3]||(t[3]=q(" results "))])]),e("nav",Ko,[e("button",{onClick:_,disabled:r.value===1,class:L(["relative inline-flex items-center rounded-l-md px-3 py-2 text-sm font-medium ring-1 ring-inset ring-base-300 hover:bg-base-200 focus:z-20 focus:outline-offset-0 transition-colors",[r.value===1?"cursor-not-allowed text-base-content/30":"text-base-content hover:text-primary"]])},[h(y(ot),{class:"h-4 w-4"}),t[4]||(t[4]=e("span",{class:"sr-only"},"Previous",-1))],10,Yo),(s(!0),o(T,null,H(i.value,(n,f)=>(s(),o(T,{key:f},[typeof n=="number"?(s(),o("button",{key:0,onClick:C=>m(n),class:L([n===r.value?"z-10 bg-primary text-primary-content focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary":"text-base-content hover:bg-base-200","relative inline-flex items-center px-4 py-2 text-sm font-medium ring-1 ring-inset ring-base-300 focus:z-20 focus:outline-offset-0 transition-colors"])},$(n),11,Wo)):(s(),o("span",Jo," ... "))],64))),128)),e("button",{onClick:I,disabled:r.value===u.value,class:L(["relative inline-flex items-center rounded-r-md px-3 py-2 text-sm font-medium ring-1 ring-inset ring-base-300 hover:bg-base-200 focus:z-20 focus:outline-offset-0 transition-colors",[r.value===u.value?"cursor-not-allowed text-base-content/30":"text-base-content hover:text-primary"]])},[h(y(rt),{class:"h-4 w-4"}),t[5]||(t[5]=e("span",{class:"sr-only"},"Next",-1))],10,Xo)])])]))}}),Go={class:"field-renderer"},Zo={key:0,class:"flex -space-x-2"},er=["src","alt","title"],tr={key:0,class:"w-8 h-8 rounded-full bg-base-300 border-2 border-base-100 flex items-center justify-center transition-transform hover:scale-110"},sr={class:"text-xs font-medium"},lr={key:1,class:"text-base-content/50"},ar={key:2,class:"flex flex-col group cursor-default"},nr={class:"text-sm font-medium"},or={class:"text-xs text-base-content/70 group-hover:text-base-content transition-colors duration-200"},rr={key:3,class:"font-mono text-base-content/90 hover:text-base-content transition-colors duration-200"},ir={key:4,class:"flex flex-wrap gap-1.5"},dr={class:"opacity-60 text-[10px] uppercase mr-1"},cr={class:"font-medium"},ur={key:1,class:"text-base-content/50"},pr={key:5,class:"font-mono font-medium text-base-content/90 hover:text-base-content transition-colors duration-200"},vr={key:6,class:"flex items-center justify-center"},mr=["innerHTML"],fr={key:1,class:"text-base-content/50"},hr={key:0,class:"absolute z-50 bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 pointer-events-none"},yr={class:"bg-base-300 text-base-content px-3 py-2 rounded-lg shadow-lg max-w-xs opacity-0 invisible -translate-y-2 group-hover:opacity-100 group-hover:visible group-hover:translate-y-0 transition-all duration-200"},br=X({__name:"FieldRenderer",props:{value:{},type:{default:"text"},options:{default:()=>({})}},setup(d){const p=d,a=O(()=>Array.isArray(p.value)?p.value.slice(0,3):[]),g=O(()=>Array.isArray(p.value)?Math.max(0,p.value.length-3):0),r=O(()=>p.value&&typeof p.value=="object"&&!Array.isArray(p.value)),u=O(()=>p.value&&typeof p.value=="string"&&p.value.length>30),b=O(()=>{var n;return((n=p.options)==null?void 0:n.truncate)??!0});function l(n){var f;return n!=null&&n.url?typeof n.url=="string"?n.url:((f=n.url)==null?void 0:f.default)||"":""}function i(n){if(!n)return"—";try{return ue(new Date(n),"MMM d, yyyy")}catch{return"—"}}function m(n){if(!n)return"";try{return vl(new Date(n),{addSuffix:!0})}catch{return""}}function I(n){if(n==null)return"—";try{return new Intl.NumberFormat().format(n)}catch{return"—"}}function _(n){if(n==null)return"—";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n)}catch{return"—"}}function c(n){return{status:"badge-info",type:"badge-warning",category:"badge-success",priority:"badge-error",label:"badge-primary"}[n.toLowerCase()]||"badge-neutral"}function t(n){return n==null||n===""?"—":String(n)}return(n,f)=>(s(),o("div",Go,[n.type==="media"?(s(),o("div",Zo,[Array.isArray(n.value)&&n.value.length>0?(s(),o(T,{key:0},[(s(!0),o(T,null,H(a.value,(C,k)=>(s(),o("div",{key:k,class:"relative group"},[C!=null&&C.url?(s(),o("img",{key:0,src:l(C),alt:(C==null?void 0:C.name)||`Image ${k+1}`,class:"w-8 h-8 rounded-full border-2 border-base-100 object-cover transition-transform duration-200 group-hover:scale-110",title:C==null?void 0:C.name},null,8,er)):D("",!0)]))),128)),g.value>0?(s(),o("div",tr,[e("span",sr,"+"+$(g.value),1)])):D("",!0)],64)):(s(),o("div",lr,"—"))])):n.type==="boolean"?(s(),o("div",{key:1,class:L(["px-2 py-1 rounded-full text-xs font-medium inline-flex items-center gap-1.5 transition-colors duration-200",n.value?"bg-success/20 text-success hover:bg-success/30":"bg-error/20 text-error hover:bg-error/30"])},[e("span",{class:L(["w-2 h-2 rounded-full transition-transform duration-200",n.value?"bg-success animate-pulse":"bg-error"])},null,2),q(" "+$(n.value?"Yes":"No"),1)],2)):n.type==="date"||n.type==="timestamp"?(s(),o("div",ar,[e("span",nr,$(i(n.value)),1),e("span",or,$(m(n.value)),1)])):n.type==="number"?(s(),o("div",rr,$(I(n.value)),1)):n.type==="model_search"?(s(),o("div",ir,[r.value?(s(!0),o(T,{key:0},H(n.value,(C,k)=>(s(),o("div",{key:k,class:L(["badge badge-sm transition-all duration-200 hover:scale-105",c(k)])},[e("span",dr,$(k)+":",1),e("span",cr,$(C),1)],2))),128)):(s(),o("span",ur,"—"))])):n.type==="price"?(s(),o("div",pr,$(_(n.value)),1)):n.type==="icon"?(s(),o("div",vr,[n.value?(s(),o("div",{key:0,class:"w-8 h-8 flex items-center justify-center transition-transform hover:scale-110",innerHTML:n.value},null,8,mr)):(s(),o("span",fr,"—"))])):(s(),o("div",{key:7,class:L(["relative group",{"cursor-help":u.value}])},[e("span",{class:L(["transition-colors duration-200",n.value?"text-base-content/90 group-hover:text-base-content":"text-base-content/50",b.value?"truncate block":"",n.options.enhanced?"text-base font-medium":""])},$(t(n.value)),3),u.value?(s(),o("div",hr,[e("div",yr,[q($(n.value)+" ",1),f[0]||(f[0]=e("div",{class:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-base-300 rotate-45"},null,-1))])])):D("",!0)],2))]))}}),tt=se(br,[["__scopeId","data-v-ad582865"]]),gr={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 p-4"},xr={class:"text-sm font-medium text-base-content/70 flex items-center gap-2"},kr={class:"flex-1"},wr={key:0,class:"col-span-full"},st=X({__name:"tableDataDisplay",props:{tableData:{default:()=>({})},columns:{default:()=>[]},viewType:{default:"table"},initialVisibleCount:{default:6},hiddenColumns:{default:()=>new Set}},setup(d){const p=d,a=S(!1),g=O(()=>[...p.columns].filter(m=>!p.hiddenColumns.has(m.key)).sort((m,I)=>{const _=m.priority??999,c=I.priority??999;return _-c})),r=O(()=>g.value),u=O(()=>a.value?r.value:r.value.slice(0,p.initialVisibleCount)),b=O(()=>r.value.length>p.initialVisibleCount);function l(m){return{date:Me,timestamp:Me,number:dt,text:Os,media:Ds,boolean:pe,price:ws,rating:Ls,model_search:As,default:Ae}[m.type||"default"]}function i(){a.value=!a.value}return(m,I)=>m.viewType==="table"?(s(!0),o(T,{key:0},H(r.value,(_,c)=>(s(),o("td",{key:c,class:"p-4 transition-colors duration-200"},[h(tt,{value:m.tableData[_.key],type:_.type||"text",options:_.options||{}},null,8,["value","type","options"])]))),128)):(s(),o("div",gr,[(s(!0),o(T,null,H(u.value,(_,c)=>(s(),o("div",{key:c,class:"flex flex-col space-y-2 bg-base-200/50 rounded-lg p-3 hover:bg-base-200 transition-colors duration-200"},[e("span",xr,[l(_)?(s(),K(te(l(_)),{key:0,class:"w-4 h-4 text-primary"})):D("",!0),q(" "+$(_.label),1)]),e("div",kr,[h(tt,{value:m.tableData[_.key],type:_.type||"text",options:{..._.options,truncate:!1,enhanced:!0}},null,8,["value","type","options"])])]))),128)),b.value?(s(),o("div",wr,[e("button",{onClick:i,class:"btn btn-ghost btn-sm gap-2 text-primary"},[(s(),K(te(a.value?y(bs):y(Z)),{class:"w-4 h-4"})),q(" "+$(a.value?"Show Less":`Show ${r.value.length-u.value.length} More Fields`),1)])])):D("",!0)]))}}),_r={class:"card bg-base-100 shadow-sm"},$r={class:"md:hidden w-full"},Cr={class:"flex items-center gap-2"},Mr={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Sr={class:"label"},Dr={class:"label-text"},Vr=["onUpdate:modelValue"],Ir=["value"],jr=["onUpdate:modelValue"],Fr=["onUpdate:modelValue"],Lr=["value"],Tr={key:3,class:"flex gap-2"},Ar=["onUpdate:modelValue"],Or=["onUpdate:modelValue"],Hr=["onUpdate:modelValue","placeholder"],Ur={key:0,class:"flex flex-wrap gap-2 mt-4"},Er={class:"text-xs opacity-70"},Pr=["onClick"],zr={class:"flex justify-end gap-2 mt-4"},qr={__name:"AdvancedFilter",props:{columns:{type:Array,required:!0}},emits:["onFilterChange"],setup(d,{emit:p}){const a=d,g=p,r=S(!1),u=S({}),b=S(a.columns.reduce((k,x)=>(k[x.key]=x.type==="date"?{from:"",to:""}:"",k),{})),l=O(()=>a.columns.filter(k=>k.filterable!==!1)),i=O(()=>Object.entries(b.value).reduce((k,[x,v])=>(v!=null&&(typeof v=="string"?v.trim()&&(k[x]=v):(typeof v=="number"||typeof v=="object"&&(v.from||v.to))&&(k[x]=v)),k),{})),m=O(()=>Object.keys(i.value).length>0),I=async k=>{try{const x=await de.post(k.endpoint,{model:k.model,columns:k.columns});u.value[k.key]=x.data.data}catch(x){console.error("Error loading model options:",x)}},_=k=>{const x=a.columns.find(v=>v.key===k);return x?x.label:k},c=(k,x)=>{var w,B;const v=a.columns.find(G=>G.key===k);if(!v)return x;switch(v.type){case"boolean":return x==="true"?"Yes":"No";case"date":return`${x.from||""} - ${x.to||""}`;case"select":const G=(B=(w=v.options)==null?void 0:w.select_options)==null?void 0:B.find(le=>le.value===x);return G?G.label:x;default:return x}},t=()=>{g("onFilterChange",i.value)},n=k=>{var x;b.value[k]=((x=a.columns.find(v=>v.key===k))==null?void 0:x.type)==="date"?{from:"",to:""}:"",t()},f=()=>{b.value=a.columns.reduce((k,x)=>(k[x.key]=x.type==="date"?{from:"",to:""}:"",k),{}),t()},C=()=>{t()};return a.columns&&a.columns.forEach(k=>{k.type==="model_search"&&k.filterable&&I(k)}),(k,x)=>(s(),o("div",_r,[e("div",$r,[e("button",{onClick:x[0]||(x[0]=v=>r.value=!r.value),class:"btn btn-ghost w-full justify-between"},[e("span",Cr,[h(y(pt),{class:"w-4 h-4"}),e("span",null,$(r.value?"Hide Filters":"Show Filters"),1)]),h(y(Z),{class:L(["w-4 h-4",{"rotate-180":r.value}])},null,8,["class"])])]),e("div",{class:L(["p-4",[r.value?"block":"hidden md:block"]])},[e("div",Mr,[(s(!0),o(T,null,H(l.value,v=>(s(),o("div",{key:v.key,class:"form-control"},[e("label",Sr,[e("span",Dr,$(v.label),1)]),v.type==="model_search"?Y((s(),o("select",{key:0,"onUpdate:modelValue":w=>b.value[v.key]=w,class:"select select-bordered w-full",onChange:t},[x[1]||(x[1]=e("option",{value:""},"All",-1)),(s(!0),o(T,null,H(u.value[v.key]||[],w=>(s(),o("option",{key:w.id,value:w.id},$(w[v.displayKey]),9,Ir))),128))],40,Vr)),[[ye,b.value[v.key]]]):v.type==="boolean"?Y((s(),o("select",{key:1,"onUpdate:modelValue":w=>b.value[v.key]=w,class:"select select-bordered w-full",onChange:t},x[2]||(x[2]=[e("option",{value:""},"All",-1),e("option",{value:"true"},"Yes",-1),e("option",{value:"false"},"No",-1)]),40,jr)),[[ye,b.value[v.key]]]):v.type==="select"&&v.options?Y((s(),o("select",{key:2,"onUpdate:modelValue":w=>b.value[v.key]=w,class:"select select-bordered w-full",onChange:t},[x[3]||(x[3]=e("option",{value:""},"All",-1)),(s(!0),o(T,null,H(v.options.select_options,w=>(s(),o("option",{key:w.value,value:w.value},$(w.label),9,Lr))),128))],40,Fr)),[[ye,b.value[v.key]]]):v.type==="date"?(s(),o("div",Tr,[Y(e("input",{type:"date","onUpdate:modelValue":w=>b.value[v.key].from=w,class:"input input-bordered flex-1",onChange:t},null,40,Ar),[[ne,b.value[v.key].from]]),Y(e("input",{type:"date","onUpdate:modelValue":w=>b.value[v.key].to=w,class:"input input-bordered flex-1",onChange:t},null,40,Or),[[ne,b.value[v.key].to]])])):Y((s(),o("input",{key:4,type:"text","onUpdate:modelValue":w=>b.value[v.key]=w,class:"input input-bordered w-full",onInput:t,placeholder:`Filter by ${v.label}`},null,40,Hr)),[[ne,b.value[v.key]]])]))),128))]),m.value?(s(),o("div",Ur,[(s(!0),o(T,null,H(i.value,(v,w)=>(s(),o("div",{key:w,class:"badge badge-primary gap-2 p-3"},[e("span",Er,$(_(w))+":",1),e("span",null,$(c(w,v)),1),e("button",{onClick:B=>n(w),class:"hover:text-error"},[h(y(ae),{class:"w-3 h-3"})],8,Pr)]))),128))])):D("",!0),e("div",zr,[m.value?(s(),o("button",{key:0,onClick:f,class:"btn btn-ghost gap-2"},[h(y(De),{class:"w-4 h-4"}),x[4]||(x[4]=q(" Reset Filters "))])):D("",!0),e("button",{onClick:C,class:"btn btn-primary gap-2"},[h(y(it),{class:"w-4 h-4"}),x[5]||(x[5]=q(" Apply Filters "))])])],2)]))}},Br={class:"relative"},Rr={key:0,class:"absolute right-0 top-full mt-2 bg-base-100 rounded-lg shadow-lg border border-base-300 p-4 min-w-[240px] z-50"},Nr={class:"flex justify-between items-center mb-4 pb-2 border-b border-base-200"},Kr=["disabled"],Yr=["disabled"],Wr={class:"space-y-2"},Jr={class:"text-sm"},Xr=["onClick"],Qr=X({__name:"ColumnVisibilityManager",props:{columns:{},storageKey:{}},emits:["update:hiddenColumns"],setup(d,{emit:p}){const a=d,g=p,r=S(!1),u=S(new Set),b=S(!1),l=O(()=>a.columns.length),i=O(()=>l.value-u.value.size),m=O(()=>a.storageKey||"table-hidden-columns"),I=()=>{r.value=!r.value},_=()=>{r.value=!1},c=v=>{const w=new Set(u.value);w.has(v)?w.delete(v):w.add(v),f(w)},t=()=>{f(new Set)},n=()=>{localStorage.removeItem(m.value),b.value=!1,f(new Set)},f=v=>{u.value=v,g("update:hiddenColumns",v),C(v)},C=v=>{try{const w=Array.from(v);localStorage.setItem(m.value,JSON.stringify(w)),b.value=w.length>0}catch(w){console.error("Error saving column preferences:",w)}},k=()=>{try{const v=localStorage.getItem(m.value);if(v){const w=JSON.parse(v),B=new Set(w);b.value=w.length>0,f(B)}}catch(v){console.error("Error loading column preferences:",v)}},x={mounted(v,w){v.clickOutsideEvent=B=>{v===B.target||v.contains(B.target)||w.value()},document.addEventListener("click",v.clickOutsideEvent)},unmounted(v){document.removeEventListener("click",v.clickOutsideEvent)}};return xe(()=>{k()}),Q(()=>a.columns,()=>{const v=new Set(a.columns.map(B=>B.key)),w=new Set(Array.from(u.value).filter(B=>v.has(B)));w.size!==u.value.size&&f(w)},{deep:!0}),(v,w)=>Y((s(),o("div",Br,[e("button",{onClick:I,class:"btn btn-ghost btn-sm gap-2"},[h(y(_e),{class:"w-4 h-4"}),e("span",null,"Columns ("+$(i.value)+"/"+$(l.value)+")",1),h(y(Z),{class:L(["w-4 h-4 transition-transform",{"rotate-180":r.value}])},null,8,["class"])]),r.value?(s(),o("div",Rr,[e("div",Nr,[e("button",{onClick:t,class:"btn btn-ghost btn-xs gap-1",disabled:i.value===l.value},[h(y(_e),{class:"w-3 h-3"}),w[0]||(w[0]=q(" Show All "))],8,Kr),e("button",{onClick:n,class:"btn btn-ghost btn-xs gap-1",disabled:!b.value},[h(y(De),{class:"w-3 h-3"}),w[1]||(w[1]=q(" Reset "))],8,Yr)]),e("div",Wr,[(s(!0),o(T,null,H(v.columns,B=>(s(),o("div",{key:B.key,class:"flex items-center justify-between hover:bg-base-200 rounded-lg p-2 transition-colors"},[e("span",Jr,$(B.label),1),e("button",{onClick:he(G=>c(B.key),["stop"]),class:L(["btn btn-ghost btn-xs",u.value.has(B.key)?"text-base-content/50":"text-primary"])},[(s(),K(te(u.value.has(B.key)?y($s):y(_e)),{class:"w-4 h-4"}))],10,Xr)]))),128))])])):D("",!0)])),[[x,_]])}}),Gr={class:"relative"},Zr={key:0,class:"absolute right-0 top-full mt-2 bg-base-100 rounded-lg shadow-lg border border-base-300 p-2 min-w-[200px] z-50"},ei=X({__name:"ExportData",props:{data:{default:()=>[]},columns:{default:()=>[]},hiddenColumns:{default:()=>new Set},filename:{default:"exported-data"}},setup(d){const p=d,a=S(!1),g=()=>p.columns.filter(t=>!p.hiddenColumns.has(t.key)),r=t=>g().reduce((f,C)=>(f[C.label]=t[C.key],f),{}),u=t=>{if(t==null)return"";const n=String(t);return n.includes(",")||n.includes('"')||n.includes(`
`)?`"${n.replace(/"/g,'""')}"`:n},b=t=>{if(t.length===0)return"";const n=Object.keys(t[0]);return[n.join(","),...t.map(C=>n.map(k=>u(C[k])).join(","))].join(`
`)},l=(t,n,f)=>{const C=new Blob([t],{type:f}),k=window.URL.createObjectURL(C),x=document.createElement("a");x.href=k,x.download=n,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(k)},i=()=>{const t=p.data.map(r),n=b(t);l(n,`${p.filename}.csv`,"text/csv"),_()},m=()=>{const t=p.data.map(r),n=JSON.stringify(t,null,2);l(n,`${p.filename}.json`,"application/json"),_()},I=()=>{a.value=!a.value},_=()=>{a.value=!1},c={mounted(t,n){t.clickOutsideEvent=f=>{t===f.target||t.contains(f.target)||n.value()},document.addEventListener("click",t.clickOutsideEvent)},unmounted(t){document.removeEventListener("click",t.clickOutsideEvent)}};return(t,n)=>Y((s(),o("div",Gr,[e("button",{onClick:I,class:"btn btn-ghost btn-sm gap-2"},[h(y(_s),{class:"w-4 h-4"}),n[0]||(n[0]=e("span",{class:"hidden sm:inline"},"Export",-1)),h(y(Z),{class:L(["w-4 h-4 transition-transform",{"rotate-180":a.value}])},null,8,["class"])]),a.value?(s(),o("div",Zr,[e("button",{onClick:i,class:"btn btn-ghost btn-sm w-full justify-start gap-2 mb-1"},[h(y(at),{class:"w-4 h-4"}),n[1]||(n[1]=q(" Export as CSV "))]),e("button",{onClick:m,class:"btn btn-ghost btn-sm w-full justify-start gap-2"},[h(y(Ms),{class:"w-4 h-4"}),n[2]||(n[2]=q(" Export as JSON "))])])):D("",!0)])),[[c,_]])}}),ti={class:"w-full"},si={class:"relative flex flex-col bg-base-300 rounded-3xl shadow-lg transition-all duration-300 hover:shadow-xl"},li={class:"flex flex-col sm:flex-row items-center justify-between p-6 border-b border-base-content/10"},ai={class:"mb-4 sm:mb-0"},ni={class:"text-2xl md:text-3xl font-extrabold text-base-content flex items-center gap-3"},oi={key:0,class:"text-base-content/70 text-sm mt-1"},ri={class:"flex items-center gap-3"},ii={class:"btn-group"},di={key:0,class:"absolute inset-0 bg-base-300/50 backdrop-blur-sm flex items-center justify-center z-50 rounded-3xl"},ci={class:"p-6"},ui={class:"bg-base-100 rounded-xl overflow-hidden border border-base-content/10"},pi={key:0,class:"flex flex-col items-center justify-center p-12 text-center"},vi={class:"text-base-content/70 mt-1"},mi={key:1,class:"overflow-x-auto"},fi={class:"table table-compact w-full"},hi={class:"bg-base-200/50"},yi=["onClick"],bi={class:"flex items-center gap-2"},gi={key:0,class:"btn btn-ghost btn-xs btn-square opacity-50 hover:opacity-100"},xi={class:"text-right"},ki={class:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200"},wi={class:"hidden sm:inline"},_i={key:2,class:"divide-y divide-base-200"},$i={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ci={class:"text-sm font-medium text-base-content/70"},Mi={class:"mt-4 flex justify-end gap-2"},Si={class:"mt-6"},Di=X({__name:"Table",props:{tableTitle:{type:String,default:"Table"},columns:{type:Array,default:()=>[]},model:{type:String,required:!0},endpoint:{type:String,required:!0},endpointDelete:{type:String,required:!0},endpointCreate:{type:String,required:!0},endpointEdit:{type:String,required:!0},permission:{type:String,default:null},custom_edit_route:{type:String,default:null},custom_point_route:{type:String,default:null},custom_action_name:{type:String,default:null},defaultIdKey:{type:String,default:"id"}},setup(d){const p=d,a=S(!1),g=S([]),r=S({currentPage:1,lastPage:1,perPage:10,total:0,links:[]}),u=S(10),b=S(p.defaultIdKey),l=S(null),i=S(null),m=S("table"),I=O(()=>r.value.total),_=O(()=>i.value||b.value!=="id"||u.value!==10||l.value!==null),c=V=>b.value!==V?ys:l.value==="asc"?Le:Fe,t=V=>{b.value===V?l.value=l.value==="asc"?"desc":"asc":(b.value=V,l.value="asc"),f()},n=S({}),f=async(V=p.endpoint)=>{var U,z;try{a.value=!0;const N=await de.post(V,{model:p.model,columns:p.columns,perPage:u.value,search:i.value,sort:b.value,filters:n.value,direction:l.value,permission:p.permission});g.value=N.data.data,r.value={currentPage:N.data.current_page,lastPage:N.data.last_page,perPage:N.data.per_page,total:N.data.total,links:N.data.links}}catch(N){(z=(U=N.response)==null?void 0:U.data)!=null&&z.errors?Object.values(N.response.data.errors).forEach(J=>{Array.isArray(J)&&J.forEach(ie=>{ee("error",ie)})}):ee("error","Failed to fetch data")}finally{a.value=!1}},C=()=>{u.value=10,b.value="id",l.value=null,i.value=null,f()},k=()=>f(),x=V=>f(V),v=V=>{u.value=V,f()},w=V=>{n.value=V,f()},B=V=>{b.value=V,f()},G=V=>{l.value=V,f()},le=V=>{V&&V.length>2&&(i.value=V,f())},ce=V=>{u.value=V.perPage,b.value=V.filterBy,l.value=V.orderBy,i.value=V.search,f()},M=S(new Set),A=O(()=>p.columns.filter(V=>!M.value.has(V.key))),F=V=>{M.value=V};return f(),(V,U)=>(s(),o("div",ti,[e("div",si,[e("div",li,[e("div",ai,[e("h1",ni,[h(y(Xe),{class:"w-8 h-8 text-primary"}),q(" "+$(p.tableTitle),1)]),I.value?(s(),o("p",oi," Showing "+$(I.value.toLocaleString())+" items ",1)):D("",!0)]),e("div",ri,[e("div",ii,[e("button",{onClick:U[0]||(U[0]=z=>m.value="table"),class:L(["btn btn-sm",m.value==="table"?"btn-primary":"btn-ghost"])},[h(y(Xe),{class:"w-4 h-4"}),U[2]||(U[2]=e("span",{class:"hidden sm:inline ml-2"},"Table",-1))],2),e("button",{onClick:U[1]||(U[1]=z=>m.value="list"),class:L(["btn btn-sm",m.value==="list"?"btn-primary":"btn-ghost"])},[h(y(ct),{class:"w-4 h-4"}),U[3]||(U[3]=e("span",{class:"hidden sm:inline ml-2"},"List",-1))],2)]),h(Qr,{columns:p.columns,"storage-key":`${p.tableTitle}-hidden-columns`,"onUpdate:hiddenColumns":F},null,8,["columns","storage-key"]),h(ei,{data:g.value,columns:d.columns,hiddenColumns:M.value,filename:p.tableTitle.toLowerCase().replace(/\s+/g,"-")},null,8,["data","columns","hiddenColumns","filename"]),Ue(V.$slots,"custom-actions",{},void 0,!0),Ue(V.$slots,"new",{},()=>[h($n,{columns:p.columns,endpoint:p.endpointCreate,model:p.model,permission:p.permission,onOnCreate:k},null,8,["columns","endpoint","model","permission"])],!0)])]),h(Uo,{onOnPerPage:v,onOnOrderBy:G,onOnSearch:le,onOnFilter:B,onOnFilterReset:ce,columns:p.columns},null,8,["columns"]),h(qr,{class:"mt-3",columns:p.columns,onOnFilterChange:w},null,8,["columns"]),a.value?(s(),o("div",di,U[4]||(U[4]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"loading loading-spinner loading-lg text-primary"}),e("p",{class:"text-base-content/70"},"Loading data...")],-1)]))):D("",!0),e("div",ci,[e("div",ui,[!g.value.length&&!a.value?(s(),o("div",pi,[h(y(ks),{class:"w-16 h-16 text-base-content/20"}),U[6]||(U[6]=e("h3",{class:"text-lg font-semibold text-base-content mt-4"}," No Records Found ",-1)),e("p",vi,$(i.value?"Try adjusting your search or filters":"No data available"),1),_.value?(s(),o("button",{key:0,onClick:C,class:"btn btn-ghost btn-sm gap-2 mt-4"},[h(y(De),{class:"w-4 h-4"}),U[5]||(U[5]=q(" Reset Filters "))])):D("",!0)])):m.value==="table"?(s(),o("div",mi,[e("table",fi,[e("thead",hi,[e("tr",null,[(s(!0),o(T,null,H(A.value,z=>(s(),o("th",{key:z.key,onClick:N=>z.sortable&&t(z.key),class:L(["text-base-content",{"cursor-pointer hover:bg-base-200":z.sortable}])},[e("div",bi,[q($(z.label)+" ",1),z.sortable?(s(),o("button",gi,[(s(),K(te(c(z.key)),{class:"w-4 h-4"}))])):D("",!0)])],10,yi))),128)),U[7]||(U[7]=e("th",{class:"text-base-content text-right"},"Actions",-1))])]),e("tbody",null,[(s(!0),o(T,null,H(g.value,(z,N)=>(s(),o("tr",{key:z.id||N,class:"hover:bg-base-200/50 transition-colors duration-200 group"},[h(st,{tableData:z,columns:d.columns,hiddenColumns:M.value,viewType:"table"},null,8,["tableData","columns","hiddenColumns"]),e("td",xi,[e("div",ki,[d.custom_edit_route?(s(),K(y(Ie),{key:1,href:d.custom_edit_route+z.id,class:"btn btn-primary btn-sm gap-2"},{default:W(()=>[h(y($e),{class:"w-4 h-4"}),U[8]||(U[8]=e("span",{class:"hidden sm:inline"},"Edits",-1))]),_:2,__:[8]},1032,["href"])):(s(),K(et,{key:0,columns:d.columns,endpoint:d.endpointEdit,model:d.model,modelValue:z,id:z[p.defaultIdKey],permission:d.permission,onOnEdit:k},null,8,["columns","endpoint","model","modelValue","id","permission"])),d.custom_point_route?(s(),K(y(Ie),{key:2,href:d.custom_point_route+z.id,class:"btn btn-secondary btn-sm gap-2"},{default:W(()=>[h(y($e),{class:"w-4 h-4"}),e("span",wi,$(d.custom_action_name),1)]),_:2},1032,["href"])):D("",!0),h(Ge,{id:z[p.defaultIdKey],endpoint:d.endpointDelete,model:d.model,permission:d.permission,onOnDelete:k},null,8,["id","endpoint","model","permission"])])])]))),128))])])])):(s(),o("div",_i,[(s(!0),o(T,null,H(g.value,(z,N)=>(s(),o("div",{key:z.id||N,class:"p-4 hover:bg-base-200/50 transition-colors duration-200"},[e("div",$i,[(s(!0),o(T,null,H(d.columns,(J,ie)=>(s(),o("div",{key:ie,class:"space-y-1"},[e("div",Ci,$(J.label),1),h(st,{tableData:{[J.key]:z[J.key]},columns:[J],hiddenColumns:M.value,viewType:"list"},null,8,["tableData","columns","hiddenColumns"])]))),128))]),e("div",Mi,[d.custom_edit_route?(s(),K(y(Ie),{key:1,href:d.custom_edit_route+z.id,class:"btn btn-primary btn-sm gap-2"},{default:W(()=>[h(y($e),{class:"w-4 h-4"}),U[9]||(U[9]=e("span",{class:"hidden sm:inline"},"Edit",-1))]),_:2,__:[9]},1032,["href"])):(s(),K(et,{key:0,columns:d.columns,endpoint:d.endpointEdit,model:d.model,modelValue:z,id:z[p.defaultIdKey],permission:d.permission,onOnEdit:k},null,8,["columns","endpoint","model","modelValue","id","permission"])),h(Ge,{id:z[p.defaultIdKey],endpoint:d.endpointDelete,model:d.model,permission:d.permission,onOnDelete:k},null,8,["id","endpoint","model","permission"])])]))),128))]))]),e("div",Si,[g.value.length?(s(),K(Qo,{key:0,onOnPagiation:x,paginationInfo:r.value,endpoint:d.endpoint},null,8,["paginationInfo","endpoint"])):D("",!0)])])])]))}}),Ei=se(Di,[["__scopeId","data-v-d08dcb06"]]);export{Ei as T};
