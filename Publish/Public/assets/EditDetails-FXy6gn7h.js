import{ak as E,a as v,B as U,v as L,o as c,g as m,d as e,e as u,u as r,x as b,y as g,F as P,z as V,n as $,b as A,p as N,H as B,k as I,ax as M,f as z}from"./index-WItOpbdS.js";import{X as F}from"./x-D_G4-85w.js";import{S as O}from"./search-Cw9ASmoG.js";import{C as S}from"./check-Bj0sAzNn.js";import{P as D,I as q,C as j}from"./plus-C-Tc0aaV.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{U as Q}from"./user-DdnhHvPw.js";import{M as T}from"./mail-BO47lLg7.js";import{S as X}from"./save-ZWy67PzQ.js";import"./createLucideIcon-B_m21LnD.js";const G={key:0,class:"fixed inset-0 bg-dark-900/80 backdrop-blur-sm flex items-center justify-center z-50"},J={class:"bg-dark-500/90 backdrop-blur-sm rounded-xl border border-gray-800/50 w-full max-w-xl max-h-[80vh] overflow-hidden"},K={class:"relative p-4 text-center border-b border-gray-800/50"},R={class:"p-4 border-b border-gray-800/50"},W={class:"relative"},Y={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Z={class:"p-4 overflow-y-auto max-h-[60vh]"},ee={key:0,class:"flex justify-center items-center py-10"},te={key:1,class:"text-center py-10 text-gray-400"},se={key:2,class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4"},re=["onClick"],oe=["src","alt"],ae={class:"p-4 border-t border-gray-800/50 flex justify-end space-x-3"},le=["disabled"],ne={__name:"AvatarPicker",props:{isOpen:{type:Boolean,default:!1},currentAvatar:{type:String,default:""}},emits:["close","select"],setup(y,{emit:w}){const k=E("route"),f=y,h=w,s=v([]),p=v(!0),a=v(""),n=v("");U(()=>f.isOpen,i=>{i&&(C(),n.value=f.currentAvatar)});const x=L(()=>{if(!a.value)return s.value;const i=a.value.toLowerCase();return s.value.filter(o=>o.name.toLowerCase().includes(i))});async function C(){p.value=!0;try{const i=await B.get(k("avatars.list"));s.value=i.data}catch(i){console.error("Failed to load avatars:",i)}finally{p.value=!1}}function _(i){n.value=i}function t(){n.value&&(h("select",n.value),l())}function l(){h("close"),a.value=""}return(i,o)=>y.isOpen?(c(),m("div",G,[e("div",J,[e("div",K,[o[1]||(o[1]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-purple-500/5"},null,-1)),o[2]||(o[2]=e("h2",{class:"text-xl font-bold text-white"},"Choose Avatar",-1)),e("button",{onClick:l,class:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors"},[u(r(F),{class:"w-5 h-5"})])]),e("div",R,[e("div",W,[e("div",Y,[u(r(O),{class:"w-5 h-5 text-gray-400"})]),b(e("input",{"onUpdate:modelValue":o[0]||(o[0]=d=>a.value=d),type:"text",placeholder:"Search avatars...",class:"w-full pl-10 pr-4 py-2 bg-dark-400/50 border border-gray-800/50 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300"},null,512),[[g,a.value]])])]),e("div",Z,[p.value?(c(),m("div",ee,o[3]||(o[3]=[e("div",{class:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-blue-500"},null,-1)]))):x.value.length===0?(c(),m("div",te," No avatars found matching your search ")):(c(),m("div",se,[(c(!0),m(P,null,V(x.value,d=>(c(),m("div",{key:d.id,onClick:Ue=>_(d.path),class:"group relative cursor-pointer"},[e("div",{class:$(["absolute -inset-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg opacity-0 blur transition-opacity duration-300 group-hover:opacity-75",{"opacity-75":n.value===d.path}])},null,2),e("div",{class:$(["relative rounded-lg overflow-hidden border-2 border-dark-400 aspect-square transition-transform duration-300 group-hover:scale-105",{"border-blue-500":n.value===d.path}])},[e("img",{src:d.path,alt:d.name,class:"w-full h-full object-cover"},null,8,oe),e("div",{class:$(["absolute inset-0 bg-dark-500/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",{"opacity-100":n.value===d.path}])},[n.value===d.path?(c(),A(r(S),{key:0,class:"w-8 h-8 text-blue-500"})):(c(),A(r(D),{key:1,class:"w-6 h-6 text-white"}))],2)],2)],8,re))),128))]))]),e("div",ae,[e("button",{onClick:l,class:"px-4 py-2 bg-dark-400/70 hover:bg-dark-400 text-gray-300 font-medium rounded-lg transition-colors duration-300"}," Cancel "),e("button",{onClick:t,disabled:!n.value,class:"group relative flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-medium rounded-lg transition-all duration-300 hover:from-blue-600 hover:to-purple-600 disabled:opacity-50 disabled:cursor-not-allowed"},[o[4]||(o[4]=e("div",{class:"absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-20 group-hover:animate-shine"},null,-1)),u(r(S),{class:"w-5 h-5"}),o[5]||(o[5]=e("span",null,"Apply",-1))],8,le)])])])):N("",!0)}},ie={class:"bg-dark-500/90 backdrop-blur-sm rounded-xl border border-gray-800/50 overflow-hidden"},de={class:"relative p-6 text-center border-b border-gray-800/50"},ue={class:"relative"},ce={class:"relative inline-block group"},pe=["src"],me={class:"absolute inset-0 bg-dark-500/80 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300"},fe={class:"space-y-2"},ve={class:"relative"},be={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},ge={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ye={class:"space-y-2"},he={class:"relative"},xe={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},_e={class:"space-y-2"},we={class:"relative"},ke={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Ce={class:"space-y-2"},$e={class:"relative"},Ae={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Se={class:"pt-4"},je={type:"submit",class:"group relative w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-medium rounded-lg transition-all duration-300 hover:from-blue-600 hover:to-purple-600"},Ee={__name:"EditDetails",props:{userInfo:{type:Object,default:{}}},emits:["isLoading"],setup(y,{emit:w}){const k=E("route"),f=w,h=y;let s=v({});const p=v(!1);I(()=>{s.value=h.userInfo});const a=M({username:"",first_name:"",last_name:"",email:"",avatar:""});function n(){p.value=!0}function x(_){s.value.avatar=_}const C=()=>{f("isLoading",!0),a.first_name=s.value.first_name,a.last_name=s.value.last_name,a.email=s.value.email,a.username=s.value.username,a.avatar=s.value.avatar,a.patch(k("user.update",s.value.id),{preserveState:!0,onSuccess:()=>{f("isLoading",!1)},onError:()=>{f("isLoading",!1)}})};return(_,t)=>(c(),m("div",ie,[e("div",de,[t[8]||(t[8]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-purple-500/5"},null,-1)),e("div",ue,[e("div",ce,[t[5]||(t[5]=e("div",{class:"absolute -inset-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full opacity-75 blur transition-opacity duration-300 group-hover:opacity-100"},null,-1)),e("div",{class:"relative w-24 h-24 rounded-full overflow-hidden border-2 border-dark-400 cursor-pointer",onClick:n},[e("img",{src:r(s).avatar,alt:"Profile Picture",class:"w-full h-full object-cover"},null,8,pe),e("div",me,[u(r(q),{class:"w-6 h-6 text-white"})])])]),t[6]||(t[6]=e("h2",{class:"mt-4 text-xl font-bold text-white"},"Edit Profile",-1)),t[7]||(t[7]=e("p",{class:"text-sm text-gray-400"},"Update your personal information",-1))])]),e("form",{onSubmit:z(C,["prevent"]),class:"p-6 space-y-6"},[e("div",fe,[t[9]||(t[9]=e("label",{for:"username",class:"block text-sm font-medium text-gray-300"},"Username",-1)),e("div",ve,[e("div",be,[u(r(Q),{class:"w-5 h-5 text-gray-400"})]),b(e("input",{id:"username","onUpdate:modelValue":t[0]||(t[0]=l=>r(s).username=l),type:"text",placeholder:"Enter your username",class:"w-full pl-10 pr-4 py-3 bg-dark-400/50 border border-gray-800/50 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300"},null,512),[[g,r(s).username]])])]),e("div",ge,[e("div",ye,[t[10]||(t[10]=e("label",{for:"first_name",class:"block text-sm font-medium text-gray-300"},"First Name",-1)),e("div",he,[e("div",xe,[u(r(j),{class:"w-5 h-5 text-gray-400"})]),b(e("input",{id:"first_name","onUpdate:modelValue":t[1]||(t[1]=l=>r(s).first_name=l),type:"text",placeholder:"Enter your first name",class:"w-full pl-10 pr-4 py-3 bg-dark-400/50 border border-gray-800/50 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300"},null,512),[[g,r(s).first_name]])])]),e("div",_e,[t[11]||(t[11]=e("label",{for:"last_name",class:"block text-sm font-medium text-gray-300"},"Last Name",-1)),e("div",we,[e("div",ke,[u(r(j),{class:"w-5 h-5 text-gray-400"})]),b(e("input",{id:"last_name","onUpdate:modelValue":t[2]||(t[2]=l=>r(s).last_name=l),type:"text",placeholder:"Enter your last name",class:"w-full pl-10 pr-4 py-3 bg-dark-400/50 border border-gray-800/50 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300"},null,512),[[g,r(s).last_name]])])])]),e("div",Ce,[t[12]||(t[12]=e("label",{for:"email",class:"block text-sm font-medium text-gray-300"},"Email Address",-1)),e("div",$e,[e("div",Ae,[u(r(T),{class:"w-5 h-5 text-gray-400"})]),b(e("input",{id:"email","onUpdate:modelValue":t[3]||(t[3]=l=>r(s).email=l),type:"email",placeholder:"Enter your email",class:"w-full pl-10 pr-4 py-3 bg-dark-400/50 border border-gray-800/50 rounded-lg text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300"},null,512),[[g,r(s).email]])])]),e("div",Se,[e("button",je,[t[13]||(t[13]=e("div",{class:"absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-20 group-hover:animate-shine"},null,-1)),u(r(X),{class:"w-5 h-5"}),t[14]||(t[14]=e("span",null,"Save Changes",-1))])])],32),u(ne,{"is-open":p.value,"current-avatar":r(s).avatar,onClose:t[4]||(t[4]=l=>p.value=!1),onSelect:x},null,8,["is-open","current-avatar"])]))}},De=H(Ee,[["__scopeId","data-v-d1605722"]]);export{De as default};
