import{a as b,G as ae,o as a,g as i,d as e,t as x,J as P,K as z,u as r,i as K,v as U,F as $,B as V,A as L,E as T,Q as R,p as Q,I as G,D as J,C as X,y as O,H as re,L as N,f as w,b as Y,w as B,l as Z,M as q,k as ve,m as he,N as _e}from"./preset-4005b4d0.js";import{_ as j}from"./Input-07f69526.js";import{_ as fe}from"./Password-8d83e4e8.js";import{_ as ye}from"./Select-18bf6daa.js";import{_ as be}from"./Toogle-e2dde8aa.js";import{I as le,u as oe,o as E,A as ee,s as ge,N as se,a as A}from"./keyboard-6bc35040.js";const we={class:"form-control"},ke={class:"label"},xe={class:"block text-lg font-bold mb-2"},$e=["name","id","placeholder"],Ve={key:0,class:"invalid-feedback text-primary",role:"alert"},Se={key:1,class:"mt-3 bg-white rounded"},Ce=e("div",{class:"px-2 py-3 bg-green-200 text-black rounded-t"},[e("strong",null,"Available Items")],-1),De=["onClick"],Oe={class:"inline-flex items-center space-x-2"},Me=["src"],je=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])],-1),Ue={key:2,class:"mt-3 bg-white rounded"},Be=e("div",{class:"px-2 py-3 bg-red-200 text-black rounded-t"},[e("strong",null,"Selected Items")],-1),Fe=["onClick"],Ie={class:"inline-flex items-center space-x-2"},Pe=["src"],Ke=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])],-1),Te={__name:"Image",props:{label:String,name:String,id:String,placeholder:String,modelValue:Array,endpoint:String,loadData:Object},emits:["update:modelValue"],setup(d,{emit:y}){const c=d;let t=b(""),u=b({}),p=b(c.modelValue||[]),v=b(null);ae(()=>{p.value=c.loadData||[]});const h=y,_=()=>{L.post(c.endpoint,{search:t.value}).then(n=>{u.value=n.data}).catch(n=>{v.value=n.message})},s=n=>{p.value.find(o=>o.id===n.id)||(p.value.push(n),h("update:modelValue",p.value)),u.value={}},l=n=>{p.value.splice(n,1),h("update:modelValue",p.value)};return(n,o)=>(a(),i("div",we,[e("label",ke,[e("span",xe,x(c.label),1)]),P(e("input",{class:"input input-primary input-bordered",name:c.name,id:c.id,placeholder:c.placeholder,"onUpdate:modelValue":o[0]||(o[0]=m=>K(t)?t.value=m:t=m),autocomplete:"off",onKeyup:_},null,40,$e),[[z,r(t)]]),r(v)?(a(),i("span",Ve,[e("strong",null,x(r(v)),1)])):U("",!0),r(u).data?(a(),i("div",Se,[Ce,(a(!0),i($,null,V(r(u).data,(m,f)=>(a(),i("div",{class:"flex justify-between items-center border-b border-slate-200 py-3 px-2 border-l-4 border-l-transparent hover:rounded text-black hover:bg-green-700 hover:text-white",key:m.id,onClick:g=>s(m)},[e("div",Oe,[e("div",null,[e("img",{src:m.url.default,alt:"",class:"h-10 w-10 flex-shrink-0 rounded-full"},null,8,Me)]),e("div",null,[e("strong",null,x(m.name),1)])]),je],8,De))),128))])):U("",!0),r(p).length>0?(a(),i("div",Ue,[Be,(a(!0),i($,null,V(r(p),(m,f)=>(a(),i("div",{class:"flex justify-between items-center border-b border-slate-200 text-black py-3 px-2 border-l-4 border-l-transparent hover:rounded hover:bg-red-700 hover:text-white",key:m.id,onClick:g=>l(f)},[e("div",Ie,[e("div",null,[e("img",{src:m.url.default,alt:"",class:"h-10 w-10 flex-shrink-0 rounded-full"},null,8,Pe)]),e("div",null,[e("strong",null,x(m.name),1)])]),Ke],8,Fe))),128))])):U("",!0)]))}},Ee={class:"form-control"},Le={class:"label"},Ae={class:"block text-lg font-bold mb-2"},He=["placeholder"],We={class:"invalid-feedback text-primary",role:"alert"},Ne={key:0,class:"mt-3 bg-white rounded"},Re=e("div",{class:"px-2 py-3 bg-green-200 text-black rounded-t"},[e("strong",null,"Available Items")],-1),qe=["onClick"],ze={class:"inline-flex items-center space-x-2"},Qe=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])],-1),Ge={class:"mt-3 bg-white rounded"},Je=["onClick"],Xe={class:"inline-flex items-center space-x-2"},Ye=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])],-1),ne={__name:"TextMultipleSelector",props:{label:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:String,default:""},model:{type:String,default:""},columns:{type:Object,default:null},endpoint:{type:String,default:""},loadData:{type:Object,default:null},singleMode:{type:Boolean,default:!1},displayKey:{type:String,default:"name"}},emits:["update:modelValue"],setup(d,{emit:y}){let c=b(null);T(()=>{var n;return(n=R().props)==null?void 0:n.errors},n=>{R().props.errors[t.name]&&(c.value=R().props.errors[t.name])});const t=d,u=y;let p=b(""),v=b("");const h=async()=>{L.post(t.endpoint,{search:p.value,model:t.model,columns:t.columns}).then(function(n){v.value=n.data}).catch(function(n){for(const[o,m]of Object.entries(n.response.data.errors))message.error(m[0])})};let _=b([]);const s=async n=>{t.singleMode&&(_.value=[]),_.value.indexOf(n)===-1&&_.value.push({id:n.id,[t.displayKey]:n[t.displayKey]}),v.value=[],u("update:modelValue",_.value)},l=async n=>{_.value.splice(n,1),u("update:modelValue",_.value)};return Q(()=>{t.loadData&&(t.singleMode?_.value=[t.loadData]:_.value=t.loadData)}),(n,o)=>(a(),i("div",Ee,[e("label",Le,[e("span",Ae,x(t.label),1)]),P(e("input",{class:"input input-primary input-bordered",name:"{{ props.name }}",id:"{{ props.id }}",placeholder:t.placeholder,autocomplete:"off","onUpdate:modelValue":o[0]||(o[0]=m=>K(p)?p.value=m:p=m),onKeyup:h},null,40,He),[[z,r(p)]]),e("span",We,[e("strong",null,x(r(c)),1)]),r(v).data?(a(),i("div",Ne,[Re,(a(!0),i($,null,V(r(v).data,(m,f)=>(a(),i("div",{class:"flex justify-between items-center border-b border-slate-200 py-3 px-2 border-l-4 border-l-transparent hover:rounded text-black hover:bg-green-700 hover:text-white",key:m.id,onClick:g=>s(m)},[e("div",ze,[e("div",null,[e("strong",null,x(m[t.displayKey]),1)])]),Qe],8,qe))),128))])):U("",!0),e("div",Ge,[(a(!0),i($,null,V(r(_),(m,f)=>(a(),i("div",{class:"flex justify-between items-center border-b border-slate-200 text-black py-3 px-2 border-l-4 border-l-transparent hover:rounded hover:bg-red-700 hover:text-white",key:m.id,onClick:g=>l(f)},[e("div",Xe,[e("div",null,[e("strong",null,x(m[t.displayKey]),1)])]),Ye],8,Je))),128))])]))}};let ie=Symbol("Context");var H=(d=>(d[d.Open=1]="Open",d[d.Closed=2]="Closed",d[d.Closing=4]="Closing",d[d.Opening=8]="Opening",d))(H||{});function Ze(){return G(ie,null)}function et(d){J(ie,d)}var tt=(d=>(d[d.Open=0]="Open",d[d.Closed=1]="Closed",d))(tt||{});let de=Symbol("DisclosureContext");function te(d){let y=G(de,null);if(y===null){let c=new Error(`<${d} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(c,te),c}return y}let ce=Symbol("DisclosurePanelContext");function lt(){return G(ce,null)}let ue=X({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(d,{slots:y,attrs:c}){let t=b(d.defaultOpen?0:1),u=b(null),p=b(null),v={buttonId:b(`headlessui-disclosure-button-${le()}`),panelId:b(`headlessui-disclosure-panel-${le()}`),disclosureState:t,panel:u,button:p,toggleDisclosure(){t.value=oe(t.value,{0:1,1:0})},closeDisclosure(){t.value!==1&&(t.value=1)},close(h){v.closeDisclosure();let _=(()=>h?h instanceof HTMLElement?h:h.value instanceof HTMLElement?E(h):E(v.button):E(v.button))();_==null||_.focus()}};return J(de,v),et(O(()=>oe(t.value,{0:H.Open,1:H.Closed}))),()=>{let{defaultOpen:h,..._}=d,s={open:t.value===0,close:v.close};return ee({theirProps:_,ourProps:{},slot:s,slots:y,attrs:c,name:"Disclosure"})}}}),pe=X({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(d,{attrs:y,slots:c,expose:t}){let u=te("DisclosureButton"),p=lt(),v=O(()=>p===null?!1:p.value===u.panelId.value);Q(()=>{v.value||d.id!==null&&(u.buttonId.value=d.id)}),re(()=>{v.value||(u.buttonId.value=null)});let h=b(null);t({el:h,$el:h}),v.value||ae(()=>{u.button.value=h.value});let _=ge(O(()=>({as:d.as,type:y.type})),h);function s(){var o;d.disabled||(v.value?(u.toggleDisclosure(),(o=E(u.button))==null||o.focus()):u.toggleDisclosure())}function l(o){var m;if(!d.disabled)if(v.value)switch(o.key){case A.Space:case A.Enter:o.preventDefault(),o.stopPropagation(),u.toggleDisclosure(),(m=E(u.button))==null||m.focus();break}else switch(o.key){case A.Space:case A.Enter:o.preventDefault(),o.stopPropagation(),u.toggleDisclosure();break}}function n(o){switch(o.key){case A.Space:o.preventDefault();break}}return()=>{var o;let m={open:u.disclosureState.value===0},{id:f,...g}=d,M=v.value?{ref:h,type:_.value,onClick:s,onKeydown:l}:{id:(o=u.buttonId.value)!=null?o:f,ref:h,type:_.value,"aria-expanded":u.disclosureState.value===0,"aria-controls":u.disclosureState.value===0||E(u.panel)?u.panelId.value:void 0,disabled:d.disabled?!0:void 0,onClick:s,onKeydown:l,onKeyup:n};return ee({ourProps:M,theirProps:g,slot:m,attrs:y,slots:c,name:"DisclosureButton"})}}}),me=X({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(d,{attrs:y,slots:c,expose:t}){let u=te("DisclosurePanel");Q(()=>{d.id!==null&&(u.panelId.value=d.id)}),re(()=>{u.panelId.value=null}),t({el:u.panel,$el:u.panel}),J(ce,u.panelId);let p=Ze(),v=O(()=>p!==null?(p.value&H.Open)===H.Open:u.disclosureState.value===0);return()=>{var h;let _={open:u.disclosureState.value===0,close:u.close},{id:s,...l}=d,n={id:(h=u.panelId.value)!=null?h:s,ref:u.panel};return ee({ourProps:n,theirProps:l,slot:_,attrs:y,slots:c,features:se.RenderStrategy|se.Static,visible:v.value,name:"DisclosurePanel"})}}});const ot=["for"],st=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),nt=[st],at=["id"],rt={class:"modal"},it={class:"modal-box w-11/12 max-w-5xl"},dt=["for"],ct=e("h3",{class:"text-lg font-bold"},"This action cannot be undone.",-1),ut=e("p",{class:"py-4"},"Are you sure you want to delete this item?",-1),pt={class:"modal-action"},mt=["for"],vt=["for"],ht={__name:"delete",props:{id:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onDelete"],setup(d,{emit:y}){const c=N(),t=d,u=y,p=async()=>{L.post(t.endpoint,{model:t.model,id:t.id,permission:t.permission}).then(function(v){c.success(v.data.message),u("onDelete")}).catch(function(v){for(const[h,_]of Object.entries(v.response.data.errors))c.error(_[0])})};return(v,h)=>(a(),i($,null,[e("label",{for:"my-modal-"+t.id,class:"btn btn-error modal-button"},nt,8,ot),e("input",{type:"checkbox",id:"my-modal-"+t.id,class:"modal-toggle"},null,8,at),e("div",rt,[e("div",it,[e("label",{for:"my-modal-"+t.id,class:"btn btn-sm btn-circle absolute right-2 top-2"},"✕",8,dt),ct,ut,e("div",pt,[e("label",{for:"my-modal-"+t.id,class:"btn btn-success"},"Close!",8,mt),e("label",{for:"my-modal-"+t.id,onClick:p,class:"btn btn-error"},"Delete",8,vt)])])])],64))}},_t=d=>{const y=d.split("/");return new Date(y[2]+"/"+y[1]+"/"+y[0]).toISOString().split("T")[0]},ft=d=>{const y=d.split("/");return new Date(y[2]+"/"+y[1]+"/"+y[0]).toISOString().substr(0,16)},yt=d=>d?d.toString():"",bt={key:0},gt={key:1},wt={key:2},kt={key:3},xt={key:4},$t={key:5},Vt={key:6},St={key:7},Ct={key:8},Dt={key:9},Ot={key:10},Mt={key:11},jt=["innerHTML"],Ut={key:12},W={__name:"formbuilder",props:{columns:{type:Array,default:()=>[]},modelValue:{type:Array,default:()=>[]},editMode:{type:String,default:"false"}},emits:["onFormUpdate"],setup(d,{emit:y}){const c=d;let t=b([]);(()=>{t.value=[];for(const[_,s]of Object.entries(c.columns))if(c.editMode=="false"){if(s.canCreate){let l="";s.type=="toogle"&&(l=!1),t.value.push({key:s.key,label:s.label,type:s.type,nullable:s==null?void 0:s.nullable,unique:s==null?void 0:s.unique,endpoint:s==null?void 0:s.endpoint,displayKey:s==null?void 0:s.displayKey,columns:s==null?void 0:s.columns,model:s==null?void 0:s.model,singleSearch:s==null?void 0:s.singleSearch,relation:s==null?void 0:s.relation,value:l,select_options:s==null?void 0:s.select_options})}}else if(s.canEdit){let l=null;switch(s.type){case"date":l=_t(c.modelValue[s.key]);break;case"timestamp":l=ft(c.modelValue[s.key]);break;case"media":l=c.modelValue[s.key];break;case"model_search":l=c.modelValue[s.key];break;case"pivot_model":l=c.modelValue[s.key];break;default:l=yt(c.modelValue[s.key]);break}t.value.push({key:s.key,label:s.label,type:s.type,nullable:s==null?void 0:s.nullable,displayKey:s==null?void 0:s.displayKey,unique:s==null?void 0:s.unique,value:l,endpoint:s==null?void 0:s.endpoint,columns:s==null?void 0:s.columns,model:s==null?void 0:s.model,singleSearch:s==null?void 0:s.singleSearch,relation:s==null?void 0:s.relation,select_options:s==null?void 0:s.select_options})}c.editMode=="true"&&p("onFormUpdate",t.value)})();const p=y;let v=b(null);T(()=>t.value,()=>{clearTimeout(v.value),v.value=setTimeout(function(){p("onFormUpdate",t.value)},500)},{deep:!0});const h=async(_,s,l)=>{if(l=="name"||l=="title"){const n=t.value.findIndex(o=>o.key=="slug");t.value[n]&&(t.value[n].value=_.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))}};return(_,s)=>(a(!0),i($,null,V(r(t),(l,n)=>(a(),i("div",{key:n},[l.type=="text"?(a(),i("div",bt,[w(r(j),{type:"text",modelValue:r(t)[n].value,"onUpdate:modelValue":o=>r(t)[n].value=o,label:l.label,onKeyup:o=>h(o.target.value,l.type,l.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):l.type=="password"?(a(),i("div",gt,[w(r(fe),{modelValue:r(t)[n].value,"onUpdate:modelValue":o=>r(t)[n].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="email"?(a(),i("div",wt,[w(r(j),{type:"email",modelValue:r(t)[n].value,"onUpdate:modelValue":o=>r(t)[n].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="date"?(a(),i("div",kt,[w(r(j),{type:"date",modelValue:r(t)[n].value,"onUpdate:modelValue":o=>r(t)[n].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="timestamp"?(a(),i("div",xt,[w(r(j),{type:"datetime-local",modelValue:r(t)[n].value,"onUpdate:modelValue":o=>r(t)[n].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="slug"?(a(),i("div",$t,[w(r(j),{type:"text",modelValue:r(t)[n].value,"onUpdate:modelValue":o=>r(t)[n].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):l.type=="media"?(a(),i("div",Vt,[w(r(Te),{label:"image",placeholder:"search",modelValue:r(t)[n].value,"onUpdate:modelValue":o=>r(t)[n].value=o,loadData:r(t)[n].value,endpoint:l.endpoint},null,8,["modelValue","onUpdate:modelValue","loadData","endpoint"])])):l.type=="number"?(a(),i("div",St,[w(r(j),{type:"number",modelValue:r(t)[n].value,"onUpdate:modelValue":o=>r(t)[n].value=o,label:l.label,onKeyup:o=>h(o.target.value,l.type,l.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):l.type=="model_search"?(a(),i("div",Ct,[w(r(ne),{label:l.label,placeholder:"search",model:l.model,columns:l.columns,singleMode:l.singleSearch,modelValue:r(t)[n].value,"onUpdate:modelValue":o=>r(t)[n].value=o,loadData:r(t)[n].value,endpoint:l.endpoint,displayKey:l.displayKey},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey"])])):l.type=="pivot_model"?(a(),i("div",Dt,[w(r(ne),{label:l.label,placeholder:"search",model:l.model,columns:l.columns,singleMode:l.singleSearch,modelValue:r(t)[n].value,"onUpdate:modelValue":o=>r(t)[n].value=o,loadData:r(t)[n].value,endpoint:l.endpoint,displayKey:l.displayKey},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey"])])):l.type=="toogle"?(a(),i("div",Ot,[w(r(be),{modelValue:r(t)[n].value,"onUpdate:modelValue":o=>r(t)[n].value=o,label:l.label},null,8,["modelValue","onUpdate:modelValue","label"])])):U("",!0),l.type=="icon"?(a(),i("div",Mt,[w(r(j),{type:"text",modelValue:r(t)[n].value,"onUpdate:modelValue":o=>r(t)[n].value=o,label:l.label,onKeyup:o=>h(o.target.value,l.type,l.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"]),e("div",{class:"bg-white flex justify-center p-10",innerHTML:r(t)[n].value},null,8,jt)])):U("",!0),l.type=="select"?(a(),i("div",Ut,[w(r(ye),{type:"text",modelValue:r(t)[n].value,"onUpdate:modelValue":o=>r(t)[n].value=o,label:l.label,onKeyup:o=>h(o.target.value,l.type,l.key),options:l.select_options},null,8,["modelValue","onUpdate:modelValue","label","onKeyup","options"])])):U("",!0)]))),128))}},Bt=e("label",{for:"my-modal-5",class:"btn btn-primary modal-button"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})])],-1),Ft=e("input",{type:"checkbox",id:"my-modal-5",class:"modal-toggle"},null,-1),It={class:"modal text-center"},Pt={key:0,class:"modal-box w-11/12 max-w-5xl"},Kt=e("h3",{class:"font-bold text-lg"},"New",-1),Tt={class:"w-full"},Et={class:"w-full bg-base-300 p-2"},Lt={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},At=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"},null,-1),Ht=[At],Wt={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Nt=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"},null,-1),Rt=[Nt],qt={class:"w-full bg-base-300 p-6"},zt=e("label",{for:"my-modal-5",class:"btn btn-error"},"Close",-1),Qt={key:1,class:"modal-box w-11/12 max-w-5xl"},Gt=Z('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title">The create method has been disable</h2><p>Try to contact the administrator </p></div></div>',1),Jt=[Gt],Xt={__name:"create",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onCreate"],setup(d,{emit:y}){const c=N(),t=d,u=O(()=>t.columns.filter(l=>l.canCreate).length>0),p=O(()=>{const l=t.columns.filter(g=>g.section),n=t.columns.filter(g=>!g.section),o=l.map(g=>g.section),m=[...new Set(o)],f=[];return m.forEach(g=>{const M=l.filter(F=>F.section==g);f.push({section:g,fields:M})}),{sections:m,fields:n,sectionsWithFields:f}});let v=b(t.columns.filter(l=>l.canCreate));const h=async l=>{if(v.value.length>0)for(const[n,o]of Object.entries(l))for(const[m,f]of Object.entries(v.value))o.key==f.key&&(v.value[m]=o);else v.value=l},_=y,s=async()=>{L.post(t.endpoint,{model:t.model,data:v.value,permission:t.permission}).then(function(l){c.success(l.data.message),_("onCreate")}).catch(function(l){for(const[n,o]of Object.entries(l.response.data.errors))c.error(o[0])})};return(l,n)=>(a(),i($,null,[Bt,Ft,e("div",It,[u.value?(a(),i("div",Pt,[Kt,e("div",Tt,[e("div",Et,[(a(!0),i($,null,V(p.value.sectionsWithFields,(o,m)=>(a(),Y(r(ue),{as:"div",class:"mt-2",key:m},{default:B(({open:f})=>[w(r(pe),{class:"btn btn-primary w-full"},{default:B(()=>[e("span",null,x(o.section),1),f?(a(),i("svg",Lt,Ht)):(a(),i("svg",Wt,Rt))]),_:2},1024),w(r(me),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:B(()=>[w(W,{columns:o.fields,onOnFormUpdate:h},null,8,["columns"])]),_:2},1024)]),_:2},1024))),128))])]),e("div",qt,[w(W,{columns:p.value.fields,onOnFormUpdate:h},null,8,["columns"])]),e("div",{class:"modal-action"},[zt,e("label",{for:"my-modal-5",class:"btn btn-success",onClick:s},"Create")])])):(a(),i("div",Qt,Jt))])],64))}},Yt=["for"],Zt=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),el=[Zt],tl=["id"],ll={class:"modal text-center"},ol={key:0,class:"modal-box w-11/12 max-w-5xl"},sl=e("h3",{class:"font-bold text-lg"},"Edit",-1),nl={class:"w-full"},al={class:"w-full bg-base-300 p-2"},rl={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},il=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"},null,-1),dl=[il],cl={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},ul=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"},null,-1),pl=[ul],ml={class:"w-full bg-base-300 p-6"},vl={class:"modal-action"},hl=["for"],_l=["for"],fl={key:1,class:"modal-box w-11/12 max-w-5xl"},yl=Z('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title">The edit method has been disable</h2><p>Try to contact the administrator </p></div></div>',1),bl=[yl],gl={__name:"edit",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},id:{type:String,default:"0"},modelValue:{type:Array,default:()=>[]},permission:{type:String,default:null}},emits:["onEdit"],setup(d,{emit:y}){const c=N(),t=d,u=O(()=>t.columns.filter(l=>l.canEdit).length>0),p=O(()=>{const l=t.columns.filter(g=>g.section),n=t.columns.filter(g=>!g.section),o=l.map(g=>g.section),m=[...new Set(o)],f=[];return m.forEach(g=>{const M=l.filter(F=>F.section==g);f.push({section:g,fields:M})}),{sections:m,fields:n,sectionsWithFields:f}});let v=b(t.columns.filter(l=>l.canEdit));const h=async l=>{if(v.value.length>0)for(const[n,o]of Object.entries(l))for(const[m,f]of Object.entries(v.value))o.key==f.key&&(v.value[m]=o);else v.value=l},_=y,s=async()=>{L.post(t.endpoint,{model:t.model,id:t.id,data:v.value,permission:t.permission}).then(function(l){c.success(l.data.message),_("onEdit")}).catch(function(l){for(const[n,o]of Object.entries(l.response.data.errors))c.error(o[0])})};return(l,n)=>(a(),i($,null,[e("label",{for:"edit-data-"+t.id,class:"btn btn-info modal-button"},el,8,Yt),e("input",{type:"checkbox",id:"edit-data-"+t.id,class:"modal-toggle"},null,8,tl),e("div",ll,[u.value?(a(),i("div",ol,[sl,e("div",nl,[e("div",al,[(a(!0),i($,null,V(p.value.sectionsWithFields,(o,m)=>(a(),Y(r(ue),{as:"div",class:"mt-2",key:m,defaultOpen:!0},{default:B(({open:f})=>[w(r(pe),{class:"btn btn-primary w-full"},{default:B(()=>[e("span",null,x(o.section),1),f?(a(),i("svg",rl,dl)):(a(),i("svg",cl,pl))]),_:2},1024),w(r(me),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:B(()=>[w(W,{columns:o.fields,onOnFormUpdate:h,editMode:"true",modelValue:t.modelValue},null,8,["columns","modelValue"])]),_:2},1024)]),_:2},1024))),128))])]),e("div",ml,[w(W,{columns:p.value.fields,onOnFormUpdate:h,editMode:"true",modelValue:t.modelValue},null,8,["columns","modelValue"])]),e("div",vl,[e("label",{for:"edit-data-"+t.id,class:"btn btn-error"},"Close",8,hl),e("label",{for:"edit-data-"+t.id,class:"btn btn-success",onClick:s},"Edit",8,_l)])])):(a(),i("div",fl,bl))])],64))}},wl={class:"my-2 flex sm:flex-row flex-col p-6"},kl={class:"flex flex-row mb-1 sm:mb-0"},xl={class:"relative pl-4"},$l=Z('<option disabled selected>Per page</option><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option>',5),Vl=[$l],Sl={class:"relative pl-4"},Cl=e("option",{disabled:"",selected:""},"Row",-1),Dl=["value"],Ol={class:"relative pl-4"},Ml=e("option",{disabled:"",selected:""},"Order by",-1),jl=e("option",{value:"asc"},"Asc",-1),Ul=e("option",{value:"desc"},"Desc",-1),Bl=[Ml,jl,Ul],Fl={class:"block relative pl-4"},Il={class:"form-control"},Pl={class:"input-group"},Kl=e("button",{class:"btn btn-square btn-primary"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),Tl={__name:"filter",props:{columns:{type:Array,default:()=>[]}},emits:["onPerPage","onOrderBy","onSearch","onFilter","onFilterReset"],setup(d,{emit:y}){const c=d,t=y;let u=b(10),p=b("id"),v=b("asc"),h=b(""),_=b([]);(async()=>{for(const[o,m]of Object.entries(c.columns))m.sortable&&(o==0&&(p.value=m.key),_.value.push({label:m.label,value:m.key}))})(),T(()=>u.value,o=>{t("onPerPage",o)}),T(()=>v.value,o=>{t("onOrderBy",o)}),T(()=>p.value,o=>{t("onFilter",o)});let l=b(null);T(()=>h.value,o=>{clearTimeout(l.value),l.value=setTimeout(function(){t("onSearch",o)},500)});const n=async()=>{u.value=10,p.value="id",v.value="asc",h.value=null,t("onFilterReset",[{perPage:u.value,filterBy:p.value,orderBy:v.value,search:h.value}])};return(o,m)=>(a(),i("div",wl,[e("div",kl,[e("div",xl,[P(e("select",{class:"select select-primary w-full max-w-xs","onUpdate:modelValue":m[0]||(m[0]=f=>K(u)?u.value=f:u=f)},Vl,512),[[q,r(u)]])]),e("div",Sl,[P(e("select",{class:"select select-primary w-full max-w-xs","onUpdate:modelValue":m[1]||(m[1]=f=>K(p)?p.value=f:p=f),onChange:m[2]||(m[2]=(...f)=>o.filterChange&&o.filterChange(...f))},[Cl,(a(!0),i($,null,V(r(_),(f,g)=>(a(),i("option",{key:g,value:f.value},x(f.label),9,Dl))),128))],544),[[q,r(p)]])]),e("div",Ol,[P(e("select",{class:"select select-primary w-full max-w-xs","onUpdate:modelValue":m[3]||(m[3]=f=>K(v)?v.value=f:v=f)},Bl,512),[[q,r(v)]])])]),e("div",Fl,[e("div",Il,[e("div",Pl,[P(e("input",{type:"text",placeholder:"Search…",class:"input input-bordered","onUpdate:modelValue":m[4]||(m[4]=f=>K(h)?h.value=f:h=f)},null,512),[[z,r(h)]]),Kl])])]),e("div",{class:"block relative pl-4"},[e("button",{class:"btn btn-outline btn-accent",onClick:n}," Reset ")])]))}},El={class:"px-5 py-5 bg-base-200 border-t flex flex-col xs:flex-row items-center xs:justify-between"},Ll={class:"text-xs xs:text-sm text-primary"},Al={class:"inline-flex mt-2 xs:mt-0"},Hl={class:"btn-group"},Wl=["onClick"],Nl=["innerHTML"],Rl={__name:"pagination",props:{paginationInfo:{type:Object,default:()=>[]}},emits:["onPagiation"],setup(d,{emit:y}){const c=y,t=async p=>{c("onPagiation",p)},u=d;return(p,v)=>(a(),i("div",El,[e("span",Ll," Showing "+x(u.paginationInfo.currentPage)+" to "+x(u.paginationInfo.perPage)+" of "+x(u.paginationInfo.total)+" Entries ",1),e("div",Al,[e("div",Hl,[(a(!0),i($,null,V(u.paginationInfo.links,(h,_)=>(a(),i("button",{class:ve(["btn btn-md",h.active?"btn-active":""]),key:_,onClick:s=>t(h.url)},[e("span",{innerHTML:h.label},null,8,Nl)],10,Wl))),128))])])]))}},ql={key:0},zl={class:"carousel rounded-box w-96"},Ql={class:"carousel-item w-1/2"},Gl=["src"],Jl={key:1},Xl=["innerHTML"],Yl={key:1},Zl={key:0,class:"badge badge-success mt-3"},eo={key:1,class:"badge badge-error mt-3"},to={key:2},lo={class:"flex flex-col"},oo=["innerHTML"],so={__name:"tableDataDisplay",props:{tableData:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]}},setup(d){const y=d,c=O(()=>{let t=[];for(const[u,p]of Object.entries(y.columns))t.push({label:p.label,type:p.type,value:y.tableData[p.key]});return t});return(t,u)=>(a(!0),i($,null,V(c.value,(p,v)=>(a(),i("th",{key:v},[p.type==="media"?(a(),i("div",ql,[e("div",zl,[(a(!0),i($,null,V(p.value,(h,_)=>(a(),i("div",Ql,[e("img",{src:h.url.default,class:"w-full"},null,8,Gl)]))),256))])])):(a(),i("div",Jl,[p.type=="icon"?(a(),i("div",{key:0,innerHTML:p.value,class:"bg-white flex justify-center p-10"},null,8,Xl)):p.type==="toogle"?(a(),i("div",Yl,[p.value==1?(a(),i("div",Zl,"Enable")):(a(),i("div",eo,"Disable"))])):p.type==="model_search"?(a(),i("div",to,[e("div",lo,[(a(!0),i($,null,V(p.value,(h,_)=>(a(),i("div",{class:"badge badge-primary mt-3",key:_},x(_)+" > "+x(h),1))),128))])])):(a(),i("div",{key:3,innerHTML:p.value},null,8,oo))]))]))),128))}},no={class:"w-full mb-12 xl:mb-0"},ao={class:"relative flex flex-col min-w-0 break-words bg-base-200 w-full mb-6 shadow-lg rounded"},ro={class:"rounded-t mb-0 px-4 py-3 border-0"},io={class:"flex flex-wrap items-center"},co={class:"relative w-full px-4 max-w-full flex-grow flex-1"},uo={class:"text-3xl font-bold text-base-content"},po={class:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"},mo={class:"overflow-x-auto p-6"},vo={class:"overflow-x-auto"},ho={class:"table table-compact w-full"},_o=e("th",null,"Action",-1),fo={class:"preview border-base-300 bg-base-200 rounded-b-box rounded-tr-box flex min-h-[6rem] min-w-[18rem] max-w-4xl flex-wrap items-center justify-center overflow-x-hidden border bg-cover bg-top p-4 undefined gap-4"},yo={key:1},bo=["for"],go=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),wo=[go],ko=e("th",null,"Action",-1),Oo={__name:"Table",props:{tableTitle:{type:String,default:"Table name"},columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},endpointDelete:{type:String,default:""},endpointCreate:{type:String,default:""},endpointEdit:{type:String,default:""},permission:{type:String,default:null},custom_edit_route:{type:String,default:null}},setup(d){const y=N(),c=d,t=async k=>{C(k)};let u=b(10);const p=async k=>{u.value=k,C()};let v=b("id");const h=async k=>{v.value=k,C()};let _=b(null);const s=async k=>{_.value=k,C()};let l=b(null);const n=async k=>{k&&k.length>3&&(l.value=k,C())},o=async()=>{C()},m=async()=>{C()},f=async()=>{C()},g=async k=>{u.value=k.perPage,v.value=k.filterBy,_.value=k.orderBy,l.value=k.search,C()};let M=b([]),F=b([]);const C=async(k=null)=>{k===null&&(k=c.endpoint),L.post(k,{model:c.model,columns:c.columns,perPage:u.value,search:l.value,sort:v.value,direction:_.value,permission:c.permission}).then(function(D){M.value=D.data.data,F.value={currentPage:D.data.current_page,lastPage:D.data.last_page,perPage:D.data.per_page,total:D.data.total,links:D.data.links}}).catch(function(D){for(const[S,I]of Object.entries(D.response.data.errors))y.error(I[0])})};return C(),(k,D)=>(a(),i("div",no,[e("div",ao,[e("div",ro,[e("div",io,[e("div",co,[e("h1",uo,x(c.tableTitle),1)]),e("div",po,[he(k.$slots,"new",{},()=>[w(Xt,{columns:c.columns,endpoint:c.endpointCreate,model:c.model,permission:c.permission,onOnCreate:m},null,8,["columns","endpoint","model","permission"])])])])]),w(Tl,{onOnPerPage:p,onOnOrderBy:s,onOnSearch:n,onOnFilter:h,onOnFilterReset:g,columns:c.columns},null,8,["columns"]),e("div",mo,[e("div",vo,[e("table",ho,[e("thead",null,[e("tr",null,[(a(!0),i($,null,V(d.columns,(S,I)=>(a(),i("th",{key:I},x(S.label),1))),128)),_o])]),e("tbody",null,[(a(!0),i($,null,V(r(M),(S,I)=>(a(),i("tr",{key:S},[w(so,{tableData:S,columns:d.columns},null,8,["tableData","columns"]),e("th",null,[e("div",fo,[w(ht,{id:S.id,endpoint:c.endpointDelete,model:c.model,permission:c.permission,onOnDelete:o},null,8,["id","endpoint","model","permission"]),d.custom_edit_route?(a(),i("div",yo,[w(r(_e),{href:d.custom_edit_route+S.id},{default:B(()=>[e("label",{for:"edit-data-"+S.id,class:"btn btn-info modal-button"},wo,8,bo)]),_:2},1032,["href"])])):(a(),Y(gl,{key:0,columns:c.columns,endpoint:c.endpointEdit,model:c.model,modelValue:S,id:S.id,permission:c.permission,onOnEdit:f},null,8,["columns","endpoint","model","modelValue","id","permission"]))])])]))),128))]),e("tfoot",null,[e("tr",null,[(a(!0),i($,null,V(d.columns,(S,I)=>(a(),i("th",{key:I},x(S.label),1))),128)),ko])])])]),w(Rl,{onOnPagiation:t,paginationInfo:r(F)},null,8,["paginationInfo"])])])]))}};export{Oo as _};
