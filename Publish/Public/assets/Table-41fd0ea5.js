import{v as H,bZ as K,o as r,g as d,d as e,j as E,t as V,q as le,F as C,J as z,a as $,A as O,m as X,y as M,e as h,u as i,D as T,E as Z,s as P,z as U,b as A,w as F,k as N,H as W,I as oe,bT as se,f as ae,X as ne,l as re,c0 as ie}from"./preset-b90b9b08.js";/* empty css                                                                         */import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import{I}from"./Input-75e9a382.js";import"./Password.vue_vue_type_style_index_0_scoped_eed4e79b_lang-f3834945.js";import{I as de}from"./Password-224c8919.js";import{_ as ce}from"./Select.vue_vue_type_script_setup_true_lang-0f699d34.js";import{_ as ue}from"./Image.vue_vue_type_script_setup_true_lang-2215c83f.js";import{_ as Y}from"./TextMultipleSelector-05047dbc.js";import{_ as J}from"./Toggle-7ddc4411.js";import{_ as pe}from"./Chips.vue_vue_type_script_setup_true_lang-34c80ed7.js";import{Q as G,V as ee,N as te}from"./disclosure-e9910491.js";import{L as me}from"./list-73150fc9.js";import{c as q}from"./createLucideIcon-c54a04d6.js";import{A as fe}from"./arrow-down-98a90328.js";import{S as Q}from"./search-b1a2db28.js";/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=q("ArrowUpIcon",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=q("FilterIcon",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=q("RotateCcwIcon",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),ye=["for"],ge=["id"],we={class:"modal text-neutral-content"},_e={class:"modal-box relative flex flex-col items-center justify-center w-11/12 max-w-md bg-white dark:bg-gray-800 border-2 border-red-500 rounded-2xl shadow-2xl text-center p-8 space-y-6"},xe=["for"],ke={class:"space-y-4"},$e={class:"text-gray-600 dark:text-gray-400 text-sm md:text-base"},Ve={class:"flex w-full justify-between space-x-4"},Ce=["for"],Se=H({__name:"delete",props:{id:{type:Number,default:0},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onDelete"],setup(y,{emit:_}){const v=K(),u=y,s=_,x=async()=>{var f,c;try{const m=await z.post(u.endpoint,{model:u.model,id:u.id,permission:u.permission});v.success(m.data.message),s("onDelete");const o=document.getElementById(`my-modal-delete-${u.id}`);o&&(o.checked=!1)}catch(m){const o=((c=(f=m.response)==null?void 0:f.data)==null?void 0:c.errors)||{};Object.values(o).forEach(p=>{v.error(p[0])})}};return(f,c)=>(r(),d(C,null,[e("label",{for:"my-modal-delete-"+u.id,class:"btn btn-error modal-button group transition-all duration-300 hover:scale-105"},c[0]||(c[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 group-hover:animate-pulse",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,ye),e("input",{type:"checkbox",id:"my-modal-delete-"+u.id,class:"modal-toggle"},null,8,ge),e("div",we,[e("div",_e,[e("button",{for:"my-modal-delete-"+u.id,class:"btn btn-sm btn-circle btn-ghost absolute right-3 top-3 hover:bg-red-50 dark:hover:bg-red-900"},c[1]||(c[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-500 hover:text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,xe),e("div",ke,[c[2]||(c[2]=E('<div class="flex justify-center mb-4" data-v-54f81a0a><div class="bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-full p-4 inline-flex items-center justify-center animate-bounce" data-v-54f81a0a><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-54f81a0a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" data-v-54f81a0a></path></svg></div></div><h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200" data-v-54f81a0a> Confirm Deletion </h2>',2)),e("p",$e," Are you sure you want to delete item #"+V(u.id)+"? This action cannot be undone. ",1)]),e("div",Ve,[e("label",{for:"my-modal-delete-"+u.id,class:"btn btn-outline btn-primary flex-1"}," Cancel ",8,Ce),e("button",{onClick:x,class:"btn btn-error flex-1 hover:bg-red-700 transition-colors duration-300 group"},c[3]||(c[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 group-hover:animate-pulse",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),le(" Delete ")]))])])])],64))}}),Me=R(Se,[["__scopeId","data-v-54f81a0a"]]),Ue=y=>{if(!y)return"";let _;if(y.includes("T"))_=new Date(y);else{const v=y.split("/");_=new Date(`${v[2]}-${v[1]}-${v[0]}`)}return _.toISOString().split("T")[0]},je=y=>{const _=y.split("/");return new Date(_[2]+"/"+_[1]+"/"+_[0]).toISOString().substr(0,16)},De=y=>y?y.toString():"",Fe={key:0},Pe={key:1},Be={key:2},Ie={key:3},Oe={key:4},Te={key:5},Ee={key:6},Ae={key:7},Le={key:8},He={key:9},Ke={key:10},ze={key:11},We={key:12},Ne={key:13},Re={class:"form-control mt-1"},qe={class:"label"},Ye={class:"label-text"},Je=["onKeyup","onUpdate:modelValue"],Qe={class:"flex justify-center bg-base-100 rounded mt-5"},Xe=["innerHTML"],Ze={key:14},L={__name:"formbuilder",props:{columns:{type:Array,default:()=>[]},modelValue:{type:Object,default:()=>({})},editMode:{type:String,default:"false"}},emits:["onFormUpdate"],setup(y,{emit:_}){const v=y,u=_;let s=$([]);const x=()=>{s.value=[],v.columns.forEach(o=>{var a;const p=v.editMode==="false",t=v.editMode==="true";if(p&&o.canCreate||t&&o.canEdit){let n="";p?(o.type==="Toggle"||o.type==="boolean")&&(n=!1):t&&(n=f(o,v.modelValue));const b=((a=o==null?void 0:o.options)==null?void 0:a.select_options)||(o==null?void 0:o.select_options),k={key:o.key,label:o.label,type:o.type,nullable:o==null?void 0:o.nullable,unique:o==null?void 0:o.unique,endpoint:o==null?void 0:o.endpoint,displayKey:o==null?void 0:o.displayKey,columns:o==null?void 0:o.columns,model:o==null?void 0:o.model,singleSearch:o==null?void 0:o.singleSearch,relation:o==null?void 0:o.relation,value:n,select_options:b};s.value.push(k)}}),v.editMode==="true"&&u("onFormUpdate",s.value)},f=(o,p)=>{switch(o.type){case"date":return Ue(p[o.key]);case"timestamp":return je(p[o.key]);case"media":case"model_search":case"pivot_model":case"boolean":case"chips":return p[o.key];default:return De(p[o.key])}};let c=$(null);O(()=>s.value,()=>{clearTimeout(c.value),c.value=setTimeout(()=>{u("onFormUpdate",s.value)},500)},{deep:!0});const m=(o,p,t)=>{if(t==="name"||t==="title"){const l=s.value.findIndex(a=>a.key==="slug");l!==-1&&(s.value[l].value=o.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))}};return X(x),(o,p)=>(r(),d("div",null,[(r(!0),d(C,null,M(i(s),(t,l)=>(r(),d("div",{key:l},[t.type=="text"?(r(),d("div",Fe,[h(i(I),{type:"text",modelValue:i(s)[l].value,"onUpdate:modelValue":a=>i(s)[l].value=a,label:t.label,onKeyup:a=>m(a.target.value,t.type,t.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):t.type=="password"?(r(),d("div",Pe,[h(i(de),{modelValue:i(s)[l].value,"onUpdate:modelValue":a=>i(s)[l].value=a,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"])])):t.type=="email"?(r(),d("div",Be,[h(i(I),{type:"email",modelValue:i(s)[l].value,"onUpdate:modelValue":a=>i(s)[l].value=a,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"])])):t.type=="date"?(r(),d("div",Ie,[h(i(I),{type:"date",modelValue:i(s)[l].value,"onUpdate:modelValue":a=>i(s)[l].value=a,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"])])):t.type=="timestamp"?(r(),d("div",Oe,[h(i(I),{type:"datetime-local",modelValue:i(s)[l].value,"onUpdate:modelValue":a=>i(s)[l].value=a,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"])])):t.type=="slug"?(r(),d("div",Te,[h(i(I),{type:"text",modelValue:i(s)[l].value,"onUpdate:modelValue":a=>i(s)[l].value=a,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"])])):t.type=="media"?(r(),d("div",Ee,[h(i(ue),{label:"image",placeholder:"search",modelValue:i(s)[l].value,"onUpdate:modelValue":a=>i(s)[l].value=a,loadData:i(s)[l].value,endpoint:t.endpoint},null,8,["modelValue","onUpdate:modelValue","loadData","endpoint"])])):t.type=="number"?(r(),d("div",Ae,[h(i(I),{type:"number",modelValue:i(s)[l].value,"onUpdate:modelValue":a=>i(s)[l].value=a,label:t.label,onKeyup:a=>m(a.target.value,t.type,t.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):t.type=="model_search"?(r(),d("div",Le,[h(i(Y),{label:t.label,placeholder:"search",model:t.model,columns:t.columns,singleMode:t.singleSearch,modelValue:i(s)[l].value,"onUpdate:modelValue":a=>i(s)[l].value=a,loadData:i(s)[l].value,endpoint:t.endpoint,displayKey:t.displayKey},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey"])])):t.type=="pivot_model"?(r(),d("div",He,[h(i(Y),{label:t.label,placeholder:"search",model:t.model,columns:t.columns,singleMode:t.singleSearch,modelValue:i(s)[l].value,"onUpdate:modelValue":a=>i(s)[l].value=a,loadData:i(s)[l].value,endpoint:t.endpoint,displayKey:t.displayKey},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey"])])):t.type=="Toggle"?(r(),d("div",Ke,[h(i(J),{modelValue:i(s)[l].value,"onUpdate:modelValue":a=>i(s)[l].value=a,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"])])):t.type=="boolean"?(r(),d("div",ze,[h(i(J),{modelValue:i(s)[l].value,"onUpdate:modelValue":a=>i(s)[l].value=a,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"])])):t.type=="chips"?(r(),d("div",We,[h(i(pe),{modelValue:i(s)[l].value,"onUpdate:modelValue":a=>i(s)[l].value=a,label:t.label},null,8,["modelValue","onUpdate:modelValue","label"])])):t.type=="icon"?(r(),d("div",Ne,[e("label",Re,[e("div",qe,[e("span",Ye,V(t.label),1)]),T(e("textarea",{class:"textarea textarea-primary h-24",onKeyup:a=>m(a.target.value,t.type,t.key),"onUpdate:modelValue":a=>i(s)[l].value=a,placeholder:"Bio"},null,40,Je),[[Z,i(s)[l].value]])]),e("div",Qe,[e("div",{class:"flex p-10 w-52",innerHTML:i(s)[l].value},null,8,Xe)])])):t.type=="select"?(r(),d("div",Ze,[h(i(ce),{modelValue:i(s)[l].value,"onUpdate:modelValue":a=>i(s)[l].value=a,label:t.label,options:t.select_options},null,8,["modelValue","onUpdate:modelValue","label","options"])])):P("",!0)]))),128))]))}},Ge={class:"modal text-left"},et={key:0,class:"modal-box w-11/12 max-w-5xl border border-primary shadow-primary shadow-2xl relative"},tt={class:"w-full space-y-4"},lt={key:0,class:"w-full rounded-lg"},ot={class:"text-left"},st={key:1,class:"w-full bg-base-300 border border-secondary rounded-3xl text-neutral-content p-6"},at={key:1,class:"modal-box w-11/12 max-w-5xl"},nt={__name:"create",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onCreate"],setup(y,{emit:_}){const v=K(),u=y,s=_,x=U(()=>u.columns.some(p=>p.canCreate)),f=U(()=>{const p=u.columns.filter(n=>n.section),t=u.columns.filter(n=>!n.section),l=[...new Set(p.map(n=>n.section))],a=l.map(n=>({section:n,fields:p.filter(b=>b.section===n)}));return{sections:l,fields:t,sectionsWithFields:a}});let c=$(u.columns.filter(p=>p.canCreate));const m=p=>{c.value.length>0?p.forEach(t=>{const l=c.value.findIndex(a=>a.key===t.key);l!==-1&&(c.value[l]=t)}):c.value=p},o=async()=>{var p,t;try{const l=await z.post(u.endpoint,{model:u.model,data:c.value,permission:u.permission});v.success(l.data.message),s("onCreate"),document.getElementById("my-modal-5").checked=!1}catch(l){const a=((t=(p=l.response)==null?void 0:p.data)==null?void 0:t.errors)||{};Object.values(a).forEach(n=>{v.error(n[0])})}};return(p,t)=>(r(),d(C,null,[t[5]||(t[5]=E('<label for="my-modal-5" class="btn btn-primary modal-button flex items-center space-x-2 group"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 transition-transform group-hover:rotate-45" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"></path></svg><span class="hidden md:inline">Create New</span></label><input type="checkbox" id="my-modal-5" class="modal-toggle">',2)),e("div",Ge,[x.value?(r(),d("div",et,[t[3]||(t[3]=e("div",{class:"modal-header flex justify-between items-center mb-4"},[e("h3",{class:"font-bold text-lg text-base-content"},"Create New Entry"),e("label",{for:"my-modal-5",class:"btn btn-sm btn-circle absolute right-2 top-2 hover:bg-base-200"}," ✕ ")],-1)),e("div",tt,[f.value.sectionsWithFields.length>0?(r(),d("div",lt,[(r(!0),d(C,null,M(f.value.sectionsWithFields,(l,a)=>(r(),A(i(te),{key:a,as:"div",class:"mb-2"},{default:F(({open:n})=>[h(i(G),{class:"btn btn-ghost w-full justify-between hover:bg-base-200"},{default:F(()=>[e("span",ot,V(l.section),1),(r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",class:N(["h-6 w-6 transition-transform",{"rotate-180":n}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),_:2},1024),h(i(ee),{class:"p-2 bg-base-100 rounded-b-lg"},{default:F(()=>[h(L,{columns:l.fields,onOnFormUpdate:m},null,8,["columns"])]),_:2},1024)]),_:2},1024))),128))])):P("",!0),f.value.fields.length>0?(r(),d("div",st,[h(L,{columns:f.value.fields,onOnFormUpdate:m},null,8,["columns"])])):P("",!0)]),e("div",{class:"modal-action flex justify-end gap-2 pt-3"},[t[2]||(t[2]=e("label",{for:"my-modal-5",class:"btn btn-secondary text-white"}," Close ",-1)),e("button",{onClick:o,class:"btn btn-primary text-white flex items-center space-x-2"},t[1]||(t[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z","clip-rule":"evenodd"})],-1),e("span",null,"Create",-1)]))])])):(r(),d("div",at,t[4]||(t[4]=[E('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-warning" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title text-error">Creation Disabled</h2><p class="text-base-content">You do not have permission to create entries.</p><p class="text-base-content">Please contact your administrator.</p></div></div>',1)])))])],64))}},rt=["for"],it=["id"],dt={class:"modal"},ct={key:0,class:"modal-box w-11/12 max-w-5xl border border-primary shadow-lg shadow-primary text-neutral-content relative"},ut={class:"modal-header flex justify-between items-center mb-4"},pt={class:"font-bold text-lg flex items-center space-x-2"},mt=["for"],ft={class:"w-full mt-2"},vt={key:0,class:"w-full rounded-lg p-2 space-y-2"},bt={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 transition-transform"},ht={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 transition-transform"},yt={key:1,class:"w-full bg-base-300 border border-secondary rounded-3xl text-neutral-content p-6 mt-4"},gt={class:"flex justify-end gap-4 mt-5"},wt=["for"],_t=["for"],xt={key:1,class:"modal-box w-11/12 max-w-5xl"},kt=H({__name:"edit",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},id:{type:Number,default:0},modelValue:{type:Object,default:()=>({})},permission:{type:String,default:null}},emits:["onEdit"],setup(y,{emit:_}){const v=K(),u=y,s=_,x=U(()=>u.columns.some(p=>p.canEdit)),f=U(()=>{const p=u.columns.filter(n=>n.section),t=u.columns.filter(n=>!n.section),l=[...new Set(p.map(n=>n.section))],a=l.map(n=>({section:n,fields:p.filter(b=>b.section===n)}));return{sections:l,fields:t,sectionsWithFields:a}});let c=$(u.columns.filter(p=>p.canEdit));const m=p=>{c.value.length>0?p.forEach(t=>{const l=c.value.findIndex(a=>a.key===t.key);l!==-1&&(c.value[l]=t)}):c.value=p},o=async()=>{var p,t;try{const l=await z.post(u.endpoint,{model:u.model,id:u.id,data:c.value,permission:u.permission});v.success(l.data.message),s("onEdit");const a=document.getElementById(`edit-data-${u.id}`);a&&(a.checked=!1)}catch(l){const a=((t=(p=l.response)==null?void 0:p.data)==null?void 0:t.errors)||{};Object.values(a).forEach(n=>{v.error(n[0])})}};return(p,t)=>(r(),d(C,null,[e("label",{for:"edit-data-"+u.id,class:"btn btn-info modal-button group transition-all duration-300 hover:scale-105"},t[0]||(t[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 group-hover:rotate-6 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,rt),e("input",{type:"checkbox",id:"edit-data-"+u.id,class:"modal-toggle"},null,8,it),e("div",dt,[x.value?(r(),d("div",ct,[e("div",ut,[e("h3",pt,[e("span",null,"Edit Item #"+V(u.id),1)]),e("label",{for:"edit-data-"+u.id,class:"btn btn-sm btn-circle absolute right-2 top-2 hover:bg-base-200"}," ✕ ",8,mt)]),e("div",ft,[f.value.sectionsWithFields.length>0?(r(),d("div",vt,[(r(!0),d(C,null,M(f.value.sectionsWithFields,(l,a)=>(r(),A(i(te),{key:a,as:"div",class:"mt-2",defaultOpen:!0},{default:F(({open:n})=>[h(i(G),{class:"btn btn-primary w-full flex justify-between items-center"},{default:F(()=>[e("span",null,V(l.section),1),n?(r(),d("svg",bt,t[1]||(t[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"},null,-1)]))):(r(),d("svg",ht,t[2]||(t[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"},null,-1)])))]),_:2},1024),h(i(ee),{class:"px-4 pt-4 pb-2 text-sm text-gray-500 transition-all duration-300"},{default:F(()=>[h(L,{columns:l.fields,onOnFormUpdate:m,editMode:"true",modelValue:u.modelValue},null,8,["columns","modelValue"])]),_:2},1024)]),_:2},1024))),128))])):P("",!0),f.value.fields.length>0?(r(),d("div",yt,[h(L,{columns:f.value.fields,onOnFormUpdate:m,editMode:"true",modelValue:u.modelValue},null,8,["columns","modelValue"])])):P("",!0)]),e("div",gt,[e("label",{for:"edit-data-"+u.id,class:"btn btn-primary font-bold text-lg text-white hover:bg-primary-focus transition-colors"}," Close ",8,wt),e("label",{for:"edit-data-"+u.id,class:"btn btn-secondary font-bold text-lg text-white hover:bg-secondary-focus transition-colors",onClick:o}," Submit ",8,_t)])])):(r(),d("div",xt,t[3]||(t[3]=[E('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10 animate-pulse"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-warning rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title text-error">Edit Method Disabled</h2><p class="text-base-content">You do not have permission to edit this item.</p><p class="text-base-content">Please contact your administrator for access.</p></div></div>',1)])))])],64))}}),$t={class:"bg-base-100 shadow-sm rounded-lg p-4 mb-4"},Vt={class:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4"},Ct={class:"flex flex-wrap gap-3 items-center w-full md:w-auto"},St={class:"relative w-full md:w-44"},Mt={class:"relative w-full md:w-44"},Ut=["value"],jt={class:"relative w-full md:w-44"},Dt={class:"flex w-full md:w-auto"},Ft={class:"join w-full"},Pt={class:"relative w-full"},Bt=H({__name:"filter",props:{columns:{}},emits:["onPerPage","onOrderBy","onSearch","onFilter","onFilterReset"],setup(y,{emit:_}){const v=y,u=_,s=$(10),x=$(""),f=$(""),c=$(""),m=$([]),o=(n,b)=>{let k;return(...j)=>{k&&clearTimeout(k),k=setTimeout(()=>{n(...j)},b)}},p=()=>{const n=v.columns.filter(b=>b.sortable);n.length>0&&(x.value=n[0].key),m.value=n.map(b=>({label:b.label,value:b.key}))},t=o(n=>{u("onSearch",n)},500);O(s,n=>{u("onPerPage",n)}),O(f,n=>{u("onOrderBy",n)}),O(x,n=>{u("onFilter",n)}),O(c,n=>{n&&n.length>0&&t(n)});const l=()=>{c.value&&c.value.length>0&&u("onSearch",c.value)},a=()=>{var n;s.value=10,x.value=((n=m.value[0])==null?void 0:n.value)||"id",f.value="asc",c.value="",u("onFilterReset",{perPage:s.value,filterBy:x.value,orderBy:f.value,search:null})};return X(p),(n,b)=>(r(),d("div",$t,[e("div",Vt,[e("div",Ct,[e("div",St,[T(e("select",{class:"select select-primary w-full","onUpdate:modelValue":b[0]||(b[0]=k=>s.value=k),"aria-label":"Items per page"},b[4]||(b[4]=[E('<option disabled value="" data-v-eecb2531>Per page</option><option value="10" data-v-eecb2531>10 Items</option><option value="25" data-v-eecb2531>25 Items</option><option value="50" data-v-eecb2531>50 Items</option><option value="100" data-v-eecb2531>100 Items</option>',5)]),512),[[W,s.value]]),h(i(me),{class:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 pointer-events-none text-primary"})]),e("div",Mt,[T(e("select",{class:"select select-primary w-full","onUpdate:modelValue":b[1]||(b[1]=k=>x.value=k),"aria-label":"Filter by column"},[b[5]||(b[5]=e("option",{disabled:"",value:""},"Filter By",-1)),(r(!0),d(C,null,M(m.value,(k,j)=>(r(),d("option",{key:j,value:k.value},V(k.label),9,Ut))),128))],512),[[W,x.value]]),h(i(be),{class:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 pointer-events-none text-primary"})]),e("div",jt,[T(e("select",{class:"select select-primary w-full","onUpdate:modelValue":b[2]||(b[2]=k=>f.value=k),"aria-label":"Sort order"},b[6]||(b[6]=[e("option",{disabled:"",value:""},"Sort Order",-1),e("option",{value:"asc"},"Ascending",-1),e("option",{value:"desc"},"Descending",-1)]),512),[[W,f.value]]),(r(),A(oe(f.value==="asc"?i(ve):i(fe)),{class:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 pointer-events-none text-primary"}))])]),e("div",Dt,[e("div",Ft,[e("div",Pt,[T(e("input",{class:"input input-bordered join-item w-full pr-10","onUpdate:modelValue":b[3]||(b[3]=k=>c.value=k),placeholder:"Search...",onKeyup:se(l,["enter"]),"aria-label":"Search input"},null,544),[[Z,c.value]]),h(i(Q),{class:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-base-content/40 pointer-events-none"})]),e("button",{class:"btn btn-primary join-item",onClick:l,"aria-label":"Search"},[h(i(Q),{class:"w-5 h-5"})]),e("button",{class:"btn btn-secondary join-item",onClick:a,"aria-label":"Reset filters"},[h(i(he),{class:"w-5 h-5"})])])])])]))}}),It=R(Bt,[["__scopeId","data-v-eecb2531"]]),Ot={class:"px-5 py-5 bg-base-200 border-t flex flex-col xs:flex-row items-center xs:justify-between"},Tt={class:"xs:text-sm text-primary font-bold text-sm md:text-lg"},Et={class:"inline-flex mt-2 xs:mt-0"},At={class:"btn-group"},Lt=["disabled"],Ht=["onClick"],Kt={key:1,class:"btn btn-md btn-disabled"},zt=["disabled"],Wt={__name:"pagination",props:{paginationInfo:{type:Object,default:()=>({currentPage:1,lastPage:1,perPage:10,total:0,links:[]})},endpoint:{type:String,default:""}},emits:["onPagiation"],setup(y,{emit:_}){const v=y,u=_,s=U(()=>v.paginationInfo.currentPage||1),x=U(()=>v.paginationInfo.lastPage||1),f=U(()=>v.paginationInfo.perPage||10),c=U(()=>v.paginationInfo.total||0),m=U(()=>{const l=s.value,a=x.value,n=2,b=l-n,k=l+n+1,j=[],B=[];let g;for(let w=1;w<=a;w++)(w===1||w===a||w>=b&&w<k)&&j.push(w);for(const w of j)g&&(w-g===2?B.push(g+1):w-g!==1&&B.push("...")),B.push(w),g=w;return B}),o=l=>{const a=v.endpoint+`?page=${l}`;u("onPagiation",a)},p=()=>{s.value<x.value&&o(s.value+1)},t=()=>{s.value>1&&o(s.value-1)};return(l,a)=>(r(),d("div",Ot,[e("span",Tt," Showing "+V(s.value)+" to "+V(Math.min(s.value*f.value,c.value))+" of "+V(c.value)+" Entries ",1),e("div",Et,[e("div",At,[e("button",{class:"btn btn-md",disabled:s.value===1,onClick:t}," Prev ",8,Lt),(r(!0),d(C,null,M(m.value,(n,b)=>(r(),d(C,{key:b},[typeof n=="number"?(r(),d("button",{key:0,class:N(["btn btn-md",{"btn-active":n===s.value}]),onClick:k=>o(n)},V(n),11,Ht)):n==="..."?(r(),d("span",Kt," ... ")):P("",!0)],64))),128)),e("button",{class:"btn btn-md",disabled:s.value===x.value,onClick:p}," Next ",8,zt)])])]))}},Nt={key:0,class:"flex items-center space-x-2"},Rt={class:"carousel rounded-box w-96 max-h-24 overflow-x-auto"},qt=["src","alt","onClick"],Yt=["onClick"],Jt=["innerHTML"],Qt={key:2},Xt={key:3,class:"flex flex-col space-y-1"},Zt=["title","innerHTML"],Gt=["src"],el=H({__name:"tableDataDisplay",props:{tableData:{type:Object,default:()=>({})},columns:{type:Array,default:()=>[]}},setup(y){const _=$(null),v=f=>{_.value=f},u=()=>{_.value=null},s=y,x=U(()=>s.columns.map(f=>({label:f.label,type:f.type||"default",value:(()=>{const c=s.tableData[f.key];switch(f.type){case"media":return Array.isArray(c)?c:c?[c]:[];case"model_search":return Array.isArray(c)?c:c?[c]:[];default:return c}})()})));return(f,c)=>(r(),d(C,null,[(r(!0),d(C,null,M(x.value,(m,o)=>(r(),d("th",{key:o,class:"px-4 py-2"},[m.type==="media"?(r(),d("div",Nt,[e("div",Rt,[(r(!0),d(C,null,M(m.value,(p,t)=>{var l;return r(),d("div",{key:t,class:"carousel-item w-1/2 mr-2 relative group"},[e("img",{src:((l=p.url)==null?void 0:l.default)||p.url,alt:`Media ${t+1}`,class:"w-full h-20 object-cover rounded-md cursor-pointer transition-transform group-hover:scale-105",onClick:a=>{var n;return v(((n=p.url)==null?void 0:n.default)||p.url)}},null,8,qt),e("div",{class:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-black/50 rounded-full p-1",onClick:a=>{var n;return v(((n=p.url)==null?void 0:n.default)||p.url)}},c[1]||(c[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-white cursor-pointer",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.414-1.414A1 1 0 0011.586 3H8.414a1 1 0 00-.707.293L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})],-1)]),8,Yt)])}),128))])])):m.type==="icon"?(r(),d("div",{key:1,class:"bg-base-100 rounded-lg flex justify-center items-center p-2",innerHTML:m.value},null,8,Jt)):m.type==="toggle"?(r(),d("div",Qt,[e("span",{class:N(["badge mt-3",m.value==1?"badge-success":"badge-error"])},V(m.value==1?"Enable":"Disable"),3)])):m.type==="model_search"?(r(),d("div",Xt,[(r(!0),d(C,null,M(m.value,(p,t)=>(r(),d("span",{key:t,class:"badge badge-primary mt-1"},V(t)+" > "+V(p),1))),128))])):(r(),d("div",{key:4,class:"truncate max-w-xs",title:m.value,innerHTML:m.value},null,8,Zt))]))),128)),(r(),A(ne,{to:"body"},[_.value?(r(),d("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onClick:u},[e("div",{class:"max-w-full max-h-full flex items-center justify-center relative",onClick:c[0]||(c[0]=ae(()=>{},["stop"]))},[e("img",{src:_.value,alt:"Expanded Image",class:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl"},null,8,Gt),e("button",{onClick:u,class:"absolute top-4 right-4 bg-white/20 hover:bg-white/40 rounded-full p-2 transition-colors"},c[2]||(c[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):P("",!0)]))],64))}}),tl=R(el,[["__scopeId","data-v-1e037550"]]),ll={class:"w-full"},ol={class:"relative flex flex-col min-w-0 break-words bg-base-300 w-full mb-6 rounded-3xl"},sl={class:"flex flex-wrap items-center mt-5"},al={class:"relative w-full px-4 max-w-full flex-grow flex-1"},nl={class:"text-3xl font-extrabold text-base-content"},rl={class:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"},il={class:"overflow-x-auto p-6"},dl={class:"overflow-x-auto bg-base-100"},cl={class:"table table-compact w-full"},ul={class:"font-bold bg-primary text-neutral"},pl={class:"flex justify-start overflow-x-hidden gap-2"},ml={key:1},fl=["for"],vl={class:"font-bold bg-primary text-neutral"},Fl={__name:"Table",props:{tableTitle:{type:String,default:"Table name"},columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},endpointDelete:{type:String,default:""},endpointCreate:{type:String,default:""},endpointEdit:{type:String,default:""},permission:{type:String,default:null},custom_edit_route:{type:String,default:null}},setup(y){const _=K();let v=$([]),u=$([]),s=$(10),x=$("id"),f=$(null),c=$(null);const m=y,o=async(g=null)=>{g===null&&(g=m.endpoint),z.post(g,{model:m.model,columns:m.columns,perPage:s.value,search:c.value,sort:x.value,direction:f.value,permission:m.permission}).then(function(w){v.value=w.data.data,u.value={currentPage:w.data.current_page,lastPage:w.data.last_page,perPage:w.data.per_page,total:w.data.total,links:w.data.links}}).catch(function(w){for(const[S,D]of Object.entries(w.response.data.errors))_.error(D[0])})},p=async g=>{o(g)},t=async g=>{s.value=g,o()},l=async g=>{x.value=g,o()},a=async g=>{f.value=g,o()},n=async g=>{g&&g.length>3&&(c.value=g,o())},b=async()=>{o()},k=async()=>{o()},j=async()=>{o()},B=async g=>{s.value=g.perPage,x.value=g.filterBy,f.value=g.orderBy,c.value=g.search,o()};return o(),(g,w)=>(r(),d("div",ll,[e("div",ol,[e("div",sl,[e("div",al,[e("h1",nl,V(m.tableTitle),1)]),e("div",rl,[re(g.$slots,"new",{},()=>[h(nt,{columns:m.columns,endpoint:m.endpointCreate,model:m.model,permission:m.permission,onOnCreate:k},null,8,["columns","endpoint","model","permission"])])])]),h(It,{onOnPerPage:t,onOnOrderBy:a,onOnSearch:n,onOnFilter:l,onOnFilterReset:B,columns:m.columns},null,8,["columns"]),e("div",il,[e("div",dl,[e("table",cl,[e("thead",ul,[e("tr",null,[(r(!0),d(C,null,M(y.columns,(S,D)=>(r(),d("th",{key:D},V(S.label),1))),128)),w[0]||(w[0]=e("th",null,"Action",-1))])]),e("tbody",null,[(r(!0),d(C,null,M(i(v),(S,D)=>(r(),d("tr",{key:D,class:"font-thin bg-base-300 hover:bg-secondary hover:text-neutral hover:font-bold"},[h(tl,{tableData:S,columns:y.columns},null,8,["tableData","columns"]),e("th",null,[e("div",pl,[y.custom_edit_route?(r(),d("div",ml,[h(i(ie),{href:y.custom_edit_route+S.id},{default:F(()=>[e("label",{for:"edit-data-"+S.id,class:"btn btn-info modal-button"},w[1]||(w[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,fl)]),_:2},1032,["href"])])):(r(),A(kt,{key:0,columns:m.columns,endpoint:m.endpointEdit,model:m.model,modelValue:S,id:S.id,permission:m.permission,onOnEdit:j},null,8,["columns","endpoint","model","modelValue","id","permission"])),h(Me,{id:S.id,endpoint:m.endpointDelete,model:m.model,permission:m.permission,onOnDelete:b},null,8,["id","endpoint","model","permission"])])])]))),128))]),e("tfoot",vl,[e("tr",null,[(r(!0),d(C,null,M(y.columns,(S,D)=>(r(),d("th",{key:D},V(S.label),1))),128)),w[2]||(w[2]=e("th",null,"Action",-1))])])])]),h(Wt,{onOnPagiation:p,paginationInfo:i(u),endpoint:m.endpoint},null,8,["paginationInfo","endpoint"])])])]))}};export{Fl as _};
