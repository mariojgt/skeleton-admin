import{b as u,m as w,o as c,i as d,e as t,t as x,f as l,u as i,q as h,g as m}from"./preset.261e4b82.js";import{_}from"./Input.48046abd.js";import{_ as g}from"./Submit.539b41bd.js";const k={class:"px-5 py-7"},C={key:0,class:"card shadow-lg compact side bg-base-100"},I={class:"flex-row items-center space-x-4 card-body"},V={class:"rounded-full w-60 h-60 shadow"},T=["innerHTML"],A={class:"w-full"},B=t("h2",{class:"card-title"}," Scan the qr code and enter the code to activate your two factor authentication. ",-1),$={class:"text-base-content text-opacity-40"},j=h(" Case you can,t use the qr code, you can enter the code manually. "),q={class:"form-control pt-10"},F={key:1},M={class:"card col-span-1 row-span-3 shadow-lg xl:col-span-2 bg-base-100"},N={class:"card-body"},O={class:"my-4 text-4xl font-bold card-title"},R=h(" Two Factor Autenticator Backup Codes "),D={class:"flex items-center justify-end gap-3"},H=t("label",{for:"my-modal-2",class:"btn btn-primary modal-button"},"Remove Autenticator",-1),L=t("input",{type:"checkbox",id:"my-modal-2",class:"modal-toggle"},null,-1),S={class:"modal"},U={class:"modal-box"},E=t("label",{for:"my-modal-2",class:"btn"},"Close",-1),J={__name:"AutenticatorManager",props:{adminInfo:{type:Object,default:()=>({})},autenticatorInfo:{type:Object,default:()=>({})}},setup(p){const s=p;let f=u([]);w(()=>{f.value=s.adminInfo});let o=u("");const b=()=>{const e={code:o.value};m.Inertia.post(route("admin.2fa.enable"),e)},y=()=>{const e={code:o.value};m.Inertia.patch(route("admin.remove-authenticatorr"),e)},v=()=>{let e=window.open("","PRINT","height=650,width=900,top=100,left=150");const a="codes";e.document.write(`<html><head><title>${a}</title>`),e.document.write("</head><body>"),e.document.write("<h1> Two Factor Autenticator Backup Codes </h1>"),e.document.write("<table>"),e.document.write("<tr><th>Code</th><th>used</th></tr>");for(const[n,r]of Object.entries(s.autenticatorInfo.backup_codes))e.document.write("<tr>"),e.document.write(`<td>${r.code}</td>`),e.document.write(`<td>${r.used}</td>`),e.document.write("</tr>");return e.document.write("</table>"),e.document.write("</body></html>"),e.document.close(),e.focus(),e.print(),e.close(),!0};return(e,a)=>(c(),d("div",null,[t("div",k,[s.autenticatorInfo.is_enable==!1?(c(),d("div",C,[t("div",I,[t("div",null,[t("div",V,[t("div",{innerHTML:s.autenticatorInfo.codeinfo.qr_code},null,8,T)])]),t("div",A,[B,t("p",$,[j,t("strong",null,x(s.autenticatorInfo.codeinfo.secret),1)]),t("div",null,[l(i(_),{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=n=>o.value=n),label:"Code",type:"text",placeholder:"type your code"},null,8,["modelValue"]),t("div",q,[l(i(g),{name:"activate",onClick:b})])])])])])):(c(),d("div",F,[t("div",M,[t("div",N,[t("h2",O,[R,t("div",D,[t("button",{class:"btn btn-primary",onClick:v}," Download Csv "),H,L,t("div",S,[t("div",U,[l(i(_),{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=n=>o.value=n),label:"Two Factor Autenticator Code",type:"text",placeholder:"type your code"},null,8,["modelValue"]),t("div",{class:"modal-action"},[t("label",{for:"my-modal-2",class:"btn btn-primary",onClick:y},"Remove"),E])])])])])])])]))])]))}};export{J as default};
