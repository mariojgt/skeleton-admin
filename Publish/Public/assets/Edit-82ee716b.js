import{a as _,p as k,q as U,o as y,b as f,w as n,e as o,u as e,d as r,l as d,f as g,i as C,x as h,F as w}from"./preset-59cdb044.js";import{_ as $}from"./App-b64f5783.js";import B from"./DeployTable-70a14771.js";import I from"./DeployStatus-b38747f1.js";import{_ as s}from"./Input.vue_vue_type_script_setup_true_lang-c3b4d3bc.js";import"./index.esm-df9f2d71.js";import{_ as L}from"./Submit-66c58698.js";import{_ as N}from"./Toggle-8aaa57dc.js";import{_ as R}from"./Chips.vue_vue_type_script_setup_true_lang-3f547c9f.js";import{m as D,p as M,x as c,I as q,y as b}from"./tabs-e38f1cfa.js";import"./FlashMessage-70556e4e.js";import"./dark-fe9bd6e8.js";import"./keyboard-9c71fe26.js";import"./use-resolve-button-type-850145e6.js";import"./hidden-a002ee06.js";import"./micro-task-f32ab903.js";const F={class:"form-control pt-10"},Z={__name:"Edit",props:{deploy:{type:Object,default:()=>({})},deploymentLogs:{type:Array,default:()=>[]}},setup(p){const V=p;let t=_({});k(()=>{t.value=V.deploy});let m=_(null);const u=()=>{const i={name:t.value.name,repository_url:t.value.repository_url,branch:t.value.branch,secret_token:t.value.secret_token,is_active:t.value.is_active,deployment_commands:t.value.deployment_commands,deployment_path:t.value.deployment_path};w.post(route("admin.deploy.update",t.value.id),i)},v=()=>{t.value.secret_token=Math.random().toString(36).substring(2).toUpperCase()+Math.random().toString(36).substring(2).toUpperCase()};return(i,a)=>{const x=U("n-card");return y(),f($,null,{default:n(()=>[o(x,{title:"User Profile",class:d("col-span-1 row-span-3 shadow-lg xl:col-span-2 bg-base-300")},{default:n(()=>[o(e(D),null,{default:n(()=>[o(e(M),{class:"flex space-x-1 rounded-xl p-1 tabs"},{default:n(()=>[o(e(c),null,{default:n(({selected:l})=>[r("a",{class:d(["tab tab-lg tab-bordered",l?"tab-active":""])},"Deploy Information",2)]),_:1}),o(e(c),null,{default:n(({selected:l})=>[r("a",{class:d(["tab tab-lg tab-bordered",l?"tab-active":""])},"Last Deployment",2)]),_:1})]),_:1}),o(e(q),{class:"mt-2"},{default:n(()=>[o(e(b),null,{default:n(()=>[r("form",{onSubmit:g(u,["prevent"])},[o(e(s),{modelValue:e(t).name,"onUpdate:modelValue":a[0]||(a[0]=l=>e(t).name=l),label:"Name",type:"text",placeholder:"Name"},null,8,["modelValue"]),o(e(s),{modelValue:e(t).repository_url,"onUpdate:modelValue":a[1]||(a[1]=l=>e(t).repository_url=l),label:"Repository URL",type:"text",placeholder:"Repository URL"},null,8,["modelValue"]),o(e(s),{modelValue:e(t).branch,"onUpdate:modelValue":a[2]||(a[2]=l=>e(t).branch=l),label:"Branch",type:"text",placeholder:"Branch"},null,8,["modelValue"]),o(e(s),{modelValue:e(t).secret_token,"onUpdate:modelValue":a[3]||(a[3]=l=>e(t).secret_token=l),label:"secret_token",type:"text",placeholder:"secret_token",required:"true"},null,8,["modelValue"]),r("div",{class:"form-control pt-10"},[r("button",{onClick:v,type:"button",class:"btn btn-primary"}," Generate Token ")]),o(e(N),{modelValue:e(t).is_active,"onUpdate:modelValue":a[4]||(a[4]=l=>e(t).is_active=l),label:"Is Active"},null,8,["modelValue"]),o(e(R),{modelValue:e(t).deployment_commands,"onUpdate:modelValue":a[5]||(a[5]=l=>e(t).deployment_commands=l),label:"Deployment Commands"},null,8,["modelValue"]),o(e(s),{modelValue:e(t).deployment_path,"onUpdate:modelValue":a[6]||(a[6]=l=>e(t).deployment_path=l),label:"deployment_path",type:"text",placeholder:"deployment_path",required:"true"},null,8,["modelValue"]),r("div",F,[o(e(L),{name:"update",onClick:u})])],32)]),_:1}),o(e(b),null,{default:n(()=>[o(B,{deployments:p.deploymentLogs.data,onViewDeployment:a[7]||(a[7]=l=>C(m)?m.value=l:m=l)},null,8,["deployments"]),e(m)?(y(),f(I,{key:0,deployment:e(m)},null,8,["deployment"])):h("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{Z as default};
