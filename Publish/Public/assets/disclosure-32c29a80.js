import{t as k,u as I,o as d,H as S,b as H,N as h,a as v}from"./use-resolve-button-type-44013a9b.js";import{ap as m,aQ as O,a4 as C,a as c,y as g,p as w,aN as E,bw as L}from"./preset-26b1ee33.js";let x=Symbol("Context");var f=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(f||{});function X(){return B()!==null}function B(){return m(x,null)}function N(e){O(x,e)}var U=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(U||{});let $=Symbol("DisclosureContext");function P(e){let s=m($,null);if(s===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,P),r}return s}let T=Symbol("DisclosurePanelContext");function Q(){return m(T,null)}let Y=C({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:s,attrs:r}){let o=c(e.defaultOpen?0:1),l=c(null),i=c(null),n={buttonId:c(`headlessui-disclosure-button-${k()}`),panelId:c(`headlessui-disclosure-panel-${k()}`),disclosureState:o,panel:l,button:i,toggleDisclosure(){o.value=I(o.value,{0:1,1:0})},closeDisclosure(){o.value!==1&&(o.value=1)},close(t){n.closeDisclosure();let u=(()=>t?t instanceof HTMLElement?t:t.value instanceof HTMLElement?d(t):d(n.button):d(n.button))();u==null||u.focus()}};return O($,n),N(g(()=>I(o.value,{0:f.Open,1:f.Closed}))),()=>{let{defaultOpen:t,...u}=e,p={open:o.value===0,close:n.close};return S({theirProps:u,ourProps:{},slot:p,slots:s,attrs:r,name:"Disclosure"})}}}),q=C({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:s,slots:r,expose:o}){let l=P("DisclosureButton"),i=Q(),n=g(()=>i===null?!1:i.value===l.panelId.value);w(()=>{n.value||e.id!==null&&(l.buttonId.value=e.id)}),E(()=>{n.value||(l.buttonId.value=null)});let t=c(null);o({el:t,$el:t}),n.value||L(()=>{l.button.value=t.value});let u=H(g(()=>({as:e.as,type:s.type})),t);function p(){var a;e.disabled||(n.value?(l.toggleDisclosure(),(a=d(l.button))==null||a.focus()):l.toggleDisclosure())}function b(a){var y;if(!e.disabled)if(n.value)switch(a.key){case v.Space:case v.Enter:a.preventDefault(),a.stopPropagation(),l.toggleDisclosure(),(y=d(l.button))==null||y.focus();break}else switch(a.key){case v.Space:case v.Enter:a.preventDefault(),a.stopPropagation(),l.toggleDisclosure();break}}function D(a){switch(a.key){case v.Space:a.preventDefault();break}}return()=>{var a;let y={open:l.disclosureState.value===0},{id:j,...K}=e,M=n.value?{ref:t,type:u.value,onClick:p,onKeydown:b}:{id:(a=l.buttonId.value)!=null?a:j,ref:t,type:u.value,"aria-expanded":l.disclosureState.value===0,"aria-controls":l.disclosureState.value===0||d(l.panel)?l.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:p,onKeydown:b,onKeyup:D};return S({ourProps:M,theirProps:K,slot:y,attrs:s,slots:r,name:"DisclosureButton"})}}}),z=C({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:s,slots:r,expose:o}){let l=P("DisclosurePanel");w(()=>{e.id!==null&&(l.panelId.value=e.id)}),E(()=>{l.panelId.value=null}),o({el:l.panel,$el:l.panel}),O(T,l.panelId);let i=B(),n=g(()=>i!==null?(i.value&f.Open)===f.Open:l.disclosureState.value===0);return()=>{var t;let u={open:l.disclosureState.value===0,close:l.close},{id:p,...b}=e,D={id:(t=l.panelId.value)!=null?t:p,ref:l.panel};return S({ourProps:D,theirProps:b,slot:u,attrs:s,slots:r,features:h.RenderStrategy|h.Static,visible:n.value,name:"DisclosurePanel"})}}});export{X as C,Y as V,q as X,z as Y,N as c,f as l,B as p};
