import{B as N,x as c,k as z,a as b,v as I,C as T,g as l,o as n,e,d as u,w as f,p as x,t as h,T as B,f as D,F as E,A as G,n as J,G as V,y as R,u as d,S as v,l as _,J as U,b as W,a0 as q,j as P}from"./index-B0GHcI27.js";import{s as g}from"./index-Dv4gq3Lz.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={__name:"FlashMessage",setup(w){N(()=>c().props.errors,o=>{if(c().props.errors)for(const[t,m]of Object.entries(c().props.errors))a("error",m)}),z(()=>{c().props.flash&&a(c().props.flash.type,c().props.flash.message)}),N(()=>c().props.flash,o=>{c().props.flash&&a(c().props.flash.type,c().props.flash.message)});const a=async(o,t)=>{switch(o){case"success":g("success",t,"success");break;case"error":g("error",t,"error");break;case"warning":g("warning",t,"warning");break;case"info":g("info",t,"info");break;default:g("info",t,"info");break}};return(o,t)=>null}},X={key:0,class:"absolute -top-1 -right-1 flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-gradient-to-r from-emerald-500 to-blue-500 rounded-full"},Y={class:"flex items-center justify-between p-4 border-b border-white/10"},Z={class:"max-h-80 overflow-y-auto"},ee={key:0,class:"flex items-center justify-center py-12"},te={key:1,class:"flex flex-col items-center justify-center py-12 px-4"},se={key:2,class:"divide-y divide-white/5"},oe=["onClick"],ae={class:"flex items-start gap-3"},re={class:"flex-shrink-0"},ne={class:"w-10 h-10 bg-gradient-to-br from-emerald-400 to-blue-500 rounded-lg flex items-center justify-center"},le={class:"text-white text-sm font-semibold"},ie={class:"flex-1 min-w-0"},de={class:"flex items-start justify-between"},ce={class:"text-sm font-medium text-white truncate"},ue={class:"flex items-center gap-2 ml-3"},fe={class:"text-xs text-slate-400 whitespace-nowrap"},pe={key:0,class:"w-2 h-2 bg-emerald-500 rounded-full flex-shrink-0"},he={class:"text-sm text-slate-400 mt-1 line-clamp-2"},me={key:0,class:"p-4 border-t border-white/10"},ve={__name:"NotificationDropdown",setup(w){const a=b(!1),o=b([]),t=b(!1),m=I(()=>o.value.filter(r=>!r.read_at).length),A=async()=>{try{t.value=!0;const r=await V.get(route("user.api.notifications",10));r.data&&r.data.data?o.value=r.data.data.map(s=>({id:s.id,data:s.data,created_at:s.created_at||new Date().toISOString(),read_at:s.read_at||null})):o.value=r.data||[]}catch(r){console.error("Failed to fetch notifications:",r),o.value=[]}finally{t.value=!1}},k=async r=>{try{await V.post(route("user.api.notification.read"),{notification_id:r});const s=o.value.find(i=>i.id===r);s&&(s.read_at=new Date().toISOString())}catch(s){console.error("Failed to mark notification as read:",s);const i=o.value.find(p=>p.id===r);i&&(i.read_at=new Date().toISOString())}},H=async()=>{try{const r=o.value.filter(s=>!s.read_at);for(const s of r)await k(s.id)}catch(r){console.error("Failed to mark all notifications as read:",r)}},O=r=>{const s=new Date(r),p=Math.floor((new Date-s)/(1e3*60*60));return p<1?"Just now":p<24?`${p}h ago`:p<168?`${Math.floor(p/24)}d ago`:s.toLocaleDateString()},L=()=>{a.value=!a.value},F=()=>{a.value=!1},y=r=>{const s=document.querySelector(".notification-dropdown");s&&!s.contains(r.target)&&(a.value=!1)};return z(()=>{A(),document.addEventListener("click",y)}),T(()=>{document.removeEventListener("click",y)}),(r,s)=>(n(),l("div",{class:"relative notification-dropdown",onClick:s[1]||(s[1]=D(()=>{},["stop"]))},[e("button",{onClick:L,class:"relative p-2 text-slate-400 hover:text-white transition-colors rounded-lg hover:bg-white/5"},[s[2]||(s[2]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5-5V9.5a6.5 6.5 0 10-13 0V12L7 17h5m3 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),u(B,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-0 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-0 opacity-0"},{default:f(()=>[m.value>0?(n(),l("span",X,h(m.value>9?"9+":m.value),1)):x("",!0)]),_:1})]),u(B,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:f(()=>[a.value?(n(),l("div",{key:0,class:"absolute right-0 mt-2 w-96 bg-slate-800/95 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl z-[9999]",onClick:s[0]||(s[0]=D(()=>{},["stop"]))},[e("div",Y,[s[3]||(s[3]=e("h3",{class:"text-lg font-semibold text-white"},"Notifications",-1)),m.value>0?(n(),l("button",{key:0,onClick:H,class:"text-sm text-emerald-400 hover:text-emerald-300 transition-colors font-medium"}," Mark all read ")):x("",!0)]),e("div",Z,[t.value?(n(),l("div",ee,s[4]||(s[4]=[e("svg",{class:"animate-spin h-6 w-6 text-emerald-500",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):o.value.length===0?(n(),l("div",te,s[5]||(s[5]=[e("div",{class:"w-16 h-16 bg-slate-700/50 rounded-full flex items-center justify-center mb-4"},[e("svg",{class:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5-5V9.5a6.5 6.5 0 10-13 0V12L7 17h5m3 0v1a3 3 0 11-6 0v-1m6 0H9"})])],-1),e("p",{class:"text-slate-400 text-center"},"No notifications yet",-1),e("p",{class:"text-sm text-slate-500 text-center mt-1"},"We'll notify you when something happens",-1)]))):(n(),l("div",se,[(n(!0),l(E,null,G(o.value,i=>{var p,$,C,M,S,j;return n(),l("div",{key:i.id,onClick:qe=>k(i.id),class:J(["p-4 hover:bg-white/5 cursor-pointer transition-colors",{"bg-emerald-500/5 border-l-2 border-l-emerald-500":!i.read_at}])},[e("div",ae,[e("div",re,[e("div",ne,[e("span",le,h(((C=($=(p=i.data)==null?void 0:p.title)==null?void 0:$.charAt(0))==null?void 0:C.toUpperCase())||"N"),1)])]),e("div",ie,[e("div",de,[e("p",ce,h(((M=i.data)==null?void 0:M.title)||"Notification"),1),e("div",ue,[e("span",fe,h(i.date||O(i.created_at)),1),i.read_at?x("",!0):(n(),l("div",pe))])]),e("p",he,h(((S=i.data)==null?void 0:S.message)||((j=i.data)==null?void 0:j.content)||"No message"),1)])])],10,oe)}),128))]))]),o.value.length>0?(n(),l("div",me,[e("button",{onClick:F,class:"block w-full text-center py-2 text-sm text-emerald-400 hover:text-emerald-300 transition-colors font-medium"}," Close notifications ")])):x("",!0)])):x("",!0)]),_:1})]))}},_e=K(ve,[["__scopeId","data-v-9f0af535"]]),xe={class:"navbar bg-slate-900/95 backdrop-blur-sm border-b border-slate-800 shadow-lg sticky top-0 z-50"},ge={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full"},we={class:"flex justify-between items-center h-16"},be={class:"flex items-center"},ke={class:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center"},ye={class:"text-white font-bold text-sm"},$e={class:"text-xl font-bold"},Ce={class:"hidden lg:flex items-center space-x-1"},Me={class:"flex items-center space-x-4"},Se={key:0,class:"relative"},je={class:"dropdown dropdown-end"},Ne={tabindex:"0",role:"button",class:"btn btn-ghost btn-circle hover:bg-slate-800 transition-colors"},Be={class:"w-8 h-8 rounded-full overflow-hidden ring-2 ring-slate-700 hover:ring-green-500 transition-all"},De=["src","alt"],Ve={tabindex:"0",class:"dropdown-content menu bg-slate-800 border border-slate-700 rounded-xl z-[1] w-56 p-2 shadow-xl mt-2"},ze={class:"menu-title px-4 py-2"},Ae={class:"flex flex-col"},He={class:"text-white font-semibold text-sm"},Oe={class:"text-slate-400 text-xs"},Le={key:1,class:"flex items-center space-x-3"},Fe={class:"lg:hidden"},Ie={class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Te={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},Ee={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},Ge={class:"lg:hidden border-t border-slate-800 mt-2 pt-4 pb-2"},Je={class:"flex flex-col space-y-2"},Re={__name:"Navbar",setup(w){const a=b(!1);return(o,t)=>(n(),l("nav",xe,[e("div",ge,[e("div",we,[e("div",be,[u(d(v),{href:o.route("home"),class:"flex items-center space-x-2 text-white hover:text-green-400 transition-colors"},{default:f(()=>[e("div",ke,[e("span",ye,h(o.$page.props.app.charAt(0)),1)]),e("span",$e,h(o.$page.props.app),1)]),_:1},8,["href"])]),e("div",Ce,[u(d(v),{href:o.route("home"),class:"px-4 py-2 text-sm font-medium text-slate-300 hover:text-white hover:bg-slate-800 rounded-lg transition-all duration-200"},{default:f(()=>t[3]||(t[3]=[_(" Home ")])),_:1,__:[3]},8,["href"]),u(d(v),{href:o.route("dashboard"),class:"px-4 py-2 text-sm font-medium text-slate-300 hover:text-white hover:bg-slate-800 rounded-lg transition-all duration-200"},{default:f(()=>t[4]||(t[4]=[_(" Dashboard ")])),_:1,__:[4]},8,["href"])]),e("div",Me,[u(_e),d(c)().props.user?(n(),l("div",Se,[e("div",je,[e("div",Ne,[e("div",Be,[e("img",{src:d(c)().props.user.data.avatar||"/assets/avatars/default.png",alt:d(c)().props.user.data.username,class:"w-full h-full object-cover"},null,8,De)])]),e("ul",Ve,[e("li",ze,[e("div",Ae,[e("span",He,h(d(c)().props.user.data.first_name)+" "+h(d(c)().props.user.data.last_name),1),e("span",Oe,h(d(c)().props.user.data.username),1)])]),t[7]||(t[7]=e("div",{class:"divider my-1"},null,-1)),e("li",null,[u(d(v),{href:o.route("user.edit"),class:"flex items-center gap-3 px-4 py-2 text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors"},{default:f(()=>t[5]||(t[5]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),_(" Profile Settings ")])),_:1,__:[5]},8,["href"])]),e("li",null,[u(d(v),{href:o.route("logout.user"),method:"post",class:"flex items-center gap-3 px-4 py-2 text-red-400 hover:text-red-300 hover:bg-slate-700 rounded-lg transition-colors"},{default:f(()=>t[6]||(t[6]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),_(" Sign Out ")])),_:1,__:[6]},8,["href"])])])])])):(n(),l("div",Le,[u(d(v),{href:o.route("login"),class:"px-4 py-2 text-sm font-medium text-slate-300 hover:text-white transition-colors"},{default:f(()=>t[8]||(t[8]=[_(" Sign In ")])),_:1,__:[8]},8,["href"]),u(d(v),{href:o.route("register.user.form"),class:"px-4 py-2 text-sm font-medium bg-green-600 hover:bg-green-500 text-white rounded-lg transition-all duration-200 shadow-sm hover:shadow-md"},{default:f(()=>t[9]||(t[9]=[_(" Get Started ")])),_:1,__:[9]},8,["href"])])),e("div",Fe,[e("button",{onClick:t[0]||(t[0]=m=>a.value=!a.value),class:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors"},[(n(),l("svg",Ie,[a.value?(n(),l("path",Ee)):(n(),l("path",Te))]))])])])]),R(e("div",Ge,[e("div",Je,[u(d(v),{href:o.route("home"),class:"px-4 py-2 text-sm font-medium text-slate-300 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",onClick:t[1]||(t[1]=m=>a.value=!1)},{default:f(()=>t[10]||(t[10]=[_(" Home ")])),_:1,__:[10]},8,["href"]),u(d(v),{href:o.route("dashboard"),class:"px-4 py-2 text-sm font-medium text-slate-300 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",onClick:t[2]||(t[2]=m=>a.value=!1)},{default:f(()=>t[11]||(t[11]=[_(" Dashboard ")])),_:1,__:[11]},8,["href"])])],512),[[U,a.value]])])]))}},Ue={class:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900"},We={class:"relative z-10"},Xe={__name:"App",props:{title:{type:String,default:"SkeletonAdmin"}},setup(w){return(a,o)=>(n(),l("div",Ue,[u(d(q),{title:`${w.title} - ${a.$page.props.app}`},null,8,["title"]),o[0]||(o[0]=e("div",{class:"fixed inset-0 opacity-30"},[e("div",{class:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(120,119,198,0.3),transparent)]"}),e("div",{class:"absolute inset-0 bg-[conic-gradient(from_90deg_at_50%_50%,#000_0deg,#7877c6_180deg,#000_360deg)] opacity-20"})],-1)),u(Re),a.$page.props.flash?(n(),W(Q,{key:0,flash:a.$page.props.flash},null,8,["flash"])):x("",!0),e("main",We,[P(a.$slots,"default")])]))}};export{Xe as _};
