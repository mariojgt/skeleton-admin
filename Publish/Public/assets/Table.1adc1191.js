import{a as f,q as D,s as j,l as H,o as r,g as d,d as e,t as g,aR as U,aS as P,F as k,y as x,p as R,z as I,K as F,x as B,f as b,u as w,D as A,j as L,aT as T,i as J,k as G}from"./preset.8feab997.js";import{_ as O}from"./Input.fb0a027a.js";import{_ as Q}from"./Password.715f7c1f.js";const W={class:"form-control"},X={class:"label"},Y={class:"label-text"},Z=["placeholder"],ee={class:"invalid-feedback text-primary",role:"alert"},te={key:0,class:"menu bg-neutral w-full"},le=["onClick"],oe={class:"hover:active text-base-content"},ae={class:"avatar"},se={class:"mask mask-squircle w-12 h-12"},ne=["src"],re={class:"my-5"},de=["onClick"],ie={class:"inline-flex items-center space-x-2"},ce={class:"avatar"},ue={class:"mask mask-squircle w-12 h-12"},pe=["src"],me=["onClick"],ve=e("div",{class:"tooltip","data-tip":"remove"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 text-primary hover:text-secondary hover:cursor-pointer"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])],-1),_e=[ve],he={__name:"Image",props:{label:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:String,default:""},endpoint:{type:String,default:""},loadData:{type:Object,default:null}},emits:["update:modelValue"],setup(v,{emit:n}){const l=v;let a=f(null);D(()=>{var o;return(o=j().props)==null?void 0:o.errors},o=>{j().props.errors[l.name]&&(a.value=j().props.errors[l.name])});let m=f(""),c=f("");const _=async()=>{F.post(l.endpoint,{search:m.value}).then(function(o){c.value=o.data}).catch(function(o){for(const[i,u]of Object.entries(o.response.data.errors))message.error(u[0])})};let p=f([]);const t=async o=>{p.value.indexOf(o)===-1&&p.value.push({id:o.id,name:o.name,ext:o.ext,url:o.url}),c.value=[],n("update:modelValue",p.value)},s=async o=>{p.value.splice(o,1),n("update:modelValue",p.value)};return H(()=>{l.loadData&&(p.value=l.loadData)}),(o,i)=>(r(),d("div",W,[e("label",X,[e("span",Y,g(l.label),1)]),U(e("input",{class:"input input-primary input-bordered",name:"{{ props.name }}",id:"{{ props.id }}",placeholder:l.placeholder,"onUpdate:modelValue":i[0]||(i[0]=u=>m.value=u),onKeyup:_},null,40,Z),[[P,m.value]]),e("span",ee,[e("strong",null,g(a.value),1)]),c.value.data?(r(),d("ul",te,[(r(!0),d(k,null,x(c.value.data,(u,h)=>(r(),d("li",{key:h,onClick:S=>t(u)},[e("a",oe,[e("div",ae,[e("div",se,[e("img",{src:u.url.default,alt:"Avatar Tailwind CSS Component"},null,8,ne)])]),R(" "+g(u.name),1)])],8,le))),128))])):I("",!0),e("div",re,[(r(!0),d(k,null,x(p.value,(u,h)=>(r(),d("div",{class:"flex justify-between items-center border-b border-slate-200 py-3 px-2 border-l-4 border-l-transparent bg-gradient-to-r from-transparent to-transparent hover:from-base-300 transition ease-linear duration-150 text-base-content",key:h,onClick:S=>s(h)},[e("div",ie,[e("div",null,[e("div",ce,[e("div",ue,[e("img",{src:u.url.default,alt:"Selected Media"},null,8,pe)])])]),e("div",null,g(u.name)+"."+g(u.ext),1)]),e("div",{onClick:S=>s(h)},_e,8,me)],8,de))),128))])]))}},fe={class:"form-control"},ye={class:"label"},be={class:"label-text"},ge=["placeholder"],ke={class:"invalid-feedback text-primary",role:"alert"},we={key:0,class:"menu bg-neutral-content w-full"},xe=["onClick"],$e={class:"hover:active"},Ve={class:"my-5"},Se=["onClick"],Ce={class:"inline-flex items-center space-x-2"},De=e("div",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 text-primary hover:text-secondary hover:cursor-pointer"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),Me=["onClick"],Oe=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5 text-primary hover:text-secondary hover:cursor-pointer"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),Ue=[Oe],q={__name:"TextMultipleSelector",props:{label:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:String,default:""},model:{type:String,default:""},columns:{type:Object,default:null},endpoint:{type:String,default:""},loadData:{type:Object,default:null},singleMode:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(v,{emit:n}){const l=v;let a=f(null);D(()=>{var o;return(o=j().props)==null?void 0:o.errors},o=>{j().props.errors[l.name]&&(a.value=j().props.errors[l.name])});let m=f(""),c=f("");const _=async()=>{F.post(l.endpoint,{search:m.value,model:l.model,columns:l.columns}).then(function(o){c.value=o.data}).catch(function(o){for(const[i,u]of Object.entries(o.response.data.errors))message.error(u[0])})};let p=f([]);const t=async o=>{l.singleMode&&(p.value=[]),p.value.indexOf(o)===-1&&p.value.push({id:o.id,name:o.name}),c.value=[],n("update:modelValue",p.value)},s=async o=>{p.value.splice(o,1),n("update:modelValue",p.value)};return H(()=>{l.loadData&&(l.singleMode?p.value=[l.loadData]:p.value=l.loadData)}),(o,i)=>(r(),d("div",fe,[e("label",ye,[e("span",be,g(l.label),1)]),U(e("input",{class:"input input-primary input-bordered",name:"{{ props.name }}",id:"{{ props.id }}",placeholder:l.placeholder,"onUpdate:modelValue":i[0]||(i[0]=u=>m.value=u),onKeyup:_},null,40,ge),[[P,m.value]]),e("span",ke,[e("strong",null,g(a.value),1)]),c.value.data?(r(),d("ul",we,[(r(!0),d(k,null,x(c.value.data,(u,h)=>(r(),d("li",{key:h,onClick:S=>t(u)},[e("a",$e,g(u.name),1)],8,xe))),128))])):I("",!0),e("div",Ve,[(r(!0),d(k,null,x(p.value,(u,h)=>(r(),d("div",{class:"flex justify-between items-center border-b border-slate-200 py-3 px-2 border-l-4 border-l-transparent bg-gradient-to-r from-transparent to-transparent hover:from-base-300 transition ease-linear duration-150 text-base-content",key:h,onClick:S=>s(h)},[e("div",Ce,[De,e("div",null,g(u.name),1)]),e("div",{onClick:S=>s(h)},Ue,8,Me)],8,Se))),128))])]))}},je=["for"],Fe=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),Be=[Fe],Te=["id"],Pe={class:"modal"},Ie={class:"modal-box w-11/12 max-w-5xl"},Ae=["for"],Le=e("h3",{class:"text-lg font-bold"},"This action cannot be undone.",-1),Ee=e("p",{class:"py-4"},"Are you sure you want to delete this item?",-1),Ke={class:"modal-action"},qe=["for"],He=["for"],ze={__name:"delete",props:{id:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onDelete"],setup(v,{emit:n}){const l=v,a=B(),m=async()=>{F.post(l.endpoint,{model:l.model,id:l.id,permission:l.permission}).then(function(c){a.success(c.data.message),n("onDelete")}).catch(function(c){for(const[_,p]of Object.entries(c.response.data.errors))a.error(p[0])})};return(c,_)=>(r(),d(k,null,[e("label",{for:"my-modal-"+l.id,class:"btn btn-error modal-button"},Be,8,je),e("input",{type:"checkbox",id:"my-modal-"+l.id,class:"modal-toggle"},null,8,Te),e("div",Pe,[e("div",Ie,[e("label",{for:"my-modal-"+l.id,class:"btn btn-sm btn-circle absolute right-2 top-2"},"\u2715",8,Ae),Le,Ee,e("div",Ke,[e("label",{for:"my-modal-"+l.id,class:"btn btn-success"},"Close!",8,qe),e("label",{for:"my-modal-"+l.id,onClick:m,class:"btn btn-error"},"Delete",8,He)])])])],64))}},Ne=v=>{const n=v.split("/");return new Date(n[2]+"/"+n[1]+"/"+n[0]).toISOString().split("T")[0]},Re=v=>{const n=v.split("/");return new Date(n[2]+"/"+n[1]+"/"+n[0]).toISOString().substr(0,16)},Je=v=>v?v.toString():"",Ge={key:0},Qe={key:1},We={key:2},Xe={key:3},Ye={key:4},Ze={key:5},et={key:6},tt={key:7},lt={key:8},ot={key:9},z={__name:"formbuilder",props:{columns:{type:Array,default:()=>[]},modelValue:{type:Array,default:()=>[]},editMode:{type:String,default:"false"}},emits:["onFormUpdate"],setup(v,{emit:n}){const l=v;let a=f([]);(()=>{a.value=[];for(const[p,t]of Object.entries(l.columns))if(l.editMode=="false")t.canCreate&&a.value.push({key:t.key,label:t.label,type:t.type,nullable:t==null?void 0:t.nullable,unique:t==null?void 0:t.unique,endpoint:t==null?void 0:t.endpoint,columns:t==null?void 0:t.columns,model:t==null?void 0:t.model,singleSearch:t==null?void 0:t.singleSearch,relation:t==null?void 0:t.relation,value:""});else if(t.canEdit){let s=null;switch(t.type){case"date":s=Ne(l.modelValue[t.key]);break;case"timestamp":s=Re(l.modelValue[t.key]);break;case"media":s=l.modelValue[t.key];break;case"model_search":s=l.modelValue[t.key];break;default:s=Je(l.modelValue[t.key]);break}a.value.push({key:t.key,label:t.label,type:t.type,nullable:t==null?void 0:t.nullable,unique:t==null?void 0:t.unique,value:s,endpoint:t==null?void 0:t.endpoint,columns:t==null?void 0:t.columns,model:t==null?void 0:t.model,singleSearch:t==null?void 0:t.singleSearch,relation:t==null?void 0:t.relation})}})();let c=f(null);D(()=>a.value,()=>{clearTimeout(c.value),c.value=setTimeout(function(){console.log(a.value),n("onFormUpdate",a.value)},500)},{deep:!0});const _=async(p,t,s)=>{if(s=="name"){const o=a.value.findIndex(i=>i.key=="slug");a.value[o]&&(a.value[o].value=p.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))}console.log(p,t)};return(p,t)=>(r(!0),d(k,null,x(a.value,(s,o)=>(r(),d("div",{key:o},[s.type=="text"?(r(),d("div",Ge,[b(w(O),{type:"text",modelValue:a.value[o].value,"onUpdate:modelValue":i=>a.value[o].value=i,label:s.label,onKeyup:i=>_(i.target.value,s.type,s.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):s.type=="password"?(r(),d("div",Qe,[b(w(Q),{modelValue:a.value[o].value,"onUpdate:modelValue":i=>a.value[o].value=i,label:s.label},null,8,["modelValue","onUpdate:modelValue","label"])])):s.type=="email"?(r(),d("div",We,[b(w(O),{type:"email",modelValue:a.value[o].value,"onUpdate:modelValue":i=>a.value[o].value=i,label:s.label},null,8,["modelValue","onUpdate:modelValue","label"])])):s.type=="date"?(r(),d("div",Xe,[b(w(O),{type:"date",modelValue:a.value[o].value,"onUpdate:modelValue":i=>a.value[o].value=i,label:s.label},null,8,["modelValue","onUpdate:modelValue","label"])])):s.type=="timestamp"?(r(),d("div",Ye,[b(w(O),{type:"datetime-local",modelValue:a.value[o].value,"onUpdate:modelValue":i=>a.value[o].value=i,label:s.label},null,8,["modelValue","onUpdate:modelValue","label"])])):s.type=="slug"?(r(),d("div",Ze,[b(w(O),{type:"text",modelValue:a.value[o].value,"onUpdate:modelValue":i=>a.value[o].value=i,label:s.label},null,8,["modelValue","onUpdate:modelValue","label"])])):s.type=="media"?(r(),d("div",et,[b(w(he),{label:"image",placeholder:"search",modelValue:a.value[o].value,"onUpdate:modelValue":i=>a.value[o].value=i,loadData:a.value[o].value,endpoint:s.endpoint},null,8,["modelValue","onUpdate:modelValue","loadData","endpoint"])])):s.type=="number"?(r(),d("div",tt,[b(w(O),{type:"number",modelValue:a.value[o].value,"onUpdate:modelValue":i=>a.value[o].value=i,label:s.label,onKeyup:i=>_(i.target.value,s.type,s.key)},null,8,["modelValue","onUpdate:modelValue","label","onKeyup"])])):s.type=="model_search"?(r(),d("div",lt,[b(w(q),{label:s.label,placeholder:"search",model:s.model,columns:s.columns,singleMode:s.singleSearch,modelValue:a.value[o].value,"onUpdate:modelValue":i=>a.value[o].value=i,loadData:a.value[o].value,endpoint:s.endpoint},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint"])])):s.type=="pivot_model"?(r(),d("div",ot,[b(w(q),{label:s.label,placeholder:"search",model:s.model,columns:s.columns,singleMode:s.singleSearch,modelValue:a.value[o].value,"onUpdate:modelValue":i=>a.value[o].value=i,loadData:a.value[o].value,endpoint:s.endpoint},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint"])])):I("",!0)]))),128))}},at=e("label",{for:"my-modal-5",class:"btn btn-primary modal-button"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})])],-1),st=e("input",{type:"checkbox",id:"my-modal-5",class:"modal-toggle"},null,-1),nt={class:"modal text-center"},rt={key:0,class:"modal-box w-11/12 max-w-5xl"},dt=e("h3",{class:"font-bold text-lg"},"New",-1),it=e("label",{for:"my-modal-5",class:"btn btn-error"},"Close",-1),ct={key:1,class:"modal-box w-11/12 max-w-5xl"},ut=L('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title">The create method has been disable</h2><p>Try to contact the administrator </p></div></div>',1),pt=[ut],mt={__name:"create",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},permission:{type:String,default:null}},emits:["onCreate"],setup(v,{emit:n}){const l=v,a=B(),m=A(()=>l.columns.filter(t=>t.canCreate).length>0);let c=f([]);const _=async t=>{c.value=t},p=async()=>{F.post(l.endpoint,{model:l.model,data:c.value,permission:l.permission}).then(function(t){a.success(t.data.message),n("onCreate")}).catch(function(t){for(const[s,o]of Object.entries(t.response.data.errors))a.error(o[0])})};return(t,s)=>(r(),d(k,null,[at,st,e("div",nt,[w(m)?(r(),d("div",rt,[dt,b(z,{columns:l.columns,onOnFormUpdate:_},null,8,["columns"]),e("div",{class:"modal-action"},[it,e("label",{for:"my-modal-5",class:"btn btn-success",onClick:p},"Create")])])):(r(),d("div",ct,pt))])],64))}},vt=["for"],_t=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),ht=[_t],ft=["id"],yt={class:"modal text-center"},bt={key:0,class:"modal-box w-11/12 max-w-5xl"},gt=e("h3",{class:"font-bold text-lg"},"Edit",-1),kt={class:"modal-action"},wt=["for"],xt=["for"],$t={key:1,class:"modal-box w-11/12 max-w-5xl"},Vt=L('<div class="card w-full bg-base-100 shadow-xl"><figure class="px-10 pt-10"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 rounded-xl" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></figure><div class="card-body items-center text-center"><h2 class="card-title">The edit method has been disable</h2><p>Try to contact the administrator </p></div></div>',1),St=[Vt],Ct={__name:"edit",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:()=>[]},endpoint:{type:String,default:()=>[]},id:{type:String,default:"0"},modelValue:{type:Array,default:()=>[]},permission:{type:String,default:null}},emits:["onEdit"],setup(v,{emit:n}){const l=v,a=B(),m=A(()=>l.columns.filter(t=>t.canEdit).length>0);let c=f([]);const _=async t=>{c.value=t},p=async()=>{F.post(l.endpoint,{model:l.model,id:l.id,data:c.value,permission:l.permission}).then(function(t){a.success(t.data.message),n("onEdit")}).catch(function(t){for(const[s,o]of Object.entries(t.response.data.errors))a.error(o[0])})};return(t,s)=>(r(),d(k,null,[e("label",{for:"edit-data-"+l.id,class:"btn btn-info modal-button"},ht,8,vt),e("input",{type:"checkbox",id:"edit-data-"+l.id,class:"modal-toggle"},null,8,ft),e("div",yt,[w(m)?(r(),d("div",bt,[gt,b(z,{columns:l.columns,onOnFormUpdate:_,editMode:"true",modelValue:l.modelValue},null,8,["columns","modelValue"]),e("div",kt,[e("label",{for:"edit-data-"+l.id,class:"btn btn-error"},"Close",8,wt),e("label",{for:"edit-data-"+l.id,class:"btn btn-success",onClick:p},"Edit",8,xt)])])):(r(),d("div",$t,St))])],64))}},Dt={class:"my-2 flex sm:flex-row flex-col p-6"},Mt={class:"flex flex-row mb-1 sm:mb-0"},Ot={class:"relative pl-4"},Ut=L('<option disabled selected>Per page</option><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option>',5),jt=[Ut],Ft={class:"relative pl-4"},Bt=e("option",{disabled:"",selected:""},"Row",-1),Tt=["value"],Pt={class:"relative pl-4"},It=e("option",{disabled:"",selected:""},"Order by",-1),At=e("option",{value:"asc"},"Asc",-1),Lt=e("option",{value:"desc"},"Desc",-1),Et=[It,At,Lt],Kt={class:"block relative pl-4"},qt={class:"form-control"},Ht={class:"input-group"},zt=e("button",{class:"btn btn-square btn-primary"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),Nt={__name:"filter",props:{columns:{type:Array,default:()=>[]}},emits:["onPerPage","onOrderBy","onSearch","onFilter","onFilterReset"],setup(v,{emit:n}){const l=v;let a=f(10),m=f("id"),c=f("asc"),_=f(""),p=f([]);(async()=>{for(const[i,u]of Object.entries(l.columns))u.sortable&&(i==0&&(m.value=u.key),p.value.push({label:u.label,value:u.key}))})(),D(()=>a.value,i=>{n("onPerPage",i)}),D(()=>c.value,i=>{n("onOrderBy",i)}),D(()=>m.value,i=>{n("onFilter",i)});let s=f(null);D(()=>_.value,i=>{clearTimeout(s.value),s.value=setTimeout(function(){n("onSearch",i)},500)});const o=async()=>{a.value=10,m.value="id",c.value="asc",_.value=null,n("onFilterReset",[{perPage:a.value,filterBy:m.value,orderBy:c.value,search:_.value}])};return(i,u)=>(r(),d("div",Dt,[e("div",Mt,[e("div",Ot,[U(e("select",{class:"select select-primary w-full max-w-xs","onUpdate:modelValue":u[0]||(u[0]=h=>a.value=h)},jt,512),[[T,a.value]])]),e("div",Ft,[U(e("select",{class:"select select-primary w-full max-w-xs","onUpdate:modelValue":u[1]||(u[1]=h=>m.value=h),onChange:u[2]||(u[2]=(...h)=>i.filterChange&&i.filterChange(...h))},[Bt,(r(!0),d(k,null,x(p.value,(h,S)=>(r(),d("option",{key:S,value:h.value},g(h.label),9,Tt))),128))],544),[[T,m.value]])]),e("div",Pt,[U(e("select",{class:"select select-primary w-full max-w-xs","onUpdate:modelValue":u[3]||(u[3]=h=>c.value=h)},Et,512),[[T,c.value]])])]),e("div",Kt,[e("div",qt,[e("div",Ht,[U(e("input",{type:"text",placeholder:"Search\u2026",class:"input input-bordered","onUpdate:modelValue":u[4]||(u[4]=h=>_.value=h)},null,512),[[P,_.value]]),zt])])]),e("div",{class:"block relative pl-4"},[e("button",{class:"btn btn-outline btn-accent",onClick:o}," Reset ")])]))}},Rt={class:"px-5 py-5 bg-base-200 border-t flex flex-col xs:flex-row items-center xs:justify-between"},Jt={class:"text-xs xs:text-sm text-primary"},Gt={class:"inline-flex mt-2 xs:mt-0"},Qt={class:"btn-group"},Wt=["onClick"],Xt=["innerHTML"],Yt={__name:"pagination",props:{paginationInfo:{type:Array,default:()=>[]}},emits:["onPagiation"],setup(v,{emit:n}){const l=v,a=async m=>{n("onPagiation",m)};return(m,c)=>(r(),d("div",Rt,[e("span",Jt," Showing "+g(l.paginationInfo.currentPage)+" to "+g(l.paginationInfo.perPage)+" of "+g(l.paginationInfo.total)+" Entries ",1),e("div",Gt,[e("div",Qt,[(r(!0),d(k,null,x(l.paginationInfo.links,(_,p)=>(r(),d("button",{class:J(["btn btn-md",_.active?"btn-active":""]),key:p,onClick:t=>a(_.url)},[e("span",{innerHTML:_.label},null,8,Xt)],10,Wt))),128))])])]))}},Zt={key:0},el={class:"carousel rounded-box w-96"},tl={class:"carousel-item w-1/2"},ll=["src"],ol={key:1},al={__name:"tableDataDisplay",props:{tableData:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]}},setup(v){const n=v,l=A(()=>{let a=[];for(const[m,c]of Object.entries(n.columns))a.push({label:c.label,type:c.type,value:n.tableData[c.key]});return a});return(a,m)=>(r(!0),d(k,null,x(w(l),(c,_)=>(r(),d("th",{key:_},[c.type==="media"?(r(),d("div",Zt,[e("div",el,[(r(!0),d(k,null,x(c.value,(p,t)=>(r(),d("div",tl,[e("img",{src:p.url.default,class:"w-full"},null,8,ll)]))),256))])])):(r(),d("div",ol,g(c.value),1))]))),128))}},sl={class:"w-full mb-12 xl:mb-0"},nl={class:"relative flex flex-col min-w-0 break-words bg-neutral-focus w-full mb-6 shadow-lg rounded"},rl={class:"rounded-t mb-0 px-4 py-3 border-0"},dl={class:"flex flex-wrap items-center"},il={class:"relative w-full px-4 max-w-full flex-grow flex-1"},cl={class:"text-3xl font-bold"},ul={class:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"},pl={class:"overflow-x-auto p-6"},ml={class:"overflow-x-auto"},vl={class:"table table-compact w-full"},_l=e("th",null,"Action",-1),hl={class:"preview border-base-300 bg-base-200 rounded-b-box rounded-tr-box flex min-h-[6rem] min-w-[18rem] max-w-4xl flex-wrap items-center justify-center overflow-x-hidden border bg-cover bg-top p-4 undefined gap-4"},fl=e("th",null,"Action",-1),kl={__name:"Table",props:{tableTitle:{type:String,default:"Table name"},columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},endpointDelete:{type:String,default:""},endpointCreate:{type:String,default:""},endpointEdit:{type:String,default:""},permission:{type:String,default:null}},setup(v){const n=v,l=B(),a=async y=>{$(y)};let m=f(10);const c=async y=>{m.value=y,$()};let _=f("id");const p=async y=>{_.value=y,$()};let t=f(null);const s=async y=>{t.value=y,$()};let o=f(null);const i=async y=>{y&&y.length>3&&(o.value=y,$())},u=async()=>{$()},h=async()=>{$()},S=async()=>{$()},N=async y=>{m.value=y.perPage,_.value=y.filterBy,t.value=y.orderBy,o.value=y.search,$()};let E=f([]),K=f([]);const $=async(y=null)=>{y===null&&(y=n.endpoint),F.post(y,{model:n.model,columns:n.columns,perPage:m.value,search:o.value,sort:_.value,direction:t.value,permission:n.permission}).then(function(C){E.value=C.data.data,K.value={currentPage:C.data.current_page,lastPage:C.data.last_page,perPage:C.data.per_page,total:C.data.total,links:C.data.links}}).catch(function(C){for(const[V,M]of Object.entries(C.response.data.errors))l.error(M[0])})};return $(),(y,C)=>(r(),d("div",sl,[e("div",nl,[e("div",rl,[e("div",dl,[e("div",il,[e("h1",cl,g(n.tableTitle),1)]),e("div",ul,[G(y.$slots,"new",{},()=>[b(mt,{columns:n.columns,endpoint:n.endpointCreate,model:n.model,permission:n.permission,onOnCreate:h},null,8,["columns","endpoint","model","permission"])])])])]),b(Nt,{onOnPerPage:c,onOnOrderBy:s,onOnSearch:i,onOnFilter:p,onOnFilterReset:N,columns:n.columns},null,8,["columns"]),e("div",pl,[e("div",ml,[e("table",vl,[e("thead",null,[e("tr",null,[(r(!0),d(k,null,x(v.columns,(V,M)=>(r(),d("th",{key:M},g(V.label),1))),128)),_l])]),e("tbody",null,[(r(!0),d(k,null,x(E.value,(V,M)=>(r(),d("tr",{key:V},[b(al,{tableData:V,columns:v.columns},null,8,["tableData","columns"]),e("th",null,[e("div",hl,[b(ze,{id:V.id,endpoint:n.endpointDelete,model:n.model,permission:n.permission,onOnDelete:u},null,8,["id","endpoint","model","permission"]),b(Ct,{columns:n.columns,endpoint:n.endpointEdit,model:n.model,modelValue:V,id:V.id,permission:n.permission,onOnEdit:S},null,8,["columns","endpoint","model","modelValue","id","permission"])])])]))),128))]),e("tfoot",null,[e("tr",null,[(r(!0),d(k,null,x(v.columns,(V,M)=>(r(),d("th",{key:M},g(V.label),1))),128)),fl])])])]),b(Yt,{onOnPagiation:a,paginationInfo:K.value},null,8,["paginationInfo"])])])]))}};export{kl as _};
