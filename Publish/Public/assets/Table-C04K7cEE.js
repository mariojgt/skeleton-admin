import{s as K}from"./index-CToPLI8H.js";import{q as se,a as S,v as O,B as X,k as ye,C as lt,o as l,g as r,d as e,n as L,t as D,b as N,E as te,u as g,F,s as nt,z as A,f as me,p as V,e as f,w as R,aa as Z,an as ot,x as z,y as oe,l as B,D as de,H as ve,a9 as rt,af as ue,ah as it,j as Me,P as Se}from"./index-DQfThwAa.js";import{T as Ve}from"./trash-2-DCUdtpRt.js";import{X as J}from"./x-CvCFfHKA.js";import{T as $e}from"./triangle-alert-DXWwu_kn.js";/* empty css                                                              */import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{I as re}from"./Input-uA1k6U02.js";import{Q as Ke,m as Fe,T as dt}from"./Input.vue_vue_type_style_index_0_scoped_5cecae4c_lang-Dq3gxtgw.js";import{_ as ct}from"./Password-BZ8nCH58.js";import{_ as ut}from"./Select.vue_vue_type_script_setup_true_lang-DvEgEDGD.js";import{_ as vt}from"./Image.vue_vue_type_script_setup_true_lang-QT5U_GYK.js";import{_ as Te}from"./TextMultipleSelector-mu9G_LJ1.js";import{_ as Le}from"./Toggle-DqeOQTcz.js";import{_ as ft}from"./Chips.vue_vue_type_script_setup_true_lang-Ck3yJ5p3.js";import{p as ie}from"./purify.es-CocPUCx9.js";import{F as mt,H as pt,A as _e}from"./hash-BeuNKP4_.js";import{b as bt,a as Ye}from"./trash-CZ9yQlvU.js";import{B as xe,I as Ie,U as ht,S as yt,L as Ue,Q as Ae,a as We,b as gt,A as xt,c as _t,d as wt,e as kt,C as $t,f as Ct,F as Dt,g as Mt,h as St,P as we,N as Vt,i as Xe,j as Ft,k as Qe,l as ke,R as Ce,T as je,D as Tt,m as Lt}from"./underline-DX496kib.js";import{C as Oe}from"./code-CG9ChwEa.js";import{E as It}from"./eye-zGwqV_Uz.js";import{t as ee,c as De,n as fe,s as Pe,e as Ut,g as He,m as Ee,a as pe,b as At,f as le}from"./format-Cr5RViDb.js";import{C as Ge}from"./calendar-BG8UrV49.js";import{C as ne}from"./chevron-down-DkmsuOEW.js";import{C as jt}from"./chevron-right-B4TXuPNK.js";import{S as Je}from"./save-FoXuiXt3.js";import{I as Ze,S as Be}from"./search-BhQJqwNn.js";import{C as ce}from"./check-DqEP6paE.js";const Ot={class:"form-control"},Pt=["for"],Ht={class:"flex items-center justify-end mb-2"},Et={class:"flex flex-wrap items-center gap-2 p-3 bg-gray-50 border rounded-t-lg"},Bt={class:"flex-shrink-0"},Rt={class:"flex gap-1"},Nt=["onClick","title"],qt={class:"flex gap-1"},zt=["onClick","title"],Kt={class:"flex gap-1"},Yt=["onClick","title"],Wt={key:1,class:"flex gap-1"},Xt=["onClick","title"],Qt=["id","placeholder"],Gt=["innerHTML"],Jt={key:1,class:"mt-1 text-sm text-gray-500 text-right"},Zt=se({__name:"Input",props:{label:{},name:{},id:{},placeholder:{default:""},modelValue:{},messageClass:{default:"text-red-500 text-sm mt-1"},labelClass:{default:"block text-lg font-bold mb-2"},inputClass:{default:"border border-gray-300 rounded-b-lg"},required:{type:Boolean,default:!1},minLength:{},maxLength:{}},emits:["update:modelValue","blur"],setup(s,{emit:c}){const n=s,y=c,o=S(null),d=S(null),$=Ke(),a=S(!1),i=S(!1),u=S(!1),I=[{command:"bold",icon:xe,title:"Bold"},{command:"italic",icon:Ie,title:"Italic"},{command:"underline",icon:ht,title:"Underline"},{command:"strikeThrough",icon:yt,title:"Strike Through"},{command:"createLink",icon:Ue,title:"Insert Link"},{command:"code",icon:Oe,title:"Code"},{command:"blockquote",icon:Ae,title:"Quote"}],P=[{command:"insertUnorderedList",icon:We,title:"Bullet List"},{command:"insertOrderedList",icon:gt,title:"Numbered List"}],b=[{command:"justifyLeft",icon:xt,title:"Align Left"},{command:"justifyCenter",icon:_t,title:"Align Center"},{command:"justifyRight",icon:wt,title:"Align Right"},{command:"justifyFull",icon:kt,title:"Justify"}],t=[{command:"bold",icon:xe,title:"Bold",syntax:{prefix:"**",suffix:"**"}},{command:"italic",icon:Ie,title:"Italic",syntax:{prefix:"_",suffix:"_"}},{command:"heading",icon:xe,title:"Heading",syntax:{prefix:"# ",suffix:""}},{command:"link",icon:Ue,title:"Link",syntax:{prefix:"[",suffix:"](url)"}},{command:"code",icon:Oe,title:"Code",syntax:{prefix:"`",suffix:"`"}},{command:"quote",icon:Ae,title:"Quote",syntax:{prefix:"> ",suffix:""}},{command:"togglePreview",icon:It,title:"Toggle Preview"}],v=O(()=>{var h;return o.value&&((h=o.value.textContent)==null?void 0:h.length)||0}),p=O(()=>o.value?ie.sanitize(Fe(o.value.textContent||"")):""),M=()=>{a.value||!o.value||(y("update:modelValue",o.value.innerHTML),G())},_=(h,C=null)=>{if(o.value){if(h==="toggleMode"){m();return}if(h==="togglePreview"){u.value=!u.value;return}o.value.focus();try{if(i.value)x(h);else if(h==="createLink"){const k=prompt("Enter URL:");k&&document.execCommand(h,!1,k)}else h==="formatBlock"?document.execCommand(h,!1,`<${C}>`):document.execCommand(h,!1,C);M()}catch(k){console.error("Format error:",k)}}},x=h=>{if(!o.value)return;const C=t.find(ge=>ge.command===h);if(!(C!=null&&C.syntax))return;const{prefix:k,suffix:T}=C.syntax,E=window.getSelection(),W=E==null?void 0:E.getRangeAt(0);if(!W)return;const U=W.toString(),H=k+U+T;document.execCommand("insertText",!1,H)},m=async()=>{if(!o.value)return;const h=o.value.innerHTML;if(i.value=!i.value,i.value){const k=new dt().turndown(h);o.value.innerHTML=k}else{const C=Fe(h);o.value.innerHTML=ie.sanitize(C)}M()},w=h=>document.queryCommandState(h),q=h=>{var T,E;h.preventDefault();const C=(T=h.clipboardData)==null?void 0:T.getData("text/html"),k=(E=h.clipboardData)==null?void 0:E.getData("text/plain");if(i.value)k&&document.execCommand("insertText",!1,k);else if(C){const W=ie.sanitize(C,{ALLOWED_TAGS:["p","b","i","em","strong","a","ul","ol","li","br","h1","h2","h3","h4","h5","h6"],ALLOWED_ATTR:["href"]});document.execCommand("insertHTML",!1,W)}else k&&document.execCommand("insertText",!1,k);M()},Y=h=>{y("blur",h),G()},G=()=>{var C;d.value=null;const h=((C=o.value)==null?void 0:C.textContent)||"";if(n.required&&!h.trim()){d.value=`${n.label} is required`;return}if(n.minLength&&h.length<n.minLength){d.value=`Minimum length is ${n.minLength} characters`;return}if(n.maxLength&&h.length>n.maxLength){d.value=`Maximum length is ${n.maxLength} characters`;return}},ae=()=>{if(!o.value)return;const h=()=>{a.value=!0},C=()=>{a.value=!1,M()};return o.value.addEventListener("compositionstart",h),o.value.addEventListener("compositionend",C),n.modelValue&&(o.value.innerHTML=ie.sanitize(n.modelValue)),!n.modelValue&&n.placeholder&&(o.value.innerHTML=`<p class="text-gray-400">${n.placeholder}</p>`),()=>{o.value&&(o.value.removeEventListener("compositionstart",h),o.value.removeEventListener("compositionend",C))}};return X(()=>n.modelValue,h=>{if(!o.value||a.value)return;const C=o.value.innerHTML;if(h!==C){const k=window.getSelection(),T=k==null?void 0:k.getRangeAt(0);o.value.innerHTML=ie.sanitize(h||""),T&&k&&(k.removeAllRanges(),k.addRange(T))}}),X(()=>$.props.errors,h=>{h&&h[n.name]?d.value=h[n.name]:d.value=null},{deep:!0}),ye(()=>{const h=ae();lt(()=>h==null?void 0:h())}),(h,C)=>(l(),r("div",Ot,[e("label",{for:h.id,class:"label"},[e("span",{class:L(h.labelClass)},D(h.label),3)],8,Pt),e("div",Ht,[e("button",{onClick:C[0]||(C[0]=k=>_("toggleMode")),class:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary transition-colors"},[(l(),N(te(i.value?g(mt):g(bt)),{class:"w-4 h-4"})),e("span",null,D(i.value?"Switch to HTML":"Switch to Markdown"),1)])]),e("div",Et,[i.value?(l(),r("div",Wt,[(l(),r(F,null,A(t,(k,T)=>e("button",{key:T,onClick:me(E=>_(k.command),["prevent"]),title:k.title,class:"p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary"},[(l(),N(te(k.icon),{class:"w-4 h-4"}))],8,Xt)),64))])):(l(),r(F,{key:0},[e("div",Bt,[e("select",{onChange:C[1]||(C[1]=k=>_("formatBlock",k.target.value)),class:"px-3 py-1.5 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary"},C[2]||(C[2]=[nt('<option value="p" data-v-ed8cce78>Paragraph</option><option value="h1" data-v-ed8cce78>Heading 1</option><option value="h2" data-v-ed8cce78>Heading 2</option><option value="h3" data-v-ed8cce78>Heading 3</option><option value="h4" data-v-ed8cce78>Heading 4</option><option value="h5" data-v-ed8cce78>Heading 5</option><option value="h6" data-v-ed8cce78>Heading 6</option>',7)]),32)]),C[3]||(C[3]=e("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e("div",Rt,[(l(),r(F,null,A(I,(k,T)=>e("button",{key:T,onClick:me(E=>_(k.command),["prevent"]),title:k.title,class:L(["p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary",{"bg-gray-100 text-primary border-primary":w(k.command)}])},[(l(),N(te(k.icon),{class:"w-4 h-4"}))],10,Nt)),64))]),C[4]||(C[4]=e("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e("div",qt,[(l(),r(F,null,A(P,(k,T)=>e("button",{key:T,onClick:me(E=>_(k.command),["prevent"]),title:k.title,class:L(["p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary",{"bg-gray-100 text-primary border-primary":w(k.command)}])},[(l(),N(te(k.icon),{class:"w-4 h-4"}))],10,zt)),64))]),C[5]||(C[5]=e("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e("div",Kt,[(l(),r(F,null,A(b,(k,T)=>e("button",{key:T,onClick:me(E=>_(k.command),["prevent"]),title:k.title,class:L(["p-1.5 text-gray-700 bg-white border rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary",{"bg-gray-100 text-primary border-primary":w(k.command)}])},[(l(),N(te(k.icon),{class:"w-4 h-4"}))],10,Yt)),64))])],64))]),e("div",{ref_key:"editorRef",ref:o,id:h.id,contenteditable:"true",spellcheck:"true",dir:"ltr",placeholder:h.placeholder,onInput:M,onPaste:q,onBlur:Y,class:L([h.inputClass,"min-h-[200px] max-h-[600px] overflow-y-auto p-4 focus:outline-none",{error:d.value},{"font-mono":i.value}])},null,42,Qt),i.value&&u.value?(l(),r("div",{key:0,class:"mt-4 p-4 border rounded-lg prose max-w-none",innerHTML:p.value},null,8,Gt)):V("",!0),h.maxLength?(l(),r("div",Jt,D(v.value)+" / "+D(h.maxLength)+" characters ",1)):V("",!0),f(Z,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:R(()=>[d.value?(l(),r("span",{key:0,class:L(h.messageClass),role:"alert","aria-live":"polite"},[e("strong",null,D(d.value),1)],2)):V("",!0)]),_:1})]))}}),es=Q(Zt,[["__scopeId","data-v-ed8cce78"]]);function be(s,c){const n=+ee(s)-+ee(c);return n<0?-1:n>0?1:n}function et(s){return De(s,Date.now())}function tt(s,c,n){const[y,o]=fe(n==null?void 0:n.in,s,c);return+Pe(y)==+Pe(o)}function ts(s,c,n){const[y,o]=fe(n==null?void 0:n.in,s,c),d=y.getFullYear()-o.getFullYear(),$=y.getMonth()-o.getMonth();return d*12+$}function ss(s){return c=>{const y=(s?Math[s]:Math.trunc)(c);return y===0?0:y}}function as(s,c){return+ee(s)-+ee(c)}function ls(s,c){const n=ee(s,c==null?void 0:c.in);return n.setHours(23,59,59,999),n}function st(s,c){const n=ee(s,c==null?void 0:c.in),y=n.getMonth();return n.setFullYear(n.getFullYear(),y+1,0),n.setHours(23,59,59,999),n}function ns(s,c){const n=ee(s,c==null?void 0:c.in);return+ls(n,c)==+st(n,c)}function os(s,c,n){const[y,o,d]=fe(n==null?void 0:n.in,s,s,c),$=be(o,d),a=Math.abs(ts(o,d));if(a<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-$*a);let i=be(o,d)===-$;ns(y)&&a===1&&be(y,d)===1&&(i=!1);const u=$*(a-+i);return u===0?0:u}function rs(s,c,n){const y=as(s,c)/1e3;return ss(n==null?void 0:n.roundingMethod)(y)}function is(s,c){const[n,y]=fe(s,c.start,c.end);return{start:n,end:y}}function ds(s,c){const{start:n,end:y}=is(c==null?void 0:c.in,s);let o=+n>+y;const d=o?+n:+y,$=o?y:n;$.setHours(0,0,0,0);let a=1;const i=[];for(;+$<=d;)i.push(De(n,$)),$.setDate($.getDate()+a),$.setHours(0,0,0,0);return o?i.reverse():i}function cs(s,c){const n=ee(s,c==null?void 0:c.in);return n.setDate(1),n.setHours(0,0,0,0),n}function us(s,c,n){const y=At(),o=(n==null?void 0:n.locale)??y.locale??Ut,d=2520,$=be(s,c);if(isNaN($))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:$}),[i,u]=fe(n==null?void 0:n.in,...$>0?[c,s]:[s,c]),I=rs(u,i),P=(He(u)-He(i))/1e3,b=Math.round((I-P)/60);let t;if(b<2)return n!=null&&n.includeSeconds?I<5?o.formatDistance("lessThanXSeconds",5,a):I<10?o.formatDistance("lessThanXSeconds",10,a):I<20?o.formatDistance("lessThanXSeconds",20,a):I<40?o.formatDistance("halfAMinute",0,a):I<60?o.formatDistance("lessThanXMinutes",1,a):o.formatDistance("xMinutes",1,a):b===0?o.formatDistance("lessThanXMinutes",1,a):o.formatDistance("xMinutes",b,a);if(b<45)return o.formatDistance("xMinutes",b,a);if(b<90)return o.formatDistance("aboutXHours",1,a);if(b<Ee){const v=Math.round(b/60);return o.formatDistance("aboutXHours",v,a)}else{if(b<d)return o.formatDistance("xDays",1,a);if(b<pe){const v=Math.round(b/Ee);return o.formatDistance("xDays",v,a)}else if(b<pe*2)return t=Math.round(b/pe),o.formatDistance("aboutXMonths",t,a)}if(t=os(u,i),t<12){const v=Math.round(b/pe);return o.formatDistance("xMonths",v,a)}else{const v=t%12,p=Math.trunc(t/12);return v<3?o.formatDistance("aboutXYears",p,a):v<9?o.formatDistance("overXYears",p,a):o.formatDistance("almostXYears",p+1,a)}}function vs(s,c){return us(s,et(s),c)}function fs(s,c){return tt(De(s,s),et(s))}const ms={class:"form-control"},ps=["for"],bs=["id","name"],hs={class:"relative"},ys={class:"flex items-center gap-2"},gs={class:"text-gray-700"},xs={key:0,class:"absolute z-50 w-full mt-1 bg-white border rounded-lg shadow-lg"},_s={class:"p-4 space-y-4"},ws={class:"space-y-2"},ks={class:"flex items-center justify-between mb-2"},$s={class:"font-semibold"},Cs={class:"grid grid-cols-7 mb-1"},Ds={class:"grid grid-cols-7 gap-1"},Ms=["onClick"],Ss={key:0,class:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-primary rounded-full"},Vs={class:"flex items-center justify-center gap-4"},Fs={class:"flex items-center gap-2"},Ts=["value"],Ls=["value"],Is={class:"flex flex-wrap gap-2 pt-2 border-t"},Us=["onClick"],As=se({__name:"Input",props:{label:{},name:{},id:{},placeholder:{default:""},modelValue:{},messageClass:{default:"text-red-500 text-sm mt-1"},labelClass:{default:"block text-lg font-bold mb-2"},inputClass:{default:"input input-primary input-bordered w-full"},required:{type:Boolean,default:!1},min:{},max:{}},emits:["update:modelValue","blur"],setup(s,{emit:c}){const n=s,y=c,o=S(!1),d=S(new Date),$=S(null),a=S(0),i=S(0),u=S(null),I=Ke(),P=[{label:"Now",value:new Date},{label:"Start of Day",value:new Date().setHours(0,0,0,0)},{label:"End of Day",value:new Date().setHours(23,59,59,999)},{label:"Tomorrow",value:new Date().setDate(new Date().getDate()+1)}],b=["Su","Mo","Tu","We","Th","Fr","Sa"],t=Array.from({length:60},(U,H)=>H),v=O(()=>le(d.value,"MMMM")),p=O(()=>d.value.getFullYear()),M=O(()=>{const U=cs(d.value),H=st(d.value);return ds({start:U,end:H})}),_=O({get:()=>n.modelValue,set:U=>y("update:modelValue",U)}),x=O(()=>$.value?le($.value,"MMM d, yyyy HH:mm"):""),m=()=>{o.value=!o.value},w=()=>{o.value=!1},q=()=>{d.value=new Date(d.value.getFullYear(),d.value.getMonth()-1)},Y=()=>{d.value=new Date(d.value.getFullYear(),d.value.getMonth()+1)},G=U=>{$.value=new Date(U),$.value.setHours(a.value),$.value.setMinutes(i.value),C()},ae=()=>{$.value&&($.value.setHours(a.value),$.value.setMinutes(i.value),C())},h=U=>{const H=new Date(U);$.value=H,a.value=H.getHours(),i.value=H.getMinutes(),C(),w()},C=()=>{$.value&&(_.value=le($.value,"yyyy-MM-dd'T'HH:mm"),W())},k=U=>$.value&&tt(U,$.value),T=U=>U.getMonth()===d.value.getMonth(),E=U=>fs(U),W=()=>{if(u.value=null,n.required&&!_.value){u.value=`${n.label} is required`;return}if(n.min&&_.value<n.min){u.value=`Date must be after ${le(new Date(n.min),"MMM d, yyyy HH:mm")}`;return}if(n.max&&_.value>n.max){u.value=`Date must be before ${le(new Date(n.max),"MMM d, yyyy HH:mm")}`;return}};return X(()=>I.props.errors,U=>{U&&U[n.name]?u.value=U[n.name]:u.value=null},{deep:!0}),X(()=>n.modelValue,U=>{if(U){const H=new Date(U);$.value=H,a.value=H.getHours(),i.value=H.getMinutes(),d.value=H}},{immediate:!0}),(U,H)=>{const ge=ot("click-outside");return l(),r("div",ms,[e("label",{for:U.id,class:"label"},[e("span",{class:L(U.labelClass)},D(U.label),3)],8,ps),z(e("input",{id:U.id,name:U.name,type:"datetime-local","onUpdate:modelValue":H[0]||(H[0]=j=>_.value=j),class:"hidden"},null,8,bs),[[oe,_.value]]),e("div",hs,[e("button",{type:"button",onClick:m,class:L([U.inputClass,"flex items-center justify-between w-full px-4 py-2",{error:u.value}])},[e("span",ys,[f(g(Ge),{class:"w-5 h-5 text-gray-500"}),e("span",gs,D(x.value||U.placeholder||"Select date and time"),1)]),f(g(ne),{class:L(["w-5 h-5 text-gray-500 transition-transform",{"rotate-180":o.value}])},null,8,["class"])],2),o.value?z((l(),r("div",xs,[e("div",_s,[e("div",ws,[e("div",ks,[e("button",{onClick:q,class:"p-1 hover:bg-gray-100 rounded-full"},[f(g($t),{class:"w-5 h-5"})]),e("span",$s,D(v.value)+" "+D(p.value),1),e("button",{onClick:Y,class:"p-1 hover:bg-gray-100 rounded-full"},[f(g(jt),{class:"w-5 h-5"})])]),e("div",Cs,[(l(),r(F,null,A(b,j=>e("span",{key:j,class:"text-center text-sm text-gray-500 font-medium"},D(j),1)),64))]),e("div",Ds,[(l(!0),r(F,null,A(M.value,j=>(l(),r("button",{key:j.toISOString(),onClick:at=>G(j),class:L(["p-2 text-sm rounded-full hover:bg-gray-100 relative",{"bg-primary/10 text-primary font-semibold":k(j),"text-gray-400":!T(j),"text-gray-900":T(j)}])},[B(D(j.getDate())+" ",1),E(j)?(l(),r("div",Ss)):V("",!0)],10,Ms))),128))])]),e("div",Vs,[e("div",Fs,[z(e("select",{"onUpdate:modelValue":H[1]||(H[1]=j=>a.value=j),class:"w-16 p-1 border rounded",onChange:ae},[(l(),r(F,null,A(24,j=>e("option",{key:j,value:j-1},D(String(j-1).padStart(2,"0")),9,Ts)),64))],544),[[de,a.value]]),H[3]||(H[3]=e("span",{class:"text-gray-500"},":",-1)),z(e("select",{"onUpdate:modelValue":H[2]||(H[2]=j=>i.value=j),class:"w-16 p-1 border rounded",onChange:ae},[(l(!0),r(F,null,A(g(t),j=>(l(),r("option",{key:j,value:j},D(String(j).padStart(2,"0")),9,Ls))),128))],544),[[de,i.value]])])]),e("div",Is,[(l(),r(F,null,A(P,j=>e("button",{key:j.label,onClick:at=>h(j.value),class:"px-3 py-1 text-sm text-gray-600 bg-gray-100 rounded-full hover:bg-gray-200"},D(j.label),9,Us)),64))])])])),[[ge,w]]):V("",!0)]),f(Z,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:R(()=>[u.value?(l(),r("span",{key:0,class:L(U.messageClass),role:"alert","aria-live":"polite"},[e("strong",null,D(u.value),1)],2)):V("",!0)]),_:1})])}}}),js=Q(As,[["__scopeId","data-v-5cecae4c"]]),Os={key:0,class:"fixed inset-0 z-50 overflow-hidden"},Ps={class:"fixed inset-0 flex items-center justify-center p-4"},Hs={key:0,class:"relative bg-base-100 rounded-2xl shadow-2xl w-full max-w-md transform transition-all"},Es={key:0,class:"absolute inset-0 bg-base-100/70 backdrop-blur-sm flex items-center justify-center z-50 rounded-2xl"},Bs={class:"p-6"},Rs={class:"flex justify-center mb-6"},Ns={class:"w-20 h-20 rounded-full bg-error/20 flex items-center justify-center animate-pulse"},qs={class:"text-center space-y-4"},zs={class:"text-base-content/70"},Ks={class:"mt-8 flex gap-4"},Ys=["disabled"],Ws=["disabled"],Xs=se({__name:"delete",props:{id:{type:Number,default:0},model:{type:String,default:""},endpoint:{type:String,default:""},permission:{type:String,default:null}},emits:["onDelete"],setup(s,{emit:c}){const n=S(!1),y=S(!1),o=s,d=c,$=async()=>{var a,i,u,I;if(!y.value)try{y.value=!0;const P=await ve.post(o.endpoint,{model:o.model,id:o.id,permission:o.permission});K("success",P.data.message,"success"),d("onDelete"),n.value=!1}catch(P){const b=((i=(a=P.response)==null?void 0:a.data)==null?void 0:i.message)||"An error occurred while deleting the item";if((I=(u=P.response)==null?void 0:u.data)!=null&&I.errors){const t=P.response.data.errors;Object.values(t).forEach(v=>{Array.isArray(v)&&K("error",v[0],"error")})}else K("error",b,"error")}finally{y.value=!1}};return(a,i)=>(l(),r(F,null,[e("button",{onClick:i[0]||(i[0]=u=>n.value=!0),class:"btn btn-error btn-sm gap-2 group relative overflow-hidden hover:shadow-lg transition-all duration-300","aria-label":"Delete item"},[f(g(Ve),{class:"w-4 h-4 transform transition-all duration-300 group-hover:scale-110"}),i[4]||(i[4]=e("div",{class:"absolute inset-0 bg-white/20 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"},null,-1))]),f(Z,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:R(()=>[n.value?(l(),r("div",Os,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:i[1]||(i[1]=u=>n.value=!1)}),e("div",Ps,[f(Z,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:R(()=>[n.value?(l(),r("div",Hs,[y.value?(l(),r("div",Es,i[5]||(i[5]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"loading loading-spinner loading-lg text-error"}),e("p",{class:"text-sm font-medium text-base-content/70"},"Deleting...")],-1)]))):V("",!0),e("div",Bs,[e("button",{onClick:i[2]||(i[2]=u=>n.value=!1),class:"btn btn-sm btn-circle btn-ghost absolute right-4 top-4 hover:rotate-90 transition-transform duration-200","aria-label":"Close modal"},[f(g(J),{class:"w-4 h-4"})]),e("div",Rs,[e("div",Ns,[f(g($e),{class:"w-10 h-10 text-error"})])]),e("div",qs,[i[6]||(i[6]=e("h3",{class:"text-2xl font-bold text-base-content"}," Confirm Deletion ",-1)),e("p",zs," Are you sure you want to delete item #"+D(o.id)+"? ",1),i[7]||(i[7]=e("p",{class:"text-sm text-error font-medium"}," This action cannot be undone. ",-1))]),e("div",Ks,[e("button",{onClick:i[3]||(i[3]=u=>n.value=!1),class:"btn btn-ghost flex-1 hover:bg-base-200",disabled:y.value}," Cancel ",8,Ys),e("button",{onClick:$,class:"btn btn-error flex-1 gap-2",disabled:y.value},[f(g(Ve),{class:L(["w-4 h-4",{"animate-spin":y.value}])},null,8,["class"]),B(" "+D(y.value?"Deleting...":"Delete"),1)],8,Ws)])])])):V("",!0)]),_:1})])])):V("",!0)]),_:1})],64))}}),Re=Q(Xs,[["__scopeId","data-v-5a8fcd37"]]),Qs=s=>{if(!s)return"";let c;if(s.includes("T"))c=new Date(s);else{const n=s.split("/");c=new Date(`${n[2]}-${n[1]}-${n[0]}`)}return c.toISOString().split("T")[0]},Gs=s=>{const c=s.split("/");return new Date(c[2]+"/"+c[1]+"/"+c[0]).toISOString().substr(0,16)},Js=s=>s?s.toString():"",Zs={key:0},ea={key:1},ta={key:2},sa={key:3},aa={key:4},la={key:5},na={key:6},oa={key:7},ra={key:8},ia={key:9},da={key:10},ca={key:11},ua={key:12},va={key:13},fa={key:14},ma={class:"form-control mt-1"},pa={class:"label"},ba={class:"label-text"},ha=["onKeyup","onUpdate:modelValue","error"],ya={class:"flex justify-center bg-base-100 rounded mt-5"},ga=["innerHTML"],xa={key:15},_a={key:16,class:"text-error text-sm mt-1"},wa={__name:"FormFields",props:{fields:{type:Array,required:!0}},emits:["update:fields"],setup(s,{emit:c}){const n=s,y=c;X(()=>n.fields,d=>{y("update:fields",d)},{deep:!0});const o=(d,$,a)=>{if(a==="name"||a==="title"){const i=n.fields.findIndex(u=>u.key==="slug");i!==-1&&(n.fields[i].value=d.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))}};return(d,$)=>(l(),r("div",null,[(l(!0),r(F,null,A(s.fields,(a,i)=>(l(),r("div",{key:i},[a.type=="text"?(l(),r("div",Zs,[f(g(re),{type:"text",modelValue:s.fields[i].value,"onUpdate:modelValue":u=>s.fields[i].value=u,label:a.label,error:a.error,onKeyup:u=>o(u.target.value,a.type,a.key)},null,8,["modelValue","onUpdate:modelValue","label","error","onKeyup"])])):a.type=="password"?(l(),r("div",ea,[f(g(ct),{modelValue:s.fields[i].value,"onUpdate:modelValue":u=>s.fields[i].value=u,label:a.label,error:a.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):a.type=="email"?(l(),r("div",ta,[f(g(re),{type:"email",modelValue:s.fields[i].value,"onUpdate:modelValue":u=>s.fields[i].value=u,label:a.label,error:a.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):a.type=="date"?(l(),r("div",sa,[f(g(re),{type:"date",modelValue:s.fields[i].value,"onUpdate:modelValue":u=>s.fields[i].value=u,label:a.label,error:a.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):a.type=="timestamp"?(l(),r("div",aa,[f(g(js),{label:a.label,name:a.key,id:a.key,modelValue:s.fields[i].value,"onUpdate:modelValue":u=>s.fields[i].value=u,placeholder:"Select date and time",required:"",error:a.error,min:"2024-01-16T00:00",max:"2025-12-31T23:59"},null,8,["label","name","id","modelValue","onUpdate:modelValue","error"])])):a.type=="slug"?(l(),r("div",la,[f(g(re),{type:"text",modelValue:s.fields[i].value,"onUpdate:modelValue":u=>s.fields[i].value=u,label:a.label,error:a.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):a.type=="media"?(l(),r("div",na,[f(g(vt),{label:"image",placeholder:"search",modelValue:s.fields[i].value,"onUpdate:modelValue":u=>s.fields[i].value=u,loadData:s.fields[i].value,endpoint:a.endpoint,error:a.error},null,8,["modelValue","onUpdate:modelValue","loadData","endpoint","error"])])):a.type=="number"?(l(),r("div",oa,[f(g(re),{type:"number",modelValue:s.fields[i].value,"onUpdate:modelValue":u=>s.fields[i].value=u,label:a.label,onKeyup:u=>o(u.target.value,a.type,a.key),error:a.error},null,8,["modelValue","onUpdate:modelValue","label","onKeyup","error"])])):a.type=="model_search"?(l(),r("div",ra,[f(g(Te),{label:a.label,placeholder:"search",model:a.model,columns:a.columns,singleMode:a.singleSearch,modelValue:s.fields[i].value,"onUpdate:modelValue":u=>s.fields[i].value=u,loadData:s.fields[i].value,endpoint:a.endpoint,displayKey:a.displayKey,error:a.error},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey","error"])])):a.type=="pivot_model"?(l(),r("div",ia,[f(g(Te),{label:a.label,placeholder:"search",model:a.model,columns:a.columns,singleMode:a.singleSearch,modelValue:s.fields[i].value,"onUpdate:modelValue":u=>s.fields[i].value=u,loadData:s.fields[i].value,endpoint:a.endpoint,displayKey:a.displayKey,error:a.error},null,8,["label","model","columns","singleMode","modelValue","onUpdate:modelValue","loadData","endpoint","displayKey","error"])])):a.type=="editor"?(l(),r("div",da,[f(g(es),{label:a.label,name:a.key,id:a.key+"-editor",placeholder:"Start typing...",modelValue:s.fields[i].value,"onUpdate:modelValue":u=>s.fields[i].value=u,required:"",minLength:10,maxLength:1e3,error:a.error},null,8,["label","name","id","modelValue","onUpdate:modelValue","error"])])):a.type=="Toggle"?(l(),r("div",ca,[f(g(Le),{modelValue:s.fields[i].value,"onUpdate:modelValue":u=>s.fields[i].value=u,label:a.label,error:a.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):a.type=="boolean"?(l(),r("div",ua,[f(g(Le),{modelValue:s.fields[i].value,"onUpdate:modelValue":u=>s.fields[i].value=u,label:a.label,error:a.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):a.type=="chips"?(l(),r("div",va,[f(g(ft),{modelValue:s.fields[i].value,"onUpdate:modelValue":u=>s.fields[i].value=u,label:a.label,error:a.error},null,8,["modelValue","onUpdate:modelValue","label","error"])])):a.type=="icon"?(l(),r("div",fa,[e("label",ma,[e("div",pa,[e("span",ba,D(a.label),1)]),z(e("textarea",{class:"textarea textarea-primary h-24",onKeyup:u=>o(u.target.value,a.type,a.key),"onUpdate:modelValue":u=>s.fields[i].value=u,placeholder:"Bio",error:a.error},null,40,ha),[[oe,s.fields[i].value]])]),e("div",ya,[e("div",{class:"flex p-10 w-52",innerHTML:s.fields[i].value},null,8,ga)])])):a.type=="select"?(l(),r("div",xa,[f(g(ut),{modelValue:s.fields[i].value,"onUpdate:modelValue":u=>s.fields[i].value=u,label:a.label,options:a.select_options,error:a.error},null,8,["modelValue","onUpdate:modelValue","label","options","error"])])):V("",!0),a.error?(l(),r("div",_a,D(a.error),1)):V("",!0)]))),128))]))}},Ne=Q(wa,[["__scopeId","data-v-e0c7883b"]]),ka={key:0,class:"mb-4"},$a={class:"tabs tabs-boxed bg-base-300 p-1"},Ca=["onClick"],Da={class:"mt-4"},Ma={key:1},Sa={__name:"FormBuilder",props:{columns:{type:Array,default:()=>[]},modelValue:{type:Object,default:()=>({})},editMode:{type:String,default:"false"},errors:{type:Object,default:()=>({})}},emits:["onFormUpdate"],setup(s,{emit:c}){const n=s,y=c,o=S([]),d=S(""),$=O(()=>o.value.some(b=>b.tab)),a=O(()=>{const b=[...new Set(o.value.filter(t=>t.tab).map(t=>t.tab))];return b.length>0&&!d.value&&(d.value=b[0]),b}),i=b=>o.value.filter(t=>t.tab===b),u=b=>{b.forEach(t=>{const v=o.value.findIndex(p=>p.key===t.key);v!==-1&&(o.value[v]=t)}),y("onFormUpdate",o.value)},I=()=>{const b=[];n.columns.forEach(t=>{var _;const v=n.editMode==="false",p=n.editMode==="true";if(v&&t.canCreate||p&&t.canEdit){let x="";v?(t.type==="Toggle"||t.type==="boolean")&&(x=!1):p&&(x=P(t,n.modelValue));const m={...t,value:x,select_options:((_=t==null?void 0:t.options)==null?void 0:_.options)||(t==null?void 0:t.options),error:n.errors[t.key.toLowerCase()]||null};b.push(m)}}),o.value=b,n.editMode==="true"&&y("onFormUpdate",o.value)};X(()=>n.errors,b=>{if(Object.keys(b).length>0){const t=o.value.map(v=>({...v,error:b[v.key.toLowerCase()]||null}));o.value=t,y("onFormUpdate",o.value)}},{deep:!0,immediate:!0});const P=(b,t)=>{switch(b.type){case"date":return Qs(t[b.key]);case"timestamp":return Gs(t[b.key]);case"media":case"model_search":case"pivot_model":case"boolean":case"chips":return t[b.key];default:return Js(t[b.key])}};return ye(I),(b,t)=>(l(),r("div",null,[$.value?(l(),r("div",ka,[e("div",$a,[(l(!0),r(F,null,A(a.value,v=>(l(),r("button",{key:v,class:L(["tab flex-1 transition-all duration-200",{"tab-active":d.value===v}]),onClick:p=>d.value=v},D(v),11,Ca))),128))]),e("div",Da,[(l(!0),r(F,null,A(a.value,v=>z((l(),r("div",{key:v},[f(Ne,{fields:i(v),"onUpdate:fields":u},null,8,["fields"])])),[[rt,d.value===v]])),128))])])):(l(),r("div",Ma,[f(Ne,{fields:o.value,"onUpdate:fields":u},null,8,["fields"])]))]))}},he=Q(Sa,[["__scopeId","data-v-f8e12097"]]),Va={key:0,class:"fixed inset-0 z-50 overflow-hidden"},Fa={class:"relative min-h-screen flex items-center justify-center p-0 md:p-4"},Ta={key:0,class:"relative bg-base-100 rounded-none md:rounded-2xl shadow-2xl flex flex-col w-full min-h-screen md:min-h-[80vh] md:max-h-[90vh] md:w-11/12 max-w-7xl transform transition-all"},La={key:0,class:"absolute inset-0 bg-base-100/70 backdrop-blur-sm flex items-center justify-center z-50"},Ia={class:"sticky top-0 z-10 bg-base-200 px-6 py-4 border-b border-base-content/10"},Ua={class:"flex flex-col sm:flex-row justify-between gap-4"},Aa={class:"text-lg font-semibold flex items-center gap-3 text-base-content"},ja={class:"flex items-center gap-2"},Oa={class:"flex items-center gap-3"},Pa=["disabled"],Ha={class:"mt-4 alert alert-error shadow-lg",key:"error-alert"},Ea={class:"flex-1 overflow-auto p-6 custom-scrollbar"},Ba={class:"container mx-auto max-w-5xl"},Ra={class:"grid gap-6 lg:grid-cols-12"},Na={class:"lg:col-span-8 space-y-6"},qa={key:0,class:"w-full space-y-4"},za=["checked"],Ka={class:"collapse-title text-lg font-medium flex items-center gap-3 pr-12"},Ya={class:"collapse-content bg-base-100/50"},Wa={class:"pt-4"},Xa={key:1,class:"card bg-base-200 shadow-lg border border-base-content/10 hover:shadow-xl transition-all duration-200"},Qa={class:"card-body"},Ga={class:"lg:col-span-4 space-y-4"},Ja={class:"card bg-base-200 shadow-lg hover:shadow-xl transition-all duration-200"},Za={class:"card-body"},el={class:"text-sm font-medium text-base-content flex items-center gap-2"},tl={class:"card bg-base-200 shadow-lg hover:shadow-xl transition-all duration-200"},sl={class:"card-body"},al={class:"text-sm font-medium text-base-content flex items-center gap-2"},ll={class:"text-sm text-base-content/70 mt-2 space-y-3"},nl={class:"flex items-start gap-2"},ol={class:"rounded-full bg-success/20 p-1 mt-0.5"},rl={class:"flex items-start gap-2"},il={class:"rounded-full bg-success/20 p-1 mt-0.5"},dl={class:"flex items-start gap-2"},cl={class:"rounded-full bg-success/20 p-1 mt-0.5"},ul={key:1,class:"modal-box w-11/12 max-w-lg bg-base-100"},vl={class:"card shadow-xl"},fl={class:"card-body items-center text-center space-y-6"},ml={class:"w-20 h-20 rounded-full bg-warning/20 flex items-center justify-center animate-pulse"},pl=se({__name:"create",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},permission:{type:String,default:null}},emits:["onCreate"],setup(s,{emit:c}){const n=S(!1),y=S(!1),o=S({}),d=s,$=c,a=O(()=>d.columns.some(b=>b.canCreate)),i=O(()=>{const b=d.columns.filter(p=>p.section),t=d.columns.filter(p=>!p.section),v=[...new Set(b.map(p=>p.section))];return{sections:v,fields:t,sectionsWithFields:v.map(p=>({section:p,fields:b.filter(M=>M.section===p)}))}}),u=S(d.columns.filter(b=>b.canCreate)),I=b=>{u.value.length>0?b.forEach(t=>{const v=u.value.findIndex(p=>p.key===t.key);v!==-1&&(u.value[v]=t)}):u.value=b},P=async()=>{var b,t;if(!y.value)try{y.value=!0,o.value={};const v=await ve.post(d.endpoint,{model:d.model,data:u.value,permission:d.permission});K("success","Entry created successfully","success"),$("onCreate"),n.value=!1}catch(v){if(o.value={},(t=(b=v.response)==null?void 0:b.data)!=null&&t.errors){const p=v.response.data.errors;Array.isArray(p)?p.forEach(M=>{if(Array.isArray(M)&&M.length>0){const _=M[0],x=_.match(/The (.*?) (field )?(is required|must be|invalid|already exists)/i);if(x){const m=x[1].toLowerCase().replace(" ","_");o.value[m]=_}}}):typeof p=="object"&&Object.entries(p).forEach(([M,_])=>{Array.isArray(_)&&_.length>0&&(o.value[M]=_[0])}),Object.values(o.value).forEach(M=>{K("error",M,"error")})}else v.message&&K("error",v.message,"error")}finally{y.value=!1}};return(b,t)=>(l(),r(F,null,[e("button",{onClick:t[0]||(t[0]=v=>n.value=!0),class:"btn btn-primary gap-2 group relative overflow-hidden hover:shadow-lg transition-all duration-300"},[f(g(Ct),{class:"w-5 h-5 transform transition-all duration-300 group-hover:rotate-90"}),t[5]||(t[5]=e("span",{class:"hidden md:inline"},"Create New",-1)),t[6]||(t[6]=e("div",{class:"absolute inset-0 bg-white/20 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"},null,-1))]),f(Z,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:R(()=>[n.value?(l(),r("div",Va,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:t[1]||(t[1]=v=>n.value=!1)}),e("div",Fa,[f(Z,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:R(()=>[a.value?(l(),r("div",Ta,[y.value?(l(),r("div",La,t[7]||(t[7]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"loading loading-spinner loading-lg text-primary"}),e("p",{class:"text-sm font-medium text-base-content/70"},"Processing...")],-1)]))):V("",!0),e("div",Ia,[e("div",Ua,[e("h2",Aa,[e("button",{onClick:t[2]||(t[2]=v=>n.value=!1),class:"btn btn-sm btn-circle btn-ghost hover:bg-base-300 hover:rotate-90 transition-all duration-200"},[f(g(J),{class:"w-5 h-5"})]),e("div",ja,[f(g(Dt),{class:"w-5 h-5 text-primary"}),t[8]||(t[8]=e("span",null,"Create New Entry",-1))])]),e("div",Oa,[e("button",{onClick:t[3]||(t[3]=v=>n.value=!1),class:"btn btn-ghost btn-sm hover:bg-base-300"}," Cancel "),e("button",{onClick:P,disabled:y.value,class:"btn btn-primary btn-sm gap-2 min-w-[100px]"},[f(g(Je),{class:L(["w-4 h-4",{"animate-spin":y.value}])},null,8,["class"]),B(" "+D(y.value?"Creating...":"Create"),1)],8,Pa)])]),f(ue,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 -translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-4"},{default:R(()=>[Object.keys(o.value).length>0?(l(),r("div",Ha,[f(g($e),{class:"w-5 h-5 flex-shrink-0"}),t[9]||(t[9]=e("div",null,[e("h3",{class:"font-bold"},"Please correct the following errors"),e("div",{class:"text-xs opacity-75"},"Review the highlighted fields below")],-1))])):V("",!0)]),_:1})]),e("div",Ea,[e("div",Ba,[e("div",Ra,[e("div",Na,[f(ue,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-4"},{default:R(()=>[i.value.sectionsWithFields.length>0?(l(),r("div",qa,[(l(!0),r(F,null,A(i.value.sectionsWithFields,(v,p)=>(l(),r("div",{key:v.section,class:"collapse collapse-plus bg-base-200 rounded-box border border-base-content/10 hover:border-primary/30 transition-all duration-200 shadow-sm hover:shadow-md"},[e("input",{type:"checkbox",checked:p===0},null,8,za),e("div",Ka,[f(g(Ye),{class:"w-5 h-5 text-primary"}),B(" "+D(v.section),1)]),e("div",Ya,[e("div",Wa,[f(he,{columns:v.fields,errors:o.value,onOnFormUpdate:I},null,8,["columns","errors"])])])]))),128))])):V("",!0),i.value.fields.length>0?(l(),r("div",Xa,[e("div",Qa,[f(he,{columns:i.value.fields,errors:o.value,onOnFormUpdate:I},null,8,["columns","errors"])])])):V("",!0)]),_:1})]),e("div",Ga,[e("div",Ja,[e("div",Za,[e("h3",el,[f(g(Ze),{class:"w-4 h-4 text-primary"}),t[10]||(t[10]=B(" Information "))]),t[11]||(t[11]=e("div",{class:"text-sm text-base-content/70 mt-2 space-y-2"},[e("p",null,"Fill in the required information to create a new entry."),e("p",null,[B("All fields marked with "),e("span",{class:"text-error"},"*"),B(" are required.")])],-1))])]),e("div",tl,[e("div",sl,[e("h3",al,[f(g(Mt),{class:"w-4 h-4 text-primary"}),t[12]||(t[12]=B(" Quick Tips "))]),e("ul",ll,[e("li",nl,[e("div",ol,[f(g(ce),{class:"w-3 h-3 text-success"})]),t[13]||(t[13]=e("span",null,"Use sections to organize related fields",-1))]),e("li",rl,[e("div",il,[f(g(ce),{class:"w-3 h-3 text-success"})]),t[14]||(t[14]=e("span",null,"Preview changes before submitting",-1))]),e("li",dl,[e("div",cl,[f(g(ce),{class:"w-3 h-3 text-success"})]),t[15]||(t[15]=e("span",null,"All changes are saved automatically",-1))])])])])])])])])])):(l(),r("div",ul,[e("div",vl,[e("div",fl,[e("div",ml,[f(g(St),{class:"w-10 h-10 text-warning"})]),t[16]||(t[16]=e("div",{class:"space-y-2"},[e("h2",{class:"text-2xl font-bold text-error"},"Access Denied"),e("p",{class:"text-base-content/80"},"You don't have permission to create new entries."),e("p",{class:"text-base-content/60 text-sm"},"Please contact your system administrator for access.")],-1)),e("button",{onClick:t[4]||(t[4]=v=>n.value=!1),class:"btn btn-ghost btn-sm hover:bg-base-200"}," Close ")])])]))]),_:1})])])):V("",!0)]),_:1})],64))}}),bl=Q(pl,[["__scopeId","data-v-845adc09"]]),hl={key:0,class:"fixed inset-0 z-50 overflow-hidden"},yl={class:"relative min-h-screen flex items-center justify-center p-0 md:p-4"},gl={class:"relative bg-base-100 rounded-none md:rounded-2xl shadow-2xl flex flex-col w-full min-h-screen md:min-h-[80vh] md:max-h-[90vh] md:w-11/12 max-w-7xl transform transition-all"},xl={key:0,class:"absolute inset-0 bg-base-100/70 backdrop-blur-sm flex items-center justify-center z-50"},_l={class:"sticky top-0 z-10 bg-base-200 px-6 py-4 border-b border-base-content/10"},wl={class:"flex flex-col sm:flex-row justify-between gap-4"},kl={class:"text-lg font-semibold flex items-center gap-3 text-base-content"},$l={class:"flex items-center gap-2"},Cl={class:"flex items-center gap-3"},Dl=["disabled"],Ml={class:"mt-4 alert alert-error shadow-lg",key:"error-alert"},Sl={class:"flex-1 overflow-auto p-6 custom-scrollbar"},Vl={class:"container mx-auto max-w-5xl"},Fl={class:"grid gap-6 lg:grid-cols-12"},Tl={class:"lg:col-span-8 space-y-6"},Ll={key:0,class:"w-full space-y-4"},Il=["checked"],Ul={class:"collapse-title text-lg font-medium flex items-center gap-3 pr-12"},Al={class:"collapse-content bg-base-100/50"},jl={class:"pt-4"},Ol={key:1,class:"card bg-base-200 shadow-lg border border-base-content/10 hover:shadow-xl transition-all duration-200"},Pl={class:"card-body"},Hl={class:"lg:col-span-4 space-y-4"},El={class:"card bg-base-200 shadow-lg hover:shadow-xl transition-all duration-200"},Bl={class:"card-body"},Rl={class:"text-sm font-medium text-base-content flex items-center gap-2"},Nl={class:"mt-3 space-y-3 divide-y divide-base-content/10"},ql={class:"flex justify-between items-center py-2"},zl={class:"font-medium text-base-content"},Kl={class:"flex justify-between items-center py-2"},Yl={class:"font-medium text-base-content flex items-center gap-2"},Wl={class:"card bg-base-200 shadow-lg hover:shadow-xl transition-all duration-200"},Xl={class:"card-body"},Ql={class:"text-sm font-medium text-base-content flex items-center gap-2"},Gl={class:"mt-3 space-y-1"},Jl=["onClick"],Zl={class:"flex items-center gap-2"},en={key:0,class:"text-error"},tn=se({__name:"edit",props:{columns:{type:Array,default:()=>[]},model:{type:String,default:""},endpoint:{type:String,default:""},id:{type:Number,default:0},modelValue:{type:Object,default:()=>({})},permission:{type:String,default:null}},emits:["onEdit"],setup(s,{emit:c}){const n=S(!1),y=S(!1),o=S({}),d=s,$=c,a=S(d.columns.filter(b=>b.canEdit)),i=O(()=>{const b=d.columns.filter(p=>p.section),t=d.columns.filter(p=>!p.section),v=[...new Set(b.map(p=>p.section))];return{sections:v,fields:t,sectionsWithFields:v.map(p=>({section:p,fields:b.filter(M=>M.section===p)}))}}),u=b=>{a.value.length>0?b.forEach(t=>{const v=a.value.findIndex(p=>p.key===t.key);v!==-1&&(a.value[v]=t)}):a.value=b},I=async()=>{var b,t;if(!y.value)try{y.value=!0,o.value={};const v=await ve.post(d.endpoint,{model:d.model,id:d.id,data:a.value,permission:d.permission});K("success",v.data.message,"success"),$("onEdit"),n.value=!1}catch(v){if((t=(b=v.response)==null?void 0:b.data)!=null&&t.errors){const p=v.response.data.errors;Array.isArray(p)?p.forEach(M=>{if(Array.isArray(M)&&M.length>0){const _=M[0],x=_.match(/The (.*?) (field )?(is required|must be|invalid|already exists)/i);if(x){const m=x[1].toLowerCase().replace(" ","_");o.value[m]=_}}}):Object.entries(p).forEach(([M,_])=>{Array.isArray(_)&&_.length>0&&(o.value[M.toLowerCase()]=_[0])}),Object.values(o.value).forEach(M=>{K("error",M,"error")})}else K("error","An error occurred while saving changes. Please try again.","error")}finally{y.value=!1}},P=b=>{var v;const t=document.querySelector(`[data-field-key="${b}"]`);if(t){const p=t.closest(".collapse-content");if(p){const M=(v=p.parentElement)==null?void 0:v.querySelector('input[type="checkbox"]');M&&!M.checked&&(M.checked=!0)}setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),t.classList.add("highlight-field"),setTimeout(()=>{t.classList.remove("highlight-field")},2e3)},300)}};return(b,t)=>(l(),r(F,null,[e("button",{onClick:t[0]||(t[0]=v=>n.value=!0),class:"btn btn-primary btn-sm gap-2 group relative overflow-hidden hover:shadow-lg transition-all duration-300"},[f(g(we),{class:"w-4 h-4 transform transition-all duration-300 group-hover:rotate-12"}),t[4]||(t[4]=e("span",{class:"hidden md:inline"},"Edit",-1)),t[5]||(t[5]=e("div",{class:"absolute inset-0 bg-white/20 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"},null,-1))]),f(Z,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:R(()=>[n.value?(l(),r("div",hl,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:t[1]||(t[1]=v=>n.value=!1)}),e("div",yl,[f(Z,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:R(()=>{var v;return[e("div",gl,[y.value?(l(),r("div",xl,t[6]||(t[6]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"loading loading-spinner loading-lg text-primary"}),e("p",{class:"text-sm font-medium text-base-content/70"},"Saving changes...")],-1)]))):V("",!0),e("div",_l,[e("div",wl,[e("h2",kl,[e("button",{onClick:t[2]||(t[2]=p=>n.value=!1),class:"btn btn-sm btn-circle btn-ghost hover:bg-base-300 hover:rotate-90 transition-all duration-200"},[f(g(J),{class:"w-5 h-5"})]),e("div",$l,[f(g(pt),{class:"w-5 h-5 text-primary"}),e("span",null,"Edit Item "+D(d.id),1)])]),e("div",Cl,[e("button",{onClick:t[3]||(t[3]=p=>n.value=!1),class:"btn btn-ghost btn-sm hover:bg-base-300"}," Cancel "),e("button",{onClick:I,disabled:y.value,class:"btn btn-primary btn-sm gap-2 min-w-[120px]"},[f(g(Je),{class:L(["w-4 h-4",{"animate-spin":y.value}])},null,8,["class"]),B(" "+D(y.value?"Saving...":"Save Changes"),1)],8,Dl)])]),f(ue,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 -translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-4"},{default:R(()=>[Object.keys(o.value).length>0?(l(),r("div",Ml,[f(g($e),{class:"w-5 h-5 flex-shrink-0"}),t[7]||(t[7]=e("div",null,[e("h3",{class:"font-bold"},"Please correct the following errors"),e("div",{class:"text-xs opacity-75"},"Review the highlighted fields below")],-1))])):V("",!0)]),_:1})]),e("div",Sl,[e("div",Vl,[e("div",Fl,[e("div",Tl,[f(ue,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-4"},{default:R(()=>[i.value.sectionsWithFields.length>0?(l(),r("div",Ll,[(l(!0),r(F,null,A(i.value.sectionsWithFields,(p,M)=>(l(),r("div",{key:p.section,class:"collapse collapse-plus bg-base-200 rounded-box border border-base-content/10 hover:border-primary/30 transition-all duration-200 shadow-sm hover:shadow-md"},[e("input",{type:"checkbox",checked:M===0},null,8,Il),e("div",Ul,[f(g(Ye),{class:"w-5 h-5 text-primary"}),B(" "+D(p.section),1)]),e("div",Al,[e("div",jl,[f(he,{columns:p.fields,errors:o.value,onOnFormUpdate:u,editMode:"true",modelValue:d.modelValue},null,8,["columns","errors","modelValue"])])])]))),128))])):V("",!0),i.value.fields.length>0?(l(),r("div",Ol,[e("div",Pl,[f(he,{columns:i.value.fields,errors:o.value,onOnFormUpdate:u,editMode:"true",modelValue:d.modelValue},null,8,["columns","errors","modelValue"])])])):V("",!0)]),_:1})]),e("div",Hl,[e("div",El,[e("div",Bl,[e("h3",Rl,[f(g(Ze),{class:"w-4 h-4 text-primary"}),t[8]||(t[8]=B(" Information "))]),e("div",Nl,[e("div",ql,[t[9]||(t[9]=e("span",{class:"text-sm text-base-content/70"},"ID:",-1)),e("span",zl,D(d.id),1)]),e("div",Kl,[t[10]||(t[10]=e("span",{class:"text-sm text-base-content/70"},"Last Updated:",-1)),e("span",Yl,[f(g(Ge),{class:"w-4 h-4 text-primary"}),B(" "+D(new Date((v=d.modelValue)==null?void 0:v.updated_at).toLocaleDateString()),1)])])])])]),e("div",Wl,[e("div",Xl,[e("h3",Ql,[f(g(Vt),{class:"w-4 h-4 text-primary"}),t[11]||(t[11]=B(" Quick Navigation "))]),e("div",Gl,[(l(!0),r(F,null,A(a.value,p=>(l(),r("button",{key:p.key,onClick:M=>P(p.key),class:L(["w-full text-left px-3 py-2 text-sm rounded-btn transition-all duration-200",[o.value[p.key]?"text-error bg-error/10 hover:bg-error/20":"text-base-content hover:bg-base-100"]])},[e("div",Zl,[o.value[p.key]?(l(),r("span",en,"‚óè")):V("",!0),B(" "+D(p.label),1)])],10,Jl))),128))])])])])])])])])]}),_:1})])])):V("",!0)]),_:1})],64))}}),qe=Q(tn,[["__scopeId","data-v-14932ed5"]]),sn={class:"bg-base-100 rounded-xl shadow-lg transition-all duration-300 hover:shadow-xl"},an={class:"p-4"},ln={class:"md:hidden w-full mb-4"},nn={class:"flex items-center gap-2"},on={class:"grid gap-3 sm:grid-cols-3"},rn={class:"dropdown dropdown-hover"},dn={tabindex:"0",class:"btn btn-ghost w-full justify-between gap-2 normal-case"},cn={class:"flex items-center gap-2 text-base-content/70"},un={tabindex:"0",class:"dropdown-content z-10 menu p-2 shadow-lg bg-base-200 rounded-box w-52"},vn=["onClick"],fn={class:"dropdown dropdown-hover"},mn={tabindex:"0",class:"btn btn-ghost w-full justify-between gap-2 normal-case"},pn={class:"flex items-center gap-2 text-base-content/70"},bn={class:"truncate"},hn={tabindex:"0",class:"dropdown-content z-10 menu p-2 shadow-lg bg-base-200 rounded-box w-52"},yn=["onClick"],gn={class:"dropdown dropdown-hover"},xn={tabindex:"0",class:"btn btn-ghost w-full justify-between gap-2 normal-case"},_n={class:"flex items-center gap-2 text-base-content/70"},wn={tabindex:"0",class:"dropdown-content z-10 menu p-2 shadow-lg bg-base-200 rounded-box w-52"},kn={class:"join w-full sm:w-auto"},$n={class:"relative flex-1"},Cn=["disabled"],Dn={key:"search",class:"badge badge-primary gap-2 p-3"},Mn={key:"filter",class:"badge badge-secondary gap-2 p-3"},Sn={key:"perPage",class:"badge badge-accent gap-2 p-3"},Vn=se({__name:"filter",props:{columns:{}},emits:["onPerPage","onOrderBy","onSearch","onFilter","onFilterReset"],setup(s,{emit:c}){const n=s,y=c,o=S(!1),d=S(10),$=S(""),a=S("asc"),i=S(""),u=S([]),I=O(()=>{const x=u.value.find(m=>m.value===$.value);return(x==null?void 0:x.label)||""}),P=O(()=>i.value||$.value||d.value!==10||a.value!=="asc"),b=(x,m)=>{let w;return(...q)=>{clearTimeout(w),w=setTimeout(()=>x(...q),m)}},t=()=>{const x=n.columns.filter(m=>m.sortable);u.value=x.map(m=>({label:m.label,value:m.key}))},v=()=>{i.value="",y("onSearch","")},p=()=>{i.value&&_(i.value)},M=()=>{d.value=10,$.value="",a.value="asc",i.value="",o.value=!1,y("onFilterReset",{perPage:10,filterBy:"",orderBy:"asc",search:null})},_=b(x=>{y("onSearch",x)},300);return X(d,x=>y("onPerPage",x)),X(a,x=>y("onOrderBy",x)),X($,x=>y("onFilter",x)),X(i,x=>{x&&_(x)}),ye(t),(x,m)=>(l(),r("div",sn,[e("div",an,[e("div",ln,[e("button",{onClick:m[0]||(m[0]=w=>o.value=!o.value),class:"btn btn-ghost w-full justify-between group"},[e("span",nn,[f(g(Xe),{class:"w-4 h-4 text-primary"}),e("span",null,D(o.value?"Hide Filters":"Show Filters"),1)]),f(g(ne),{class:L(["w-4 h-4 transition-transform duration-300",{"rotate-180":o.value}])},null,8,["class"])])]),e("div",{class:L(["grid gap-4 transition-all duration-300",["md:grid-cols-[1fr_auto]",o.value?"grid-cols-1":"hidden md:grid"]])},[e("div",on,[e("div",rn,[e("label",dn,[e("div",cn,[f(g(Ft),{class:"w-4 h-4"}),e("span",null,D(d.value)+" per page",1)]),f(g(ne),{class:"w-4 h-4"})]),e("ul",un,[(l(),r(F,null,A([10,25,50,100],w=>e("li",{key:w},[e("button",{onClick:q=>d.value=w,class:L([{active:d.value===w},"flex items-center gap-2"])},[d.value===w?(l(),N(g(ce),{key:0,class:"w-4 h-4"})):V("",!0),e("span",null,D(w)+" items",1)],10,vn)])),64))])]),e("div",fn,[e("label",mn,[e("div",pn,[f(g(Qe),{class:"w-4 h-4"}),e("span",bn,D(I.value||"Filter by"),1)]),f(g(ne),{class:"w-4 h-4"})]),e("ul",hn,[(l(!0),r(F,null,A(u.value,w=>(l(),r("li",{key:w.value},[e("button",{onClick:q=>$.value=w.value,class:L([{active:$.value===w.value},"flex items-center gap-2"])},[$.value===w.value?(l(),N(g(ce),{key:0,class:"w-4 h-4"})):V("",!0),e("span",null,D(w.label),1)],10,yn)]))),128))])]),e("div",gn,[e("label",xn,[e("div",_n,[(l(),N(te(a.value==="asc"?g(ke):g(_e)),{class:"w-4 h-4"})),e("span",null,D(a.value==="asc"?"Ascending":"Descending"),1)]),f(g(ne),{class:"w-4 h-4"})]),e("ul",wn,[e("li",null,[e("button",{onClick:m[1]||(m[1]=w=>a.value="asc"),class:L([{active:a.value==="asc"},"flex items-center gap-2"])},[f(g(ke),{class:"w-4 h-4"}),m[6]||(m[6]=e("span",null,"Ascending",-1))],2)]),e("li",null,[e("button",{onClick:m[2]||(m[2]=w=>a.value="desc"),class:L([{active:a.value==="desc"},"flex items-center gap-2"])},[f(g(_e),{class:"w-4 h-4"}),m[7]||(m[7]=e("span",null,"Descending",-1))],2)])])])]),e("div",kn,[e("div",$n,[z(e("input",{"onUpdate:modelValue":m[3]||(m[3]=w=>i.value=w),type:"text",placeholder:"Search...",class:L(["input input-bordered join-item w-full pl-10",{"pr-9":i.value}]),onKeyup:it(p,["enter"])},null,34),[[oe,i.value]]),f(g(Be),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-base-content/40"}),i.value?(l(),r("button",{key:0,onClick:v,class:"absolute right-3 top-1/2 -translate-y-1/2 text-base-content/40 hover:text-base-content transition-colors"},[f(g(J),{class:"w-4 h-4"})])):V("",!0)]),e("button",{class:"btn btn-primary join-item",onClick:p},[f(g(Be),{class:"w-4 h-4"}),m[8]||(m[8]=e("span",{class:"hidden sm:inline"},"Search",-1))]),e("button",{class:"btn btn-secondary join-item group",onClick:M,disabled:!P.value},[f(g(Ce),{class:"w-4 h-4 group-hover:rotate-180 transition-transform duration-300"}),m[9]||(m[9]=e("span",{class:"hidden sm:inline"},"Reset",-1))],8,Cn)])],2),f(ue,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2",class:"flex flex-wrap gap-2 mt-4"},{default:R(()=>[i.value?(l(),r("div",Dn,[m[10]||(m[10]=e("span",{class:"text-xs opacity-70"},"Search:",-1)),e("span",null,D(i.value),1),e("button",{onClick:v,class:"hover:text-error"},[f(g(J),{class:"w-3 h-3"})])])):V("",!0),$.value?(l(),r("div",Mn,[m[11]||(m[11]=e("span",{class:"text-xs opacity-70"},"Filter:",-1)),e("span",null,D(I.value),1),e("button",{onClick:m[4]||(m[4]=w=>$.value=""),class:"hover:text-error"},[f(g(J),{class:"w-3 h-3"})])])):V("",!0),d.value!==10?(l(),r("div",Sn,[m[12]||(m[12]=e("span",{class:"text-xs opacity-70"},"Show:",-1)),e("span",null,D(d.value)+" items",1),e("button",{onClick:m[5]||(m[5]=w=>d.value=10),class:"hover:text-error"},[f(g(J),{class:"w-3 h-3"})])])):V("",!0)]),_:1})])]))}}),Fn=Q(Vn,[["__scopeId","data-v-e2c29525"]]),Tn={class:"px-5 py-5 bg-base-200 border-t flex flex-col xs:flex-row items-center xs:justify-between"},Ln={class:"xs:text-sm text-primary font-bold text-sm md:text-lg"},In={class:"inline-flex mt-2 xs:mt-0"},Un={class:"btn-group"},An=["disabled"],jn=["onClick"],On={key:1,class:"btn btn-md btn-disabled"},Pn=["disabled"],Hn={__name:"pagination",props:{paginationInfo:{type:Object,default:()=>({currentPage:1,lastPage:1,perPage:10,total:0,links:[]})},endpoint:{type:String,default:""}},emits:["onPagiation"],setup(s,{emit:c}){const n=s,y=c,o=O(()=>n.paginationInfo.currentPage||1),d=O(()=>n.paginationInfo.lastPage||1),$=O(()=>n.paginationInfo.perPage||10),a=O(()=>n.paginationInfo.total||0),i=O(()=>{const b=o.value,t=d.value,v=2,p=b-v,M=b+v+1,_=[],x=[];let m;for(let w=1;w<=t;w++)(w===1||w===t||w>=p&&w<M)&&_.push(w);for(const w of _)m&&(w-m===2?x.push(m+1):w-m!==1&&x.push("...")),x.push(w),m=w;return x}),u=b=>{const t=n.endpoint+`?page=${b}`;y("onPagiation",t)},I=()=>{o.value<d.value&&u(o.value+1)},P=()=>{o.value>1&&u(o.value-1)};return(b,t)=>(l(),r("div",Tn,[e("span",Ln," Showing "+D(o.value)+" to "+D(Math.min(o.value*$.value,a.value))+" of "+D(a.value)+" Entries ",1),e("div",In,[e("div",Un,[e("button",{class:"btn btn-md",disabled:o.value===1,onClick:P}," Prev ",8,An),(l(!0),r(F,null,A(i.value,(v,p)=>(l(),r(F,{key:p},[typeof v=="number"?(l(),r("button",{key:0,class:L(["btn btn-md",{"btn-active":v===o.value}]),onClick:M=>u(v)},D(v),11,jn)):v==="..."?(l(),r("span",On," ... ")):V("",!0)],64))),128)),e("button",{class:"btn btn-md",disabled:o.value===d.value,onClick:I}," Next ",8,Pn)])])]))}},En={class:"field-renderer"},Bn={key:0,class:"flex -space-x-2"},Rn=["src","alt"],Nn={key:0,class:"w-8 h-8 rounded-full bg-base-300 border-2 border-base-100 flex items-center justify-center"},qn={class:"text-xs"},zn={key:1,class:"text-base-content/50"},Kn={key:2,class:"flex flex-col"},Yn={class:"text-sm"},Wn={class:"text-xs opacity-70"},Xn={key:3,class:"font-mono"},Qn={key:4,class:"flex flex-wrap gap-1"},Gn={class:"opacity-60 text-[10px] uppercase mr-1"},Jn={class:"font-medium"},Zn={key:1,class:"text-base-content/50"},eo={key:5,class:"font-mono"},to={key:6,class:"flex items-center justify-center"},so=["innerHTML"],ao={key:1,class:"text-base-content/50"},lo={key:7,class:"relative group"},no={key:0,class:"absolute z-50 bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"},oo={class:"bg-base-300 text-base-content px-3 py-2 rounded shadow-lg max-w-xs"},ro={__name:"FieldRenderer",props:{value:{type:[String,Number,Boolean,Array,Object],default:null},type:{type:String,default:"text"},options:{type:Object,default:()=>({})}},setup(s){const c=s,n=O(()=>Array.isArray(c.value)?c.value.slice(0,3):[]),y=O(()=>Array.isArray(c.value)?Math.max(0,c.value.length-3):0),o=O(()=>c.value&&typeof c.value=="object"&&!Array.isArray(c.value)),d=O(()=>c.value&&typeof c.value=="string"&&c.value.length>30);function $(t){var v;return t!=null&&t.url?typeof t.url=="string"?t.url:((v=t.url)==null?void 0:v.default)||"":""}function a(t){if(!t)return"‚Äî";try{return le(new Date(t),"MMM d, yyyy")}catch{return"‚Äî"}}function i(t){if(!t)return"";try{return vs(new Date(t),{addSuffix:!0})}catch{return""}}function u(t){if(t==null)return"‚Äî";try{return new Intl.NumberFormat().format(t)}catch{return"‚Äî"}}function I(t){if(t==null)return"‚Äî";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}catch{return"‚Äî"}}function P(t){return{status:"badge-info",type:"badge-warning",category:"badge-success",priority:"badge-error",label:"badge-primary"}[t.toLowerCase()]||"badge-neutral"}function b(t){return t==null||t===""?"‚Äî":String(t)}return(t,v)=>(l(),r("div",En,[s.type==="media"?(l(),r("div",Bn,[Array.isArray(s.value)&&s.value.length>0?(l(),r(F,{key:0},[(l(!0),r(F,null,A(n.value,(p,M)=>(l(),r("div",{key:M,class:"relative"},[p!=null&&p.url?(l(),r("img",{key:0,src:$(p),alt:(p==null?void 0:p.name)||`Image ${M+1}`,class:"w-8 h-8 rounded-full border-2 border-base-100 object-cover"},null,8,Rn)):V("",!0)]))),128)),y.value>0?(l(),r("div",Nn,[e("span",qn,"+"+D(y.value),1)])):V("",!0)],64)):(l(),r("div",zn,"‚Äî"))])):s.type==="boolean"?(l(),r("div",{key:1,class:L(["px-2 py-1 rounded-full text-xs font-medium inline-flex items-center gap-1",s.value?"bg-success/10 text-success":"bg-error/10 text-error"])},[e("div",{class:L(["w-1.5 h-1.5 rounded-full",s.value?"bg-success":"bg-error"])},null,2),B(" "+D(s.value?"Yes":"No"),1)],2)):s.type==="date"||s.type==="timestamp"?(l(),r("div",Kn,[e("span",Yn,D(a(s.value)),1),e("span",Wn,D(i(s.value)),1)])):s.type==="number"?(l(),r("div",Xn,D(u(s.value)),1)):s.type==="model_search"?(l(),r("div",Qn,[o.value?(l(!0),r(F,{key:0},A(s.value,(p,M)=>(l(),r("div",{key:M,class:L(["badge badge-sm",P(M)])},[e("span",Gn,D(M)+":",1),e("span",Jn,D(p),1)],2))),128)):(l(),r("span",Zn,"‚Äî"))])):s.type==="price"?(l(),r("div",eo,D(I(s.value)),1)):s.type==="icon"?(l(),r("div",to,[s.value?(l(),r("div",{key:0,class:"w-8 h-8 flex items-center justify-center",innerHTML:s.value},null,8,so)):(l(),r("span",ao,"‚Äî"))])):(l(),r("div",lo,[e("span",{class:L({"text-base-content/50":!s.value})},D(b(s.value)),3),d.value?(l(),r("div",no,[e("div",oo,D(s.value),1)])):V("",!0)]))]))}},io=Q(ro,[["__scopeId","data-v-096488e1"]]),ze={__name:"tableDataDisplay",props:{tableData:{type:Object,required:!0,default:()=>({})},columns:{type:Array,required:!0,default:()=>[]}},setup(s){return(c,n)=>(l(!0),r(F,null,A(s.columns,(y,o)=>(l(),r("td",{key:o,class:"p-4"},[f(io,{value:s.tableData[y.key],type:y.type||"text",options:y.options||{}},null,8,["value","type","options"])]))),128))}},co={class:"bg-base-100 rounded-xl shadow-lg p-4"},uo={class:"md:hidden w-full mb-4"},vo={class:"flex items-center gap-2"},fo={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},mo={class:"label"},po={class:"label-text"},bo={key:0,class:"relative"},ho=["onUpdate:modelValue"],yo=["value"],go=["onUpdate:modelValue"],xo=["onUpdate:modelValue"],_o=["value"],wo={key:3,class:"flex gap-2"},ko={class:"flex-1"},$o=["onUpdate:modelValue"],Co={class:"flex-1"},Do=["onUpdate:modelValue"],Mo=["onUpdate:modelValue","placeholder"],So={class:"flex flex-wrap gap-2 mt-4"},Vo={class:"text-xs opacity-70"},Fo=["onClick"],To={class:"flex justify-end gap-2 mt-4"},Lo=["disabled"],Io={__name:"AdvancedFilter",props:{columns:{type:Array,required:!0}},emits:["onFilterChange"],setup(s,{emit:c}){const n=s,y=c,o=S(!1),d=S({}),$=S({});n.columns.forEach(_=>{_.type==="date"&&(d.value[_.key]={from:"",to:""})});const a=O(()=>n.columns.filter(_=>_.filterable!==!1)),i=async _=>{try{const x=await ve.post(_.endpoint,{model:_.model,columns:_.columns});$.value[_.key]=x.data.data}catch(x){console.error("Error loading model options:",x)}},u=O(()=>Object.entries(d.value).reduce((_,[x,m])=>(m&&(typeof m=="string"?m.trim():m)&&(_[x]=m),_),{})),I=O(()=>Object.keys(u.value).length>0),P=_=>{const x=n.columns.find(m=>m.key===_);return x?x.label:_},b=(_,x)=>{var w,q;const m=n.columns.find(Y=>Y.key===_);if(!m)return x;switch(m.type){case"boolean":return x==="true"?"Yes":"No";case"date":return`${x.from} - ${x.to}`;case"select":const Y=(q=(w=m.options)==null?void 0:w.select_options)==null?void 0:q.find(G=>G.value===x);return Y?Y.label:x;default:return x}},t=()=>{y("onFilterChange",u.value)},v=_=>{var x;((x=n.columns.find(m=>m.key===_))==null?void 0:x.type)==="date"?d.value[_]={from:"",to:""}:d.value[_]="",t()},p=()=>{d.value={},n.columns.forEach(_=>{_.type==="date"&&(d.value[_.key]={from:"",to:""})}),t()},M=()=>{t()};return ye(()=>{n.columns.forEach(_=>{_.type==="model_search"&&_.filterable&&i(_)})}),(_,x)=>(l(),r("div",co,[e("div",uo,[e("button",{onClick:x[0]||(x[0]=m=>o.value=!o.value),class:"btn btn-ghost w-full justify-between"},[e("span",vo,[f(g(Xe),{class:"w-4 h-4 text-primary"}),e("span",null,D(o.value?"Hide Filters":"Show Filters"),1)]),f(g(ne),{class:L(["w-4 h-4",{"rotate-180":o.value}])},null,8,["class"])])]),e("div",{class:L(["space-y-4 transition-all duration-300",o.value?"block":"hidden md:block"])},[e("div",fo,[(l(!0),r(F,null,A(a.value,m=>(l(),r("div",{key:m.key,class:"form-control"},[e("label",mo,[e("span",po,D(m.label),1)]),m.type==="model_search"?(l(),r("div",bo,[z(e("select",{"onUpdate:modelValue":w=>d.value[m.key]=w,class:"select select-bordered w-full",onChange:t},[x[1]||(x[1]=e("option",{value:""},"All",-1)),(l(!0),r(F,null,A($.value[m.key],w=>(l(),r("option",{key:w.id,value:w.id},D(w[m.displayKey]),9,yo))),128))],40,ho),[[de,d.value[m.key]]])])):V("",!0),m.type==="boolean"?z((l(),r("select",{key:1,"onUpdate:modelValue":w=>d.value[m.key]=w,class:"select select-bordered w-full",onChange:t},x[2]||(x[2]=[e("option",{value:""},"All",-1),e("option",{value:"true"},"Yes",-1),e("option",{value:"false"},"No",-1)]),40,go)),[[de,d.value[m.key]]]):m.type==="select"&&m.options?z((l(),r("select",{key:2,"onUpdate:modelValue":w=>d.value[m.key]=w,class:"select select-bordered w-full",onChange:t},[x[3]||(x[3]=e("option",{value:""},"All",-1)),(l(!0),r(F,null,A(m.options.select_options,w=>(l(),r("option",{key:w.value,value:w.value},D(w.label),9,_o))),128))],40,xo)),[[de,d.value[m.key]]]):m.type==="date"?(l(),r("div",wo,[e("div",ko,[z(e("input",{type:"date","onUpdate:modelValue":w=>d.value[m.key].from=w,class:"input input-bordered w-full",onChange:t,placeholder:"From"},null,40,$o),[[oe,d.value[m.key].from]])]),e("div",Co,[z(e("input",{type:"date","onUpdate:modelValue":w=>d.value[m.key].to=w,class:"input input-bordered w-full",onChange:t,placeholder:"To"},null,40,Do),[[oe,d.value[m.key].to]])])])):z((l(),r("input",{key:4,type:"text","onUpdate:modelValue":w=>d.value[m.key]=w,class:"input input-bordered w-full",onInput:t,placeholder:`Filter by ${m.label}`},null,40,Mo)),[[oe,d.value[m.key]]])]))),128))]),e("div",So,[(l(!0),r(F,null,A(u.value,(m,w)=>(l(),r("div",{key:w,class:"badge badge-primary gap-2 p-3"},[e("span",Vo,D(P(w))+":",1),e("span",null,D(b(w,m)),1),e("button",{onClick:q=>v(w),class:"hover:text-error"},[f(g(J),{class:"w-3 h-3"})],8,Fo)]))),128))]),e("div",To,[e("button",{onClick:p,class:"btn btn-ghost gap-2",disabled:!I.value},[f(g(Ce),{class:"w-4 h-4"}),x[4]||(x[4]=B(" Reset Filters "))],8,Lo),e("button",{onClick:M,class:"btn btn-primary gap-2"},[f(g(Qe),{class:"w-4 h-4"}),x[5]||(x[5]=B(" Apply Filters "))])])],2)]))}},Uo={class:"w-full"},Ao={class:"relative flex flex-col bg-base-300 rounded-3xl shadow-lg transition-all duration-300 hover:shadow-xl"},jo={class:"flex flex-col sm:flex-row items-center justify-between p-6 border-b border-base-content/10"},Oo={class:"mb-4 sm:mb-0"},Po={class:"text-2xl md:text-3xl font-extrabold text-base-content flex items-center gap-3"},Ho={key:0,class:"text-base-content/70 text-sm mt-1"},Eo={class:"flex items-center gap-3"},Bo={class:"btn-group"},Ro={key:0,class:"absolute inset-0 bg-base-300/50 backdrop-blur-sm flex items-center justify-center z-50 rounded-3xl"},No={class:"p-6"},qo={class:"bg-base-100 rounded-xl overflow-hidden border border-base-content/10"},zo={key:0,class:"flex flex-col items-center justify-center p-12 text-center"},Ko={class:"text-base-content/70 mt-1"},Yo={key:1,class:"overflow-x-auto"},Wo={class:"table table-compact w-full"},Xo={class:"bg-base-200/50"},Qo=["onClick"],Go={class:"flex items-center gap-2"},Jo={key:0,class:"btn btn-ghost btn-xs btn-square opacity-50 hover:opacity-100"},Zo={class:"text-right"},er={class:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200"},tr={key:2,class:"divide-y divide-base-200"},sr={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ar={class:"text-sm font-medium text-base-content/70"},lr={class:"mt-4 flex justify-end gap-2"},nr={class:"mt-6"},or=se({__name:"Table",props:{tableTitle:{type:String,default:"Table"},columns:{type:Array,default:()=>[]},model:{type:String,required:!0},endpoint:{type:String,required:!0},endpointDelete:{type:String,required:!0},endpointCreate:{type:String,required:!0},endpointEdit:{type:String,required:!0},permission:{type:String,default:null},custom_edit_route:{type:String,default:null},defaultIdKey:{type:String,default:"id"}},setup(s){const c=s,n=S(!1),y=S([]),o=S({currentPage:1,lastPage:1,perPage:10,total:0,links:[]}),d=S(10),$=S(c.defaultIdKey),a=S(null),i=S(null),u=S("table"),I=O(()=>o.value.total),P=O(()=>i.value||$.value!=="id"||d.value!==10||a.value!==null),b=h=>$.value!==h?Lt:a.value==="asc"?ke:_e,t=h=>{$.value===h?a.value=a.value==="asc"?"desc":"asc":($.value=h,a.value="asc"),p()},v=S({}),p=async(h=c.endpoint)=>{var C,k;try{n.value=!0;const T=await ve.post(h,{model:c.model,columns:c.columns,perPage:d.value,search:i.value,sort:$.value,filters:v.value,direction:a.value,permission:c.permission});y.value=T.data.data,o.value={currentPage:T.data.current_page,lastPage:T.data.last_page,perPage:T.data.per_page,total:T.data.total,links:T.data.links}}catch(T){(k=(C=T.response)==null?void 0:C.data)!=null&&k.errors?Object.values(T.response.data.errors).forEach(E=>{Array.isArray(E)&&E.forEach(W=>{K("error",W)})}):K("error","Failed to fetch data")}finally{n.value=!1}},M=()=>{d.value=10,$.value="id",a.value=null,i.value=null,p()},_=()=>p(),x=h=>p(h),m=h=>{d.value=h,p()},w=h=>{v.value=h,p()},q=h=>{$.value=h,p()},Y=h=>{a.value=h,p()},G=h=>{h&&h.length>2&&(i.value=h,p())},ae=h=>{d.value=h.perPage,$.value=h.filterBy,a.value=h.orderBy,i.value=h.search,p()};return p(),(h,C)=>(l(),r("div",Uo,[e("div",Ao,[e("div",jo,[e("div",Oo,[e("h1",Po,[f(g(je),{class:"w-8 h-8 text-primary"}),B(" "+D(c.tableTitle),1)]),I.value?(l(),r("p",Ho," Showing "+D(I.value.toLocaleString())+" items ",1)):V("",!0)]),e("div",Eo,[e("div",Bo,[e("button",{onClick:C[0]||(C[0]=k=>u.value="table"),class:L(["btn btn-sm",u.value==="table"?"btn-primary":"btn-ghost"])},[f(g(je),{class:"w-4 h-4"}),C[2]||(C[2]=e("span",{class:"hidden sm:inline ml-2"},"Table",-1))],2),e("button",{onClick:C[1]||(C[1]=k=>u.value="list"),class:L(["btn btn-sm",u.value==="list"?"btn-primary":"btn-ghost"])},[f(g(We),{class:"w-4 h-4"}),C[3]||(C[3]=e("span",{class:"hidden sm:inline ml-2"},"List",-1))],2)]),Me(h.$slots,"custom-actions",{},void 0,!0),Me(h.$slots,"new",{},()=>[f(bl,{columns:c.columns,endpoint:c.endpointCreate,model:c.model,permission:c.permission,onOnCreate:_},null,8,["columns","endpoint","model","permission"])],!0)])]),f(Fn,{onOnPerPage:m,onOnOrderBy:Y,onOnSearch:G,onOnFilter:q,onOnFilterReset:ae,columns:c.columns},null,8,["columns"]),f(Io,{columns:c.columns,onOnFilterChange:w},null,8,["columns"]),n.value?(l(),r("div",Ro,C[4]||(C[4]=[e("div",{class:"flex flex-col items-center gap-4"},[e("div",{class:"loading loading-spinner loading-lg text-primary"}),e("p",{class:"text-base-content/70"},"Loading data...")],-1)]))):V("",!0),e("div",No,[e("div",qo,[!y.value.length&&!n.value?(l(),r("div",zo,[f(g(Tt),{class:"w-16 h-16 text-base-content/20"}),C[6]||(C[6]=e("h3",{class:"text-lg font-semibold text-base-content mt-4"}," No Records Found ",-1)),e("p",Ko,D(i.value?"Try adjusting your search or filters":"No data available"),1),P.value?(l(),r("button",{key:0,onClick:M,class:"btn btn-ghost btn-sm gap-2 mt-4"},[f(g(Ce),{class:"w-4 h-4"}),C[5]||(C[5]=B(" Reset Filters "))])):V("",!0)])):u.value==="table"?(l(),r("div",Yo,[e("table",Wo,[e("thead",Xo,[e("tr",null,[(l(!0),r(F,null,A(s.columns,(k,T)=>(l(),r("th",{key:T,onClick:E=>k.sortable&&t(k.key),class:L(["text-base-content",{"cursor-pointer hover:bg-base-200":k.sortable}])},[e("div",Go,[B(D(k.label)+" ",1),k.sortable?(l(),r("button",Jo,[(l(),N(te(b(k.key)),{class:"w-4 h-4"}))])):V("",!0)])],10,Qo))),128)),C[7]||(C[7]=e("th",{class:"text-base-content text-right"},"Actions",-1))])]),e("tbody",null,[(l(!0),r(F,null,A(y.value,(k,T)=>(l(),r("tr",{key:k.id||T,class:"hover:bg-base-200/50 transition-colors duration-200 group"},[f(ze,{tableData:k,columns:s.columns},null,8,["tableData","columns"]),e("td",Zo,[e("div",er,[s.custom_edit_route?(l(),N(g(Se),{key:1,href:s.custom_edit_route+k.id,class:"btn btn-primary btn-sm gap-2"},{default:R(()=>[f(g(we),{class:"w-4 h-4"}),C[8]||(C[8]=e("span",{class:"hidden sm:inline"},"Edit",-1))]),_:2},1032,["href"])):(l(),N(qe,{key:0,columns:s.columns,endpoint:s.endpointEdit,model:s.model,modelValue:k,id:k[c.defaultIdKey],permission:s.permission,onOnEdit:_},null,8,["columns","endpoint","model","modelValue","id","permission"])),f(Re,{id:k[c.defaultIdKey],endpoint:s.endpointDelete,model:s.model,permission:s.permission,onOnDelete:_},null,8,["id","endpoint","model","permission"])])])]))),128))])])])):(l(),r("div",tr,[(l(!0),r(F,null,A(y.value,(k,T)=>(l(),r("div",{key:k.id||T,class:"p-4 hover:bg-base-200/50 transition-colors duration-200"},[e("div",sr,[(l(!0),r(F,null,A(s.columns,(E,W)=>(l(),r("div",{key:W,class:"space-y-1"},[e("div",ar,D(E.label),1),f(ze,{tableData:{[E.key]:k[E.key]},columns:[E]},null,8,["tableData","columns"])]))),128))]),e("div",lr,[s.custom_edit_route?(l(),N(g(Se),{key:1,href:s.custom_edit_route+k.id,class:"btn btn-primary btn-sm gap-2"},{default:R(()=>[f(g(we),{class:"w-4 h-4"}),C[9]||(C[9]=e("span",{class:"hidden sm:inline"},"Edit",-1))]),_:2},1032,["href"])):(l(),N(qe,{key:0,columns:s.columns,endpoint:s.endpointEdit,model:s.model,modelValue:k,id:k[c.defaultIdKey],permission:s.permission,onOnEdit:_},null,8,["columns","endpoint","model","modelValue","id","permission"])),f(Re,{id:k[c.defaultIdKey],endpoint:s.endpointDelete,model:s.model,permission:s.permission,onOnDelete:_},null,8,["id","endpoint","model","permission"])])]))),128))]))]),e("div",nr,[y.value.length?(l(),N(Hn,{key:0,onOnPagiation:x,paginationInfo:o.value,endpoint:s.endpoint},null,8,["paginationInfo","endpoint"])):V("",!0)])])])]))}}),Ar=Q(or,[["__scopeId","data-v-a1dd5ddd"]]);export{Ar as T};
