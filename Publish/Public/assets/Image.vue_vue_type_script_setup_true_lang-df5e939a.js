import{x as V,a as u,bD as M,o as l,g as a,d as e,t as m,A as B,by as D,u as n,i as I,v as h,F as v,y as b,z as L}from"./preset-449c2603.js";const S={class:"form-control"},j={class:"label"},A={class:"block text-lg font-bold mb-2"},E=["name","id","placeholder"],F={key:0,class:"invalid-feedback text-primary mt-2",role:"alert"},N={key:1,class:"mt-3 bg-base-100 rounded"},z=e("div",{class:"px-2 py-3 bg-primary text-white rounded-t"},[e("strong",null,"Available Items")],-1),H={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 p-2 bg-dark-100"},K=["onClick"],R=["src"],T={class:"text-lg font-bold"},U=e("button",{class:"btn btn-success mt-2 w-full"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mt-2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])],-1),$={key:2,class:"mt-3 bg-base-300 rounded"},q=e("div",{class:"px-2 py-3 bg-primary text-white rounded-t"},[e("strong",null,"Selected Items")],-1),G={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 p-2"},J=["src"],O={class:"text-lg font-bold"},P=["onClick"],Q=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mt-2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),W=[Q],Y=V({__name:"Image",props:{label:{},name:{},id:{},placeholder:{},modelValue:{},endpoint:{},loadData:{}},emits:["update:modelValue"],setup(f,{emit:w}){const r=f;let d=u(""),c=u({data:[]}),o=u(r.modelValue||[]),p=u(null);M(()=>{o.value=r.loadData||[]});const _=w,x=()=>{L.post(r.endpoint,{search:d.value}).then(s=>{c.value=s.data}).catch(s=>{p.value=s.message})},k=s=>{o.value.find(i=>i.id===s.id)||(o.value.push(s),_("update:modelValue",o.value)),c.value={data:[]}},y=s=>{o.value.splice(s,1),_("update:modelValue",o.value)};return(s,i)=>(l(),a("div",S,[e("label",j,[e("span",A,m(r.label),1)]),B(e("input",{class:"input input-primary input-bordered",name:r.name,id:r.id,placeholder:r.placeholder,"onUpdate:modelValue":i[0]||(i[0]=t=>I(d)?d.value=t:d=t),autocomplete:"off",onKeyup:x},null,40,E),[[D,n(d)]]),n(p)?(l(),a("span",F,[e("strong",null,m(n(p)),1)])):h("",!0),n(c).data[0]?(l(),a("div",N,[z,e("div",H,[(l(!0),a(v,null,b(n(c).data,(t,g)=>(l(),a("div",{class:"flex flex-col items-center border border-success p-3 hover:text-white rounded cursor-pointer",key:t.id,onClick:C=>k(t)},[e("img",{src:t.url.default,class:"h-60 w-auto mb-2"},null,8,R),e("strong",T,m(t.name),1),U],8,K))),128))])])):h("",!0),n(o).length>0?(l(),a("div",$,[q,e("div",G,[(l(!0),a(v,null,b(n(o),(t,g)=>(l(),a("div",{class:"flex flex-col items-center border border-error p-3 hover:text-white rounded cursor-pointer",key:t.id},[e("img",{src:t.url.default,class:"h-60 w-auto mb-2"},null,8,J),e("strong",O,m(t.name),1),e("button",{onClick:C=>y(g),class:"btn btn-error mt-2 w-full"},W,8,P)]))),128))])])):h("",!0)]))}});export{Y as _};
