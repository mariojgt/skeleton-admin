import{y as P,bZ as D,a as f,o as r,g as d,u as g,Q as j,f as E,d as e,E as x,G as $,i as y,H as L,v as w,z as h,t as _,l as k,x as A,b,e as C,w as S,$ as U,X as I,F as B,s as v}from"./preset-59cdb044.js";import{_ as M}from"./App.vue_vue_type_script_setup_true_lang-5d036acb.js";import{_ as q}from"./PostCard-5b187981.js";import{_ as R}from"./Pagination-4d5568cd.js";import{a as z}from"./axios-d44f9c8c.js";import"./index.esm-df9f2d71.js";import"./FlashMessage-70556e4e.js";import"./ReusableModal-023b7711.js";import"./micro-task-f32ab903.js";import"./keyboard-9c71fe26.js";import"./hidden-a002ee06.js";import"./open-closed-ddebb77a.js";import"./SearchSidebar-ed476845.js";import"./dynamicIcon.vue_vue_type_script_setup_true_lang-9716a120.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Input.vue_vue_type_script_setup_true_lang-c3b4d3bc.js";import"./Password-37ecdc94.js";import"./dark-fe9bd6e8.js";import"./UserSimpleDisplay-91d28db7.js";const O={class:"fixed bottom-0 left-1/2 transform -translate-x-1/2 p-4 border border-gray-700 rounded-lg bg-dark-blue-100 text-white w-2/4"},Y=["value"],G=P({__name:"Post",props:{commentClass:{type:String,default:"w-full rounded-lg"},categories:{type:Array,default:()=>[]}},emits:["fresh-comments","close"],setup(a,{emit:u}){const i=D(),m=a;let o=f(""),t=f(""),n=f("");const c=u,F=async()=>{var s,l;const T={title:t.value,content:o.value,category:n.value};if(t.value===""||o.value===""||n.value===""){i.error("All fields are required");return}try{const p=await z.post(route("forum.thread.create"),T);i.success(p.data.message),o.value="",t.value="",n.value="",c("fresh-comments"),c("close")}catch(p){(l=(s=p.response)==null?void 0:s.data)!=null&&l.errors&&Object.values(p.response.data.errors).forEach(V=>{i.error(V[0])})}},N=()=>{c("close")};return(T,s)=>(r(),d("div",O,[g(j)().props.isUserAuth?(r(),d("form",{key:0,onSubmit:E(F,["prevent"])},[e("div",{class:k(m.commentClass)},[s[6]||(s[6]=e("label",{for:"commentTitle",class:"text-xl font-bold"},"Add a Title",-1)),x(e("input",{id:"commentTitle","onUpdate:modelValue":s[0]||(s[0]=l=>y(t)?t.value=l:t=l),type:"text",placeholder:"Enter a title",class:"input input-bordered w-full bg-gray-800 text-white mt-2"},null,512),[[$,g(t)]]),s[7]||(s[7]=e("label",{for:"channel",class:"text-xl font-bold mb-2"},"Select Topic",-1)),x(e("select",{id:"channel","onUpdate:modelValue":s[1]||(s[1]=l=>y(n)?n.value=l:n=l),class:"select select-bordered w-full bg-gray-800 text-white mt-2"},[s[3]||(s[3]=e("option",{value:""},"Select Channel",-1)),(r(!0),d(w,null,h(a.categories,l=>(r(),d("option",{key:l.id,value:l.slug},_(l.name),9,Y))),128))],512),[[L,g(n)]]),s[8]||(s[8]=e("label",{for:"comment",class:"text-xl font-bold mb-2"},"Your Comment",-1)),x(e("textarea",{id:"comment","onUpdate:modelValue":s[2]||(s[2]=l=>y(o)?o.value=l:o=l),placeholder:"Write your comment here...",class:"textarea textarea-bordered w-full h-24 bg-gray-800 text-white mt-2"},null,512),[[$,g(o)]]),e("div",{class:"flex justify-between"},[s[5]||(s[5]=e("h5",{class:"text-sm"},"Please follow the guidelines",-1)),e("div",{class:"mt-2 flex justify-end gap-3"},[e("button",{type:"button",onClick:N,class:"btn btn-primary mt-2"}," Cancel "),s[4]||(s[4]=e("button",{type:"submit",class:"btn btn-secondary mt-2"}," Submit ",-1))])])],2)],32)):A("",!0)]))}}),H={class:"mt-3 bg-dark-100 rounded-lg"},J={__name:"PostBox",props:{modelId:{type:Number,required:!0},modelClass:{type:String,required:!0},categories:{type:Array,default:()=>[]}},setup(a){const u=f(!1),i=a,m=()=>{setTimeout(()=>{B.reload({only:["comments"]})},1e3)};return(o,t)=>(r(),d("section",H,[e("button",{onClick:t[0]||(t[0]=n=>u.value=!u.value),class:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold py-2 px-4 rounded-lg mb-6"}," New Discussion "),(r(),b(I,{to:"body"},[C(U,{name:"fade"},{default:S(()=>[u.value?(r(),b(G,{key:0,"model-class":i.modelClass,"model-id":i.modelId,onFreshComments:m,onClose:t[1]||(t[1]=n=>u.value=!1),categories:i.categories},null,8,["model-class","model-id","categories"])):A("",!0)]),_:1})]))]))}},Q={class:"bg-dark-200 py-8 px-4 mx-auto lg:py-16 lg:px-6"},W={class:"flex gap-8"},X={class:"hidden lg:block w-1/4 bg-dark-100 p-4 rounded-lg"},Z={class:"space-y-4"},K=["onClick"],ee={key:0,class:"w-2 h-2 rounded-full bg-gradient-to-r from-red-500 to-blue-600"},te={key:1,class:"w-2 h-2 rounded-full bg-dark-200"},se={class:"flex-1"},oe={class:"grid grid-cols-1 gap-4"},Ce=P({__name:"Index",props:{forumPosts:{type:Object,default:()=>({})},categories:{type:Array,default:()=>[]},topic:{type:String,default:"all"}},setup(a){const u=a,i=async m=>{m&&await B.get(route("forum.index",{topic:m}),{preserveState:!0,preserveScroll:!0,only:["forumPosts"]})};return(m,o)=>(r(),b(M,{backgroundFooterClass:"bg-dark-100",headerBackground:"bg-dark-100"},{default:S(()=>[e("section",Q,[o[4]||(o[4]=e("div",{class:"flex justify-between items-center mb-8"},[e("h2",{class:"text-white text-4xl lg:text-6xl font-extrabold drop-shadow-lg"}," Forum "),e("div",{class:"flex items-center gap-4"},[e("button",{class:"btn btn-primary"},"New Discussion"),e("select",{class:"select select-bordered bg-dark-100 text-white"},[e("option",null,"Latest"),e("option",null,"Popular")])])],-1)),e("div",W,[e("aside",X,[C(J,{modelId:2,modelClass:"blog",class:"mt-8 p-4 bg-dark-300 rounded-lg shadow-md",categories:a.categories},{default:S(()=>o[1]||(o[1]=[v(" Discuss this news ")])),_:1},8,["categories"]),e("nav",null,[e("ul",Z,[e("li",{class:k(["flex items-center gap-2 text-sm font-bold rounded-lg p-2 cursor-pointer",{"bg-dark-300 text-white":a.topic==="all","bg-dark-200 text-neutral-400 hover:text-white":a.topic!=="all"}]),onClick:o[0]||(o[0]=t=>i("all"))},o[2]||(o[2]=[e("span",{class:"w-2 h-2 rounded-full bg-gradient-to-r from-blue-500 to-purple-600"},null,-1),v(" All Threads ")]),2),(r(!0),d(w,null,h(a.categories,(t,n)=>(r(),d("li",{key:n,class:k(["flex items-center gap-2 text-sm rounded-lg p-2 cursor-pointer",{"bg-dark-300 text-white":a.topic===t.slug,"bg-dark-200 text-neutral-400 hover:text-white":a.topic!==t.slug}]),onClick:c=>i(t.slug)},[a.topic===t.slug?(r(),d("span",ee)):(r(),d("span",te)),v(" "+_(t.name),1)],10,K))),128))])])]),e("main",se,[e("div",oe,[(r(!0),d(w,null,h(u.forumPosts.data,(t,n)=>(r(),b(q,{key:n,record:t},null,8,["record"]))),128))]),C(R,{pagination:u.forumPosts.meta},null,8,["pagination"])]),o[3]||(o[3]=e("aside",{class:"hidden lg:block w-1/4 space-y-4"},[e("div",{class:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 rounded-lg text-white"},[e("h3",{class:"text-xl font-bold"},"Level Up Your Programming"),e("p",null,"$25 a month for everything we know about programming!"),e("button",{class:"btn btn-secondary mt-4"},"Join The Dev Realm Today")]),e("div",{class:"bg-dark-100 p-6 rounded-lg"},[e("h3",{class:"text-xl font-bold text-white"},"Let's Build a SaaS in Laravel"),e("p",{class:"text-neutral mt-2"},"Endless tutorials online for how to build a SaaS..."),e("button",{class:"btn btn-primary mt-4"},"Recommended Series")])],-1))])])]),_:1}))}});export{Ce as default};
